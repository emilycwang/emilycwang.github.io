function VP(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function WP(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var jP={exports:{}},cv={},XP={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=Symbol.for("react.element"),ZN=Symbol.for("react.portal"),$N=Symbol.for("react.fragment"),eU=Symbol.for("react.strict_mode"),tU=Symbol.for("react.profiler"),nU=Symbol.for("react.provider"),iU=Symbol.for("react.context"),rU=Symbol.for("react.forward_ref"),sU=Symbol.for("react.suspense"),oU=Symbol.for("react.memo"),aU=Symbol.for("react.lazy"),P2=Symbol.iterator;function lU(n){return n===null||typeof n!="object"?null:(n=P2&&n[P2]||n["@@iterator"],typeof n=="function"?n:null)}var JP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KP=Object.assign,YP={};function rf(n,e,t){this.props=n,this.context=e,this.refs=YP,this.updater=t||JP}rf.prototype.isReactComponent={};rf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};rf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function QP(){}QP.prototype=rf.prototype;function vA(n,e,t){this.props=n,this.context=e,this.refs=YP,this.updater=t||JP}var yA=vA.prototype=new QP;yA.constructor=vA;KP(yA,rf.prototype);yA.isPureReactComponent=!0;var I2=Array.isArray,qP=Object.prototype.hasOwnProperty,xA={current:null},ZP={key:!0,ref:!0,__self:!0,__source:!0};function $P(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qP.call(e,i)&&!ZP.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:wh,type:n,key:s,ref:o,props:r,_owner:xA.current}}function uU(n,e){return{$$typeof:wh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function _A(n){return typeof n=="object"&&n!==null&&n.$$typeof===wh}function cU(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var B2=/\/+/g;function Mx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?cU(""+n.key):e.toString(36)}function ag(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case wh:case ZN:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Mx(o,0):i,I2(r)?(t="",n!=null&&(t=n.replace(B2,"$&/")+"/"),ag(r,e,t,"",function(u){return u})):r!=null&&(_A(r)&&(r=uU(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(B2,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",I2(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Mx(s,a);o+=ag(s,e,t,l,r)}else if(l=lU(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Mx(s,a++),o+=ag(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hp(n,e,t){if(n==null)return n;var i=[],r=0;return ag(n,i,"","",function(s){return e.call(t,s,r++)}),i}function fU(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var er={current:null},lg={transition:null},dU={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:lg,ReactCurrentOwner:xA};function e3(){throw Error("act(...) is not supported in production builds of React.")}en.Children={map:Hp,forEach:function(n,e,t){Hp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Hp(n,function(){e++}),e},toArray:function(n){return Hp(n,function(e){return e})||[]},only:function(n){if(!_A(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};en.Component=rf;en.Fragment=$N;en.Profiler=tU;en.PureComponent=vA;en.StrictMode=eU;en.Suspense=sU;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dU;en.act=e3;en.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=KP({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)qP.call(e,l)&&!ZP.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:wh,type:n.type,key:r,ref:s,props:i,_owner:o}};en.createContext=function(n){return n={$$typeof:iU,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:nU,_context:n},n.Consumer=n};en.createElement=$P;en.createFactory=function(n){var e=$P.bind(null,n);return e.type=n,e};en.createRef=function(){return{current:null}};en.forwardRef=function(n){return{$$typeof:rU,render:n}};en.isValidElement=_A;en.lazy=function(n){return{$$typeof:aU,_payload:{_status:-1,_result:n},_init:fU}};en.memo=function(n,e){return{$$typeof:oU,type:n,compare:e===void 0?null:e}};en.startTransition=function(n){var e=lg.transition;lg.transition={};try{n()}finally{lg.transition=e}};en.unstable_act=e3;en.useCallback=function(n,e){return er.current.useCallback(n,e)};en.useContext=function(n){return er.current.useContext(n)};en.useDebugValue=function(){};en.useDeferredValue=function(n){return er.current.useDeferredValue(n)};en.useEffect=function(n,e){return er.current.useEffect(n,e)};en.useId=function(){return er.current.useId()};en.useImperativeHandle=function(n,e,t){return er.current.useImperativeHandle(n,e,t)};en.useInsertionEffect=function(n,e){return er.current.useInsertionEffect(n,e)};en.useLayoutEffect=function(n,e){return er.current.useLayoutEffect(n,e)};en.useMemo=function(n,e){return er.current.useMemo(n,e)};en.useReducer=function(n,e,t){return er.current.useReducer(n,e,t)};en.useRef=function(n){return er.current.useRef(n)};en.useState=function(n){return er.current.useState(n)};en.useSyncExternalStore=function(n,e,t){return er.current.useSyncExternalStore(n,e,t)};en.useTransition=function(){return er.current.useTransition()};en.version="18.3.1";XP.exports=en;var G=XP.exports;const t3=uv(G),hU=VP({__proto__:null,default:t3},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pU=G,mU=Symbol.for("react.element"),gU=Symbol.for("react.fragment"),vU=Object.prototype.hasOwnProperty,yU=pU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xU={key:!0,ref:!0,__self:!0,__source:!0};function n3(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)vU.call(e,i)&&!xU.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:mU,type:n,key:s,ref:o,props:r,_owner:yU.current}}cv.Fragment=gU;cv.jsx=n3;cv.jsxs=n3;jP.exports=cv;var me=jP.exports,wS={},i3={exports:{}},Nr={},r3={exports:{}},s3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,K){var Y=F.length;F.push(K);e:for(;0<Y;){var ae=Y-1>>>1,_e=F[ae];if(0<r(_e,K))F[ae]=K,F[Y]=_e,Y=ae;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],Y=F.pop();if(Y!==K){F[0]=Y;e:for(var ae=0,_e=F.length,De=_e>>>1;ae<De;){var it=2*(ae+1)-1,se=F[it],Te=it+1,Ce=F[Te];if(0>r(se,Y))Te<_e&&0>r(Ce,se)?(F[ae]=Ce,F[Te]=Y,ae=Te):(F[ae]=se,F[it]=Y,ae=it);else if(Te<_e&&0>r(Ce,Y))F[ae]=Ce,F[Te]=Y,ae=Te;else break e}}return K}function r(F,K){var Y=F.sortIndex-K.sortIndex;return Y!==0?Y:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var K=t(u);K!==null;){if(K.callback===null)i(u);else if(K.startTime<=F)i(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(u)}}function w(F){if(_=!1,A(F),!v)if(t(l)!==null)v=!0,ie(C);else{var K=t(u);K!==null&&re(w,K.startTime-F)}}function C(F,K){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var Y=p;try{for(A(K),h=t(l);h!==null&&(!(h.expirationTime>K)||F&&!D());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var _e=ae(h.expirationTime<=K);K=n.unstable_now(),typeof _e=="function"?h.callback=_e:h===t(l)&&i(l),A(K)}else i(l);h=t(l)}if(h!==null)var De=!0;else{var it=t(u);it!==null&&re(w,it.startTime-K),De=!1}return De}finally{h=null,p=Y,m=!1}}var P=!1,b=null,B=-1,R=5,T=-1;function D(){return!(n.unstable_now()-T<R)}function z(){if(b!==null){var F=n.unstable_now();T=F;var K=!0;try{K=b(!0,F)}finally{K?V():(P=!1,b=null)}}else P=!1}var V;if(typeof S=="function")V=function(){S(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=z,V=function(){ne.postMessage(null)}}else V=function(){x(z,0)};function ie(F){b=F,P||(P=!0,V())}function re(F,K){B=x(function(){F(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Y=p;p=K;try{return F()}finally{p=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=p;p=F;try{return K()}finally{p=Y}},n.unstable_scheduleCallback=function(F,K,Y){var ae=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,F){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=Y+_e,F={id:d++,callback:K,priorityLevel:F,startTime:Y,expirationTime:_e,sortIndex:-1},Y>ae?(F.sortIndex=Y,e(u,F),t(l)===null&&F===t(u)&&(_?(g(B),B=-1):_=!0,re(w,Y-ae))):(F.sortIndex=_e,e(l,F),v||m||(v=!0,ie(C))),F},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(F){var K=p;return function(){var Y=p;p=K;try{return F.apply(this,arguments)}finally{p=Y}}}})(s3);r3.exports=s3;var _U=r3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SU=G,Dr=_U;function Fe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o3=new Set,Gd={};function tu(n,e){bc(n,e),bc(n+"Capture",e)}function bc(n,e){for(Gd[n]=e,n=0;n<e.length;n++)o3.add(e[n])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ES=Object.prototype.hasOwnProperty,AU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D2={},L2={};function MU(n){return ES.call(L2,n)?!0:ES.call(D2,n)?!1:AU.test(n)?L2[n]=!0:(D2[n]=!0,!1)}function wU(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function EU(n,e,t,i){if(e===null||typeof e>"u"||wU(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ti[n]=new tr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ti[e]=new tr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ti[n]=new tr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ti[n]=new tr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ti[n]=new tr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ti[n]=new tr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ti[n]=new tr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ti[n]=new tr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ti[n]=new tr(n,5,!1,n.toLowerCase(),null,!1,!1)});var SA=/[\-:]([a-z])/g;function AA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(SA,AA);Ti[e]=new tr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(SA,AA);Ti[e]=new tr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(SA,AA);Ti[e]=new tr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ti[n]=new tr(n,1,!1,n.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ti[n]=new tr(n,1,!1,n.toLowerCase(),null,!0,!0)});function MA(n,e,t,i){var r=Ti.hasOwnProperty(e)?Ti[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EU(e,t,r,i)&&(t=null),i||r===null?MU(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Uo=SU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gp=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),TS=Symbol.for("react.profiler"),a3=Symbol.for("react.provider"),l3=Symbol.for("react.context"),EA=Symbol.for("react.forward_ref"),CS=Symbol.for("react.suspense"),bS=Symbol.for("react.suspense_list"),TA=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),u3=Symbol.for("react.offscreen"),O2=Symbol.iterator;function Ff(n){return n===null||typeof n!="object"?null:(n=O2&&n[O2]||n["@@iterator"],typeof n=="function"?n:null)}var kn=Object.assign,wx;function ud(n){if(wx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);wx=e&&e[1]||""}return`
`+wx+n}var Ex=!1;function Tx(n,e){if(!n||Ex)return"";Ex=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ex=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ud(n):""}function TU(n){switch(n.tag){case 5:return ud(n.type);case 16:return ud("Lazy");case 13:return ud("Suspense");case 19:return ud("SuspenseList");case 0:case 2:case 15:return n=Tx(n.type,!1),n;case 11:return n=Tx(n.type.render,!1),n;case 1:return n=Tx(n.type,!0),n;default:return""}}function RS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case qu:return"Fragment";case Qu:return"Portal";case TS:return"Profiler";case wA:return"StrictMode";case CS:return"Suspense";case bS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case l3:return(n.displayName||"Context")+".Consumer";case a3:return(n._context.displayName||"Context")+".Provider";case EA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case TA:return e=n.displayName||null,e!==null?e:RS(n.type)||"Memo";case aa:e=n._payload,n=n._init;try{return RS(n(e))}catch{}}return null}function CU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RS(e);case 8:return e===wA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ta(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function c3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bU(n){var e=c3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Vp(n){n._valueTracker||(n._valueTracker=bU(n))}function f3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=c3(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function bg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function PS(n,e){var t=e.checked;return kn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function F2(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ta(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d3(n,e){e=e.checked,e!=null&&MA(n,"checked",e,!1)}function IS(n,e){d3(n,e);var t=Ta(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?BS(n,e.type,t):e.hasOwnProperty("defaultValue")&&BS(n,e.type,Ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function N2(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function BS(n,e,t){(e!=="number"||bg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var cd=Array.isArray;function gc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ta(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function DS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return kn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function U2(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Fe(92));if(cd(t)){if(1<t.length)throw Error(Fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ta(t)}}function h3(n,e){var t=Ta(e.value),i=Ta(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function k2(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function p3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?p3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Wp,m3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Wp=Wp||document.createElement("div"),Wp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Vd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var _d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RU=["Webkit","ms","Moz","O"];Object.keys(_d).forEach(function(n){RU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),_d[e]=_d[n]})});function g3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||_d.hasOwnProperty(n)&&_d[n]?(""+e).trim():e+"px"}function v3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=g3(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var PU=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function OS(n,e){if(e){if(PU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function FS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NS=null;function CA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var US=null,vc=null,yc=null;function z2(n){if(n=Ch(n)){if(typeof US!="function")throw Error(Fe(280));var e=n.stateNode;e&&(e=mv(e),US(n.stateNode,n.type,e))}}function y3(n){vc?yc?yc.push(n):yc=[n]:vc=n}function x3(){if(vc){var n=vc,e=yc;if(yc=vc=null,z2(n),e)for(n=0;n<e.length;n++)z2(e[n])}}function _3(n,e){return n(e)}function S3(){}var Cx=!1;function A3(n,e,t){if(Cx)return n(e,t);Cx=!0;try{return _3(n,e,t)}finally{Cx=!1,(vc!==null||yc!==null)&&(S3(),x3())}}function Wd(n,e){var t=n.stateNode;if(t===null)return null;var i=mv(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Fe(231,e,typeof t));return t}var kS=!1;if(Po)try{var Nf={};Object.defineProperty(Nf,"passive",{get:function(){kS=!0}}),window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{kS=!1}function IU(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Sd=!1,Rg=null,Pg=!1,zS=null,BU={onError:function(n){Sd=!0,Rg=n}};function DU(n,e,t,i,r,s,o,a,l){Sd=!1,Rg=null,IU.apply(BU,arguments)}function LU(n,e,t,i,r,s,o,a,l){if(DU.apply(this,arguments),Sd){if(Sd){var u=Rg;Sd=!1,Rg=null}else throw Error(Fe(198));Pg||(Pg=!0,zS=u)}}function nu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function M3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function H2(n){if(nu(n)!==n)throw Error(Fe(188))}function OU(n){var e=n.alternate;if(!e){if(e=nu(n),e===null)throw Error(Fe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return H2(r),n;if(s===i)return H2(r),e;s=s.sibling}throw Error(Fe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(t.alternate!==i)throw Error(Fe(190))}if(t.tag!==3)throw Error(Fe(188));return t.stateNode.current===t?n:e}function w3(n){return n=OU(n),n!==null?E3(n):null}function E3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=E3(n);if(e!==null)return e;n=n.sibling}return null}var T3=Dr.unstable_scheduleCallback,G2=Dr.unstable_cancelCallback,FU=Dr.unstable_shouldYield,NU=Dr.unstable_requestPaint,Kn=Dr.unstable_now,UU=Dr.unstable_getCurrentPriorityLevel,bA=Dr.unstable_ImmediatePriority,C3=Dr.unstable_UserBlockingPriority,Ig=Dr.unstable_NormalPriority,kU=Dr.unstable_LowPriority,b3=Dr.unstable_IdlePriority,fv=null,js=null;function zU(n){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(fv,n,void 0,(n.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:VU,HU=Math.log,GU=Math.LN2;function VU(n){return n>>>=0,n===0?32:31-(HU(n)/GU|0)|0}var jp=64,Xp=4194304;function fd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Bg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=fd(a):(s&=o,s!==0&&(i=fd(s)))}else o=t&~r,o!==0?i=fd(o):s!==0&&(i=fd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ws(e),r=1<<t,i|=n[t],e&=~r;return i}function WU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jU(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ws(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=WU(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function HS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function R3(){var n=jp;return jp<<=1,!(jp&4194240)&&(jp=64),n}function bx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Eh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ws(e),n[e]=t}function XU(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ws(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function RA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ws(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var vn=0;function P3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var I3,PA,B3,D3,L3,GS=!1,Jp=[],va=null,ya=null,xa=null,jd=new Map,Xd=new Map,ca=[],JU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V2(n,e){switch(n){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":jd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xd.delete(e.pointerId)}}function Uf(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ch(e),e!==null&&PA(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function KU(n,e,t,i,r){switch(e){case"focusin":return va=Uf(va,n,e,t,i,r),!0;case"dragenter":return ya=Uf(ya,n,e,t,i,r),!0;case"mouseover":return xa=Uf(xa,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return jd.set(s,Uf(jd.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Xd.set(s,Uf(Xd.get(s)||null,n,e,t,i,r)),!0}return!1}function O3(n){var e=Ml(n.target);if(e!==null){var t=nu(e);if(t!==null){if(e=t.tag,e===13){if(e=M3(t),e!==null){n.blockedOn=e,L3(n.priority,function(){B3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ug(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=VS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);NS=i,t.target.dispatchEvent(i),NS=null}else return e=Ch(t),e!==null&&PA(e),n.blockedOn=t,!1;e.shift()}return!0}function W2(n,e,t){ug(n)&&t.delete(e)}function YU(){GS=!1,va!==null&&ug(va)&&(va=null),ya!==null&&ug(ya)&&(ya=null),xa!==null&&ug(xa)&&(xa=null),jd.forEach(W2),Xd.forEach(W2)}function kf(n,e){n.blockedOn===e&&(n.blockedOn=null,GS||(GS=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,YU)))}function Jd(n){function e(r){return kf(r,n)}if(0<Jp.length){kf(Jp[0],n);for(var t=1;t<Jp.length;t++){var i=Jp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(va!==null&&kf(va,n),ya!==null&&kf(ya,n),xa!==null&&kf(xa,n),jd.forEach(e),Xd.forEach(e),t=0;t<ca.length;t++)i=ca[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ca.length&&(t=ca[0],t.blockedOn===null);)O3(t),t.blockedOn===null&&ca.shift()}var xc=Uo.ReactCurrentBatchConfig,Dg=!0;function QU(n,e,t,i){var r=vn,s=xc.transition;xc.transition=null;try{vn=1,IA(n,e,t,i)}finally{vn=r,xc.transition=s}}function qU(n,e,t,i){var r=vn,s=xc.transition;xc.transition=null;try{vn=4,IA(n,e,t,i)}finally{vn=r,xc.transition=s}}function IA(n,e,t,i){if(Dg){var r=VS(n,e,t,i);if(r===null)Ux(n,e,i,Lg,t),V2(n,i);else if(KU(r,n,e,t,i))i.stopPropagation();else if(V2(n,i),e&4&&-1<JU.indexOf(n)){for(;r!==null;){var s=Ch(r);if(s!==null&&I3(s),s=VS(n,e,t,i),s===null&&Ux(n,e,i,Lg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Ux(n,e,i,null,t)}}var Lg=null;function VS(n,e,t,i){if(Lg=null,n=CA(i),n=Ml(n),n!==null)if(e=nu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=M3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Lg=n,null}function F3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UU()){case bA:return 1;case C3:return 4;case Ig:case kU:return 16;case b3:return 536870912;default:return 16}default:return 16}}var ha=null,BA=null,cg=null;function N3(){if(cg)return cg;var n,e=BA,t=e.length,i,r="value"in ha?ha.value:ha.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return cg=r.slice(n,1<i?1-i:void 0)}function fg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Kp(){return!0}function j2(){return!1}function Ur(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kp:j2,this.isPropagationStopped=j2,this}return kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Kp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Kp)},persist:function(){},isPersistent:Kp}),e}var sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DA=Ur(sf),Th=kn({},sf,{view:0,detail:0}),ZU=Ur(Th),Rx,Px,zf,dv=kn({},Th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zf&&(zf&&n.type==="mousemove"?(Rx=n.screenX-zf.screenX,Px=n.screenY-zf.screenY):Px=Rx=0,zf=n),Rx)},movementY:function(n){return"movementY"in n?n.movementY:Px}}),X2=Ur(dv),$U=kn({},dv,{dataTransfer:0}),ek=Ur($U),tk=kn({},Th,{relatedTarget:0}),Ix=Ur(tk),nk=kn({},sf,{animationName:0,elapsedTime:0,pseudoElement:0}),ik=Ur(nk),rk=kn({},sf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sk=Ur(rk),ok=kn({},sf,{data:0}),J2=Ur(ok),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ck(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=uk[n])?!!e[n]:!1}function LA(){return ck}var fk=kn({},Th,{key:function(n){if(n.key){var e=ak[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=fg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LA,charCode:function(n){return n.type==="keypress"?fg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dk=Ur(fk),hk=kn({},dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K2=Ur(hk),pk=kn({},Th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LA}),mk=Ur(pk),gk=kn({},sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),vk=Ur(gk),yk=kn({},dv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xk=Ur(yk),_k=[9,13,27,32],OA=Po&&"CompositionEvent"in window,Ad=null;Po&&"documentMode"in document&&(Ad=document.documentMode);var Sk=Po&&"TextEvent"in window&&!Ad,U3=Po&&(!OA||Ad&&8<Ad&&11>=Ad),Y2=" ",Q2=!1;function k3(n,e){switch(n){case"keyup":return _k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zu=!1;function Ak(n,e){switch(n){case"compositionend":return z3(e);case"keypress":return e.which!==32?null:(Q2=!0,Y2);case"textInput":return n=e.data,n===Y2&&Q2?null:n;default:return null}}function Mk(n,e){if(Zu)return n==="compositionend"||!OA&&k3(n,e)?(n=N3(),cg=BA=ha=null,Zu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U3&&e.locale!=="ko"?null:e.data;default:return null}}var wk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!wk[n.type]:e==="textarea"}function H3(n,e,t,i){y3(i),e=Og(e,"onChange"),0<e.length&&(t=new DA("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Md=null,Kd=null;function Ek(n){Z3(n,0)}function hv(n){var e=tc(n);if(f3(e))return n}function Tk(n,e){if(n==="change")return e}var G3=!1;if(Po){var Bx;if(Po){var Dx="oninput"in document;if(!Dx){var Z2=document.createElement("div");Z2.setAttribute("oninput","return;"),Dx=typeof Z2.oninput=="function"}Bx=Dx}else Bx=!1;G3=Bx&&(!document.documentMode||9<document.documentMode)}function $2(){Md&&(Md.detachEvent("onpropertychange",V3),Kd=Md=null)}function V3(n){if(n.propertyName==="value"&&hv(Kd)){var e=[];H3(e,Kd,n,CA(n)),A3(Ek,e)}}function Ck(n,e,t){n==="focusin"?($2(),Md=e,Kd=t,Md.attachEvent("onpropertychange",V3)):n==="focusout"&&$2()}function bk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hv(Kd)}function Rk(n,e){if(n==="click")return hv(e)}function Pk(n,e){if(n==="input"||n==="change")return hv(e)}function Ik(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Cs=typeof Object.is=="function"?Object.is:Ik;function Yd(n,e){if(Cs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!ES.call(e,r)||!Cs(n[r],e[r]))return!1}return!0}function eT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tT(n,e){var t=eT(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=eT(t)}}function W3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?W3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function j3(){for(var n=window,e=bg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=bg(n.document)}return e}function FA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Bk(n){var e=j3(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&W3(t.ownerDocument.documentElement,t)){if(i!==null&&FA(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=tT(t,s);var o=tT(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Dk=Po&&"documentMode"in document&&11>=document.documentMode,$u=null,WS=null,wd=null,jS=!1;function nT(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;jS||$u==null||$u!==bg(i)||(i=$u,"selectionStart"in i&&FA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wd&&Yd(wd,i)||(wd=i,i=Og(WS,"onSelect"),0<i.length&&(e=new DA("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=$u)))}function Yp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ec={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},Lx={},X3={};Po&&(X3=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function pv(n){if(Lx[n])return Lx[n];if(!ec[n])return n;var e=ec[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in X3)return Lx[n]=e[t];return n}var J3=pv("animationend"),K3=pv("animationiteration"),Y3=pv("animationstart"),Q3=pv("transitionend"),q3=new Map,iT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(n,e){q3.set(n,e),tu(e,[n])}for(var Ox=0;Ox<iT.length;Ox++){var Fx=iT[Ox],Lk=Fx.toLowerCase(),Ok=Fx[0].toUpperCase()+Fx.slice(1);Da(Lk,"on"+Ok)}Da(J3,"onAnimationEnd");Da(K3,"onAnimationIteration");Da(Y3,"onAnimationStart");Da("dblclick","onDoubleClick");Da("focusin","onFocus");Da("focusout","onBlur");Da(Q3,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(dd));function rT(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,LU(i,e,void 0,n),n.currentTarget=null}function Z3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;rT(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;rT(r,a,u),s=l}}}if(Pg)throw n=zS,Pg=!1,zS=null,n}function An(n,e){var t=e[QS];t===void 0&&(t=e[QS]=new Set);var i=n+"__bubble";t.has(i)||($3(e,n,2,!1),t.add(i))}function Nx(n,e,t){var i=0;e&&(i|=4),$3(t,n,i,e)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function Qd(n){if(!n[Qp]){n[Qp]=!0,o3.forEach(function(t){t!=="selectionchange"&&(Fk.has(t)||Nx(t,!1,n),Nx(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Qp]||(e[Qp]=!0,Nx("selectionchange",!1,e))}}function $3(n,e,t,i){switch(F3(e)){case 1:var r=QU;break;case 4:r=qU;break;default:r=IA}t=r.bind(null,e,t,n),r=void 0,!kS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Ux(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ml(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}A3(function(){var u=s,d=CA(t),h=[];e:{var p=q3.get(n);if(p!==void 0){var m=DA,v=n;switch(n){case"keypress":if(fg(t)===0)break e;case"keydown":case"keyup":m=dk;break;case"focusin":v="focus",m=Ix;break;case"focusout":v="blur",m=Ix;break;case"beforeblur":case"afterblur":m=Ix;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=X2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mk;break;case J3:case K3:case Y3:m=ik;break;case Q3:m=vk;break;case"scroll":m=ZU;break;case"wheel":m=xk;break;case"copy":case"cut":case"paste":m=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=K2}var _=(e&4)!==0,x=!_&&n==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var S=u,A;S!==null;){A=S;var w=A.stateNode;if(A.tag===5&&w!==null&&(A=w,g!==null&&(w=Wd(S,g),w!=null&&_.push(qd(S,w,A)))),x)break;S=S.return}0<_.length&&(p=new m(p,v,null,t,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==NS&&(v=t.relatedTarget||t.fromElement)&&(Ml(v)||v[Io]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?Ml(v):null,v!==null&&(x=nu(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(_=X2,w="onMouseLeave",g="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(_=K2,w="onPointerLeave",g="onPointerEnter",S="pointer"),x=m==null?p:tc(m),A=v==null?p:tc(v),p=new _(w,S+"leave",m,t,d),p.target=x,p.relatedTarget=A,w=null,Ml(d)===u&&(_=new _(g,S+"enter",v,t,d),_.target=A,_.relatedTarget=x,w=_),x=w,m&&v)t:{for(_=m,g=v,S=0,A=_;A;A=Mu(A))S++;for(A=0,w=g;w;w=Mu(w))A++;for(;0<S-A;)_=Mu(_),S--;for(;0<A-S;)g=Mu(g),A--;for(;S--;){if(_===g||g!==null&&_===g.alternate)break t;_=Mu(_),g=Mu(g)}_=null}else _=null;m!==null&&sT(h,p,m,_,!1),v!==null&&x!==null&&sT(h,x,v,_,!0)}}e:{if(p=u?tc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=Tk;else if(q2(p))if(G3)C=Pk;else{C=bk;var P=Ck}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Rk);if(C&&(C=C(n,u))){H3(h,C,t,d);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&BS(p,"number",p.value)}switch(P=u?tc(u):window,n){case"focusin":(q2(P)||P.contentEditable==="true")&&($u=P,WS=u,wd=null);break;case"focusout":wd=WS=$u=null;break;case"mousedown":jS=!0;break;case"contextmenu":case"mouseup":case"dragend":jS=!1,nT(h,t,d);break;case"selectionchange":if(Dk)break;case"keydown":case"keyup":nT(h,t,d)}var b;if(OA)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Zu?k3(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(U3&&t.locale!=="ko"&&(Zu||B!=="onCompositionStart"?B==="onCompositionEnd"&&Zu&&(b=N3()):(ha=d,BA="value"in ha?ha.value:ha.textContent,Zu=!0)),P=Og(u,B),0<P.length&&(B=new J2(B,n,null,t,d),h.push({event:B,listeners:P}),b?B.data=b:(b=z3(t),b!==null&&(B.data=b)))),(b=Sk?Ak(n,t):Mk(n,t))&&(u=Og(u,"onBeforeInput"),0<u.length&&(d=new J2("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=b))}Z3(h,e)})}function qd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Og(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Wd(n,t),s!=null&&i.unshift(qd(n,s,r)),s=Wd(n,e),s!=null&&i.push(qd(n,s,r))),n=n.return}return i}function Mu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sT(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Wd(t,s),l!=null&&o.unshift(qd(t,l,a))):r||(l=Wd(t,s),l!=null&&o.push(qd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Nk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function oT(n){return(typeof n=="string"?n:""+n).replace(Nk,`
`).replace(Uk,"")}function qp(n,e,t){if(e=oT(e),oT(n)!==e&&t)throw Error(Fe(425))}function Fg(){}var XS=null,JS=null;function KS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var YS=typeof setTimeout=="function"?setTimeout:void 0,kk=typeof clearTimeout=="function"?clearTimeout:void 0,aT=typeof Promise=="function"?Promise:void 0,zk=typeof queueMicrotask=="function"?queueMicrotask:typeof aT<"u"?function(n){return aT.resolve(null).then(n).catch(Hk)}:YS;function Hk(n){setTimeout(function(){throw n})}function kx(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Jd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Jd(e)}function _a(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function lT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var of=Math.random().toString(36).slice(2),Vs="__reactFiber$"+of,Zd="__reactProps$"+of,Io="__reactContainer$"+of,QS="__reactEvents$"+of,Gk="__reactListeners$"+of,Vk="__reactHandles$"+of;function Ml(n){var e=n[Vs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Io]||t[Vs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=lT(n);n!==null;){if(t=n[Vs])return t;n=lT(n)}return e}n=t,t=n.parentNode}return null}function Ch(n){return n=n[Vs]||n[Io],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function tc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Fe(33))}function mv(n){return n[Zd]||null}var qS=[],nc=-1;function La(n){return{current:n}}function Mn(n){0>nc||(n.current=qS[nc],qS[nc]=null,nc--)}function Sn(n,e){nc++,qS[nc]=n.current,n.current=e}var Ca={},Gi=La(Ca),mr=La(!1),Hl=Ca;function Rc(n,e){var t=n.type.contextTypes;if(!t)return Ca;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function gr(n){return n=n.childContextTypes,n!=null}function Ng(){Mn(mr),Mn(Gi)}function uT(n,e,t){if(Gi.current!==Ca)throw Error(Fe(168));Sn(Gi,e),Sn(mr,t)}function eI(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Fe(108,CU(n)||"Unknown",r));return kn({},t,i)}function Ug(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ca,Hl=Gi.current,Sn(Gi,n),Sn(mr,mr.current),!0}function cT(n,e,t){var i=n.stateNode;if(!i)throw Error(Fe(169));t?(n=eI(n,e,Hl),i.__reactInternalMemoizedMergedChildContext=n,Mn(mr),Mn(Gi),Sn(Gi,n)):Mn(mr),Sn(mr,t)}var go=null,gv=!1,zx=!1;function tI(n){go===null?go=[n]:go.push(n)}function Wk(n){gv=!0,tI(n)}function Oa(){if(!zx&&go!==null){zx=!0;var n=0,e=vn;try{var t=go;for(vn=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}go=null,gv=!1}catch(r){throw go!==null&&(go=go.slice(n+1)),T3(bA,Oa),r}finally{vn=e,zx=!1}}return null}var ic=[],rc=0,kg=null,zg=0,$r=[],es=0,Gl=null,_o=1,So="";function dl(n,e){ic[rc++]=zg,ic[rc++]=kg,kg=n,zg=e}function nI(n,e,t){$r[es++]=_o,$r[es++]=So,$r[es++]=Gl,Gl=n;var i=_o;n=So;var r=32-ws(i)-1;i&=~(1<<r),t+=1;var s=32-ws(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,_o=1<<32-ws(e)+r|t<<r|i,So=s+n}else _o=1<<s|t<<r|i,So=n}function NA(n){n.return!==null&&(dl(n,1),nI(n,1,0))}function UA(n){for(;n===kg;)kg=ic[--rc],ic[rc]=null,zg=ic[--rc],ic[rc]=null;for(;n===Gl;)Gl=$r[--es],$r[es]=null,So=$r[--es],$r[es]=null,_o=$r[--es],$r[es]=null}var Pr=null,Tr=null,Pn=!1,Ss=null;function iI(n,e){var t=ns(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Pr=n,Tr=_a(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Pr=n,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Gl!==null?{id:_o,overflow:So}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ns(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Pr=n,Tr=null,!0):!1;default:return!1}}function ZS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function $S(n){if(Pn){var e=Tr;if(e){var t=e;if(!fT(n,e)){if(ZS(n))throw Error(Fe(418));e=_a(t.nextSibling);var i=Pr;e&&fT(n,e)?iI(i,t):(n.flags=n.flags&-4097|2,Pn=!1,Pr=n)}}else{if(ZS(n))throw Error(Fe(418));n.flags=n.flags&-4097|2,Pn=!1,Pr=n}}}function dT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Pr=n}function Zp(n){if(n!==Pr)return!1;if(!Pn)return dT(n),Pn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!KS(n.type,n.memoizedProps)),e&&(e=Tr)){if(ZS(n))throw rI(),Error(Fe(418));for(;e;)iI(n,e),e=_a(e.nextSibling)}if(dT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Fe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Tr=_a(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Tr=null}}else Tr=Pr?_a(n.stateNode.nextSibling):null;return!0}function rI(){for(var n=Tr;n;)n=_a(n.nextSibling)}function Pc(){Tr=Pr=null,Pn=!1}function kA(n){Ss===null?Ss=[n]:Ss.push(n)}var jk=Uo.ReactCurrentBatchConfig;function Hf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Fe(309));var i=t.stateNode}if(!i)throw Error(Fe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Fe(284));if(!t._owner)throw Error(Fe(290,n))}return n}function $p(n,e){throw n=Object.prototype.toString.call(e),Error(Fe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function hT(n){var e=n._init;return e(n._payload)}function sI(n){function e(g,S){if(n){var A=g.deletions;A===null?(g.deletions=[S],g.flags|=16):A.push(S)}}function t(g,S){if(!n)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function i(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function r(g,S){return g=wa(g,S),g.index=0,g.sibling=null,g}function s(g,S,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<S?(g.flags|=2,S):A):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,S,A,w){return S===null||S.tag!==6?(S=Jx(A,g.mode,w),S.return=g,S):(S=r(S,A),S.return=g,S)}function l(g,S,A,w){var C=A.type;return C===qu?d(g,S,A.props.children,w,A.key):S!==null&&(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===aa&&hT(C)===S.type)?(w=r(S,A.props),w.ref=Hf(g,S,A),w.return=g,w):(w=yg(A.type,A.key,A.props,null,g.mode,w),w.ref=Hf(g,S,A),w.return=g,w)}function u(g,S,A,w){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Kx(A,g.mode,w),S.return=g,S):(S=r(S,A.children||[]),S.return=g,S)}function d(g,S,A,w,C){return S===null||S.tag!==7?(S=Ol(A,g.mode,w,C),S.return=g,S):(S=r(S,A),S.return=g,S)}function h(g,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Jx(""+S,g.mode,A),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gp:return A=yg(S.type,S.key,S.props,null,g.mode,A),A.ref=Hf(g,null,S),A.return=g,A;case Qu:return S=Kx(S,g.mode,A),S.return=g,S;case aa:var w=S._init;return h(g,w(S._payload),A)}if(cd(S)||Ff(S))return S=Ol(S,g.mode,A,null),S.return=g,S;$p(g,S)}return null}function p(g,S,A,w){var C=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(g,S,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Gp:return A.key===C?l(g,S,A,w):null;case Qu:return A.key===C?u(g,S,A,w):null;case aa:return C=A._init,p(g,S,C(A._payload),w)}if(cd(A)||Ff(A))return C!==null?null:d(g,S,A,w,null);$p(g,A)}return null}function m(g,S,A,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(A)||null,a(S,g,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:return g=g.get(w.key===null?A:w.key)||null,l(S,g,w,C);case Qu:return g=g.get(w.key===null?A:w.key)||null,u(S,g,w,C);case aa:var P=w._init;return m(g,S,A,P(w._payload),C)}if(cd(w)||Ff(w))return g=g.get(A)||null,d(S,g,w,C,null);$p(S,w)}return null}function v(g,S,A,w){for(var C=null,P=null,b=S,B=S=0,R=null;b!==null&&B<A.length;B++){b.index>B?(R=b,b=null):R=b.sibling;var T=p(g,b,A[B],w);if(T===null){b===null&&(b=R);break}n&&b&&T.alternate===null&&e(g,b),S=s(T,S,B),P===null?C=T:P.sibling=T,P=T,b=R}if(B===A.length)return t(g,b),Pn&&dl(g,B),C;if(b===null){for(;B<A.length;B++)b=h(g,A[B],w),b!==null&&(S=s(b,S,B),P===null?C=b:P.sibling=b,P=b);return Pn&&dl(g,B),C}for(b=i(g,b);B<A.length;B++)R=m(b,g,B,A[B],w),R!==null&&(n&&R.alternate!==null&&b.delete(R.key===null?B:R.key),S=s(R,S,B),P===null?C=R:P.sibling=R,P=R);return n&&b.forEach(function(D){return e(g,D)}),Pn&&dl(g,B),C}function _(g,S,A,w){var C=Ff(A);if(typeof C!="function")throw Error(Fe(150));if(A=C.call(A),A==null)throw Error(Fe(151));for(var P=C=null,b=S,B=S=0,R=null,T=A.next();b!==null&&!T.done;B++,T=A.next()){b.index>B?(R=b,b=null):R=b.sibling;var D=p(g,b,T.value,w);if(D===null){b===null&&(b=R);break}n&&b&&D.alternate===null&&e(g,b),S=s(D,S,B),P===null?C=D:P.sibling=D,P=D,b=R}if(T.done)return t(g,b),Pn&&dl(g,B),C;if(b===null){for(;!T.done;B++,T=A.next())T=h(g,T.value,w),T!==null&&(S=s(T,S,B),P===null?C=T:P.sibling=T,P=T);return Pn&&dl(g,B),C}for(b=i(g,b);!T.done;B++,T=A.next())T=m(b,g,B,T.value,w),T!==null&&(n&&T.alternate!==null&&b.delete(T.key===null?B:T.key),S=s(T,S,B),P===null?C=T:P.sibling=T,P=T);return n&&b.forEach(function(z){return e(g,z)}),Pn&&dl(g,B),C}function x(g,S,A,w){if(typeof A=="object"&&A!==null&&A.type===qu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Gp:e:{for(var C=A.key,P=S;P!==null;){if(P.key===C){if(C=A.type,C===qu){if(P.tag===7){t(g,P.sibling),S=r(P,A.props.children),S.return=g,g=S;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===aa&&hT(C)===P.type){t(g,P.sibling),S=r(P,A.props),S.ref=Hf(g,P,A),S.return=g,g=S;break e}t(g,P);break}else e(g,P);P=P.sibling}A.type===qu?(S=Ol(A.props.children,g.mode,w,A.key),S.return=g,g=S):(w=yg(A.type,A.key,A.props,null,g.mode,w),w.ref=Hf(g,S,A),w.return=g,g=w)}return o(g);case Qu:e:{for(P=A.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){t(g,S.sibling),S=r(S,A.children||[]),S.return=g,g=S;break e}else{t(g,S);break}else e(g,S);S=S.sibling}S=Kx(A,g.mode,w),S.return=g,g=S}return o(g);case aa:return P=A._init,x(g,S,P(A._payload),w)}if(cd(A))return v(g,S,A,w);if(Ff(A))return _(g,S,A,w);$p(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(t(g,S.sibling),S=r(S,A),S.return=g,g=S):(t(g,S),S=Jx(A,g.mode,w),S.return=g,g=S),o(g)):t(g,S)}return x}var Ic=sI(!0),oI=sI(!1),Hg=La(null),Gg=null,sc=null,zA=null;function HA(){zA=sc=Gg=null}function GA(n){var e=Hg.current;Mn(Hg),n._currentValue=e}function e1(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function _c(n,e){Gg=n,zA=sc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(hr=!0),n.firstContext=null)}function ss(n){var e=n._currentValue;if(zA!==n)if(n={context:n,memoizedValue:e,next:null},sc===null){if(Gg===null)throw Error(Fe(308));sc=n,Gg.dependencies={lanes:0,firstContext:n}}else sc=sc.next=n;return e}var wl=null;function VA(n){wl===null?wl=[n]:wl.push(n)}function aI(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,VA(e)):(t.next=r.next,r.next=t),e.interleaved=t,Bo(n,i)}function Bo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var la=!1;function WA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lI(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Mo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ln&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Bo(n,t)}return r=i.interleaved,r===null?(e.next=e,VA(i)):(e.next=r.next,r.next=e),i.interleaved=e,Bo(n,t)}function dg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,RA(n,t)}}function pT(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Vg(n,e,t,i){var r=n.updateQueue;la=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,_=a;switch(p=e,m=t,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=kn({},h,p);break e;case 2:la=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Wl|=o,n.lanes=o,n.memoizedState=h}}function mT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Fe(191,r));r.call(i)}}}var bh={},Xs=La(bh),$d=La(bh),eh=La(bh);function El(n){if(n===bh)throw Error(Fe(174));return n}function jA(n,e){switch(Sn(eh,e),Sn($d,n),Sn(Xs,bh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=LS(e,n)}Mn(Xs),Sn(Xs,e)}function Bc(){Mn(Xs),Mn($d),Mn(eh)}function uI(n){El(eh.current);var e=El(Xs.current),t=LS(e,n.type);e!==t&&(Sn($d,n),Sn(Xs,t))}function XA(n){$d.current===n&&(Mn(Xs),Mn($d))}var On=La(0);function Wg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hx=[];function JA(){for(var n=0;n<Hx.length;n++)Hx[n]._workInProgressVersionPrimary=null;Hx.length=0}var hg=Uo.ReactCurrentDispatcher,Gx=Uo.ReactCurrentBatchConfig,Vl=0,Un=null,si=null,mi=null,jg=!1,Ed=!1,th=0,Xk=0;function Di(){throw Error(Fe(321))}function KA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Cs(n[t],e[t]))return!1;return!0}function YA(n,e,t,i,r,s){if(Vl=s,Un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hg.current=n===null||n.memoizedState===null?Qk:qk,n=t(i,r),Ed){s=0;do{if(Ed=!1,th=0,25<=s)throw Error(Fe(301));s+=1,mi=si=null,e.updateQueue=null,hg.current=Zk,n=t(i,r)}while(Ed)}if(hg.current=Xg,e=si!==null&&si.next!==null,Vl=0,mi=si=Un=null,jg=!1,e)throw Error(Fe(300));return n}function QA(){var n=th!==0;return th=0,n}function Gs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Un.memoizedState=mi=n:mi=mi.next=n,mi}function os(){if(si===null){var n=Un.alternate;n=n!==null?n.memoizedState:null}else n=si.next;var e=mi===null?Un.memoizedState:mi.next;if(e!==null)mi=e,si=n;else{if(n===null)throw Error(Fe(310));si=n,n={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},mi===null?Un.memoizedState=mi=n:mi=mi.next=n}return mi}function nh(n,e){return typeof e=="function"?e(n):e}function Vx(n){var e=os(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=n;var i=si,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Vl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Un.lanes|=d,Wl|=d}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Cs(i,e.memoizedState)||(hr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Un.lanes|=s,Wl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Wx(n){var e=os(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Cs(s,e.memoizedState)||(hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function cI(){}function fI(n,e){var t=Un,i=os(),r=e(),s=!Cs(i.memoizedState,r);if(s&&(i.memoizedState=r,hr=!0),i=i.queue,qA(pI.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||mi!==null&&mi.memoizedState.tag&1){if(t.flags|=2048,ih(9,hI.bind(null,t,i,r,e),void 0,null),gi===null)throw Error(Fe(349));Vl&30||dI(t,e,r)}return r}function dI(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function hI(n,e,t,i){e.value=t,e.getSnapshot=i,mI(e)&&gI(n)}function pI(n,e,t){return t(function(){mI(e)&&gI(n)})}function mI(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Cs(n,t)}catch{return!0}}function gI(n){var e=Bo(n,1);e!==null&&Es(e,n,1,-1)}function gT(n){var e=Gs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:n},e.queue=n,n=n.dispatch=Yk.bind(null,Un,n),[e.memoizedState,n]}function ih(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function vI(){return os().memoizedState}function pg(n,e,t,i){var r=Gs();Un.flags|=n,r.memoizedState=ih(1|e,t,void 0,i===void 0?null:i)}function vv(n,e,t,i){var r=os();i=i===void 0?null:i;var s=void 0;if(si!==null){var o=si.memoizedState;if(s=o.destroy,i!==null&&KA(i,o.deps)){r.memoizedState=ih(e,t,s,i);return}}Un.flags|=n,r.memoizedState=ih(1|e,t,s,i)}function vT(n,e){return pg(8390656,8,n,e)}function qA(n,e){return vv(2048,8,n,e)}function yI(n,e){return vv(4,2,n,e)}function xI(n,e){return vv(4,4,n,e)}function _I(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function SI(n,e,t){return t=t!=null?t.concat([n]):null,vv(4,4,_I.bind(null,e,n),t)}function ZA(){}function AI(n,e){var t=os();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&KA(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function MI(n,e){var t=os();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&KA(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function wI(n,e,t){return Vl&21?(Cs(t,e)||(t=R3(),Un.lanes|=t,Wl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,hr=!0),n.memoizedState=t)}function Jk(n,e){var t=vn;vn=t!==0&&4>t?t:4,n(!0);var i=Gx.transition;Gx.transition={};try{n(!1),e()}finally{vn=t,Gx.transition=i}}function EI(){return os().memoizedState}function Kk(n,e,t){var i=Ma(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},TI(n))CI(e,t);else if(t=aI(n,e,t,i),t!==null){var r=Zi();Es(t,n,i,r),bI(t,e,i)}}function Yk(n,e,t){var i=Ma(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(TI(n))CI(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Cs(a,o)){var l=e.interleaved;l===null?(r.next=r,VA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=aI(n,e,r,i),t!==null&&(r=Zi(),Es(t,n,i,r),bI(t,e,i))}}function TI(n){var e=n.alternate;return n===Un||e!==null&&e===Un}function CI(n,e){Ed=jg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function bI(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,RA(n,t)}}var Xg={readContext:ss,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useInsertionEffect:Di,useLayoutEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useMutableSource:Di,useSyncExternalStore:Di,useId:Di,unstable_isNewReconciler:!1},Qk={readContext:ss,useCallback:function(n,e){return Gs().memoizedState=[n,e===void 0?null:e],n},useContext:ss,useEffect:vT,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,pg(4194308,4,_I.bind(null,e,n),t)},useLayoutEffect:function(n,e){return pg(4194308,4,n,e)},useInsertionEffect:function(n,e){return pg(4,2,n,e)},useMemo:function(n,e){var t=Gs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Gs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Kk.bind(null,Un,n),[i.memoizedState,n]},useRef:function(n){var e=Gs();return n={current:n},e.memoizedState=n},useState:gT,useDebugValue:ZA,useDeferredValue:function(n){return Gs().memoizedState=n},useTransition:function(){var n=gT(!1),e=n[0];return n=Jk.bind(null,n[1]),Gs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Un,r=Gs();if(Pn){if(t===void 0)throw Error(Fe(407));t=t()}else{if(t=e(),gi===null)throw Error(Fe(349));Vl&30||dI(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,vT(pI.bind(null,i,s,n),[n]),i.flags|=2048,ih(9,hI.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Gs(),e=gi.identifierPrefix;if(Pn){var t=So,i=_o;t=(i&~(1<<32-ws(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=th++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Xk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},qk={readContext:ss,useCallback:AI,useContext:ss,useEffect:qA,useImperativeHandle:SI,useInsertionEffect:yI,useLayoutEffect:xI,useMemo:MI,useReducer:Vx,useRef:vI,useState:function(){return Vx(nh)},useDebugValue:ZA,useDeferredValue:function(n){var e=os();return wI(e,si.memoizedState,n)},useTransition:function(){var n=Vx(nh)[0],e=os().memoizedState;return[n,e]},useMutableSource:cI,useSyncExternalStore:fI,useId:EI,unstable_isNewReconciler:!1},Zk={readContext:ss,useCallback:AI,useContext:ss,useEffect:qA,useImperativeHandle:SI,useInsertionEffect:yI,useLayoutEffect:xI,useMemo:MI,useReducer:Wx,useRef:vI,useState:function(){return Wx(nh)},useDebugValue:ZA,useDeferredValue:function(n){var e=os();return si===null?e.memoizedState=n:wI(e,si.memoizedState,n)},useTransition:function(){var n=Wx(nh)[0],e=os().memoizedState;return[n,e]},useMutableSource:cI,useSyncExternalStore:fI,useId:EI,unstable_isNewReconciler:!1};function vs(n,e){if(n&&n.defaultProps){e=kn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function t1(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:kn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var yv={isMounted:function(n){return(n=n._reactInternals)?nu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Zi(),r=Ma(n),s=Mo(i,r);s.payload=e,t!=null&&(s.callback=t),e=Sa(n,s,r),e!==null&&(Es(e,n,r,i),dg(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Zi(),r=Ma(n),s=Mo(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Sa(n,s,r),e!==null&&(Es(e,n,r,i),dg(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zi(),i=Ma(n),r=Mo(t,i);r.tag=2,e!=null&&(r.callback=e),e=Sa(n,r,i),e!==null&&(Es(e,n,i,t),dg(e,n,i))}};function yT(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yd(t,i)||!Yd(r,s):!0}function RI(n,e,t){var i=!1,r=Ca,s=e.contextType;return typeof s=="object"&&s!==null?s=ss(s):(r=gr(e)?Hl:Gi.current,i=e.contextTypes,s=(i=i!=null)?Rc(n,r):Ca),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yv,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function xT(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&yv.enqueueReplaceState(e,e.state,null)}function n1(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},WA(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ss(s):(s=gr(e)?Hl:Gi.current,r.context=Rc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(t1(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&yv.enqueueReplaceState(r,r.state,null),Vg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Dc(n,e){try{var t="",i=e;do t+=TU(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function jx(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function i1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var $k=typeof WeakMap=="function"?WeakMap:Map;function PI(n,e,t){t=Mo(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Kg||(Kg=!0,h1=i),i1(n,e)},t}function II(n,e,t){t=Mo(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){i1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){i1(n,e),typeof i!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function _T(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new $k;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=h4.bind(null,n,e,t),e.then(n,n))}function ST(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function AT(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Mo(-1,1),e.tag=2,Sa(t,e,1))),t.lanes|=1),n)}var e4=Uo.ReactCurrentOwner,hr=!1;function Qi(n,e,t,i){e.child=n===null?oI(e,null,t,i):Ic(e,n.child,t,i)}function MT(n,e,t,i,r){t=t.render;var s=e.ref;return _c(e,r),i=YA(n,e,t,i,s,r),t=QA(),n!==null&&!hr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Do(n,e,r)):(Pn&&t&&NA(e),e.flags|=1,Qi(n,e,i,r),e.child)}function wT(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!oM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,BI(n,e,s,i,r)):(n=yg(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Yd,t(o,i)&&n.ref===e.ref)return Do(n,e,r)}return e.flags|=1,n=wa(s,i),n.ref=e.ref,n.return=e,e.child=n}function BI(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Yd(s,i)&&n.ref===e.ref)if(hr=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(hr=!0);else return e.lanes=n.lanes,Do(n,e,r)}return r1(n,e,t,i,r)}function DI(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(ac,wr),wr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Sn(ac,wr),wr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Sn(ac,wr),wr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Sn(ac,wr),wr|=i;return Qi(n,e,r,t),e.child}function LI(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function r1(n,e,t,i,r){var s=gr(t)?Hl:Gi.current;return s=Rc(e,s),_c(e,r),t=YA(n,e,t,i,s,r),i=QA(),n!==null&&!hr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Do(n,e,r)):(Pn&&i&&NA(e),e.flags|=1,Qi(n,e,t,r),e.child)}function ET(n,e,t,i,r){if(gr(t)){var s=!0;Ug(e)}else s=!1;if(_c(e,r),e.stateNode===null)mg(n,e),RI(e,t,i),n1(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=ss(u):(u=gr(t)?Hl:Gi.current,u=Rc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&xT(e,o,i,u),la=!1;var p=e.memoizedState;o.state=p,Vg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||mr.current||la?(typeof d=="function"&&(t1(e,t,d,i),l=e.memoizedState),(a=la||yT(e,t,a,i,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,lI(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:vs(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ss(l):(l=gr(t)?Hl:Gi.current,l=Rc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&xT(e,o,i,l),la=!1,p=e.memoizedState,o.state=p,Vg(e,i,o,r);var v=e.memoizedState;a!==h||p!==v||mr.current||la?(typeof m=="function"&&(t1(e,t,m,i),v=e.memoizedState),(u=la||yT(e,t,u,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return s1(n,e,t,i,s,r)}function s1(n,e,t,i,r,s){LI(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&cT(e,t,!1),Do(n,e,s);i=e.stateNode,e4.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Ic(e,n.child,null,s),e.child=Ic(e,null,a,s)):Qi(n,e,a,s),e.memoizedState=i.state,r&&cT(e,t,!0),e.child}function OI(n){var e=n.stateNode;e.pendingContext?uT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&uT(n,e.context,!1),jA(n,e.containerInfo)}function TT(n,e,t,i,r){return Pc(),kA(r),e.flags|=256,Qi(n,e,t,i),e.child}var o1={dehydrated:null,treeContext:null,retryLane:0};function a1(n){return{baseLanes:n,cachePool:null,transitions:null}}function FI(n,e,t){var i=e.pendingProps,r=On.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Sn(On,r&1),n===null)return $S(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sv(o,i,0,null),n=Ol(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=a1(t),e.memoizedState=o1,n):$A(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return t4(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=wa(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=wa(a,s):(s=Ol(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?a1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=o1,i}return s=n.child,n=s.sibling,i=wa(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function $A(n,e){return e=Sv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function em(n,e,t,i){return i!==null&&kA(i),Ic(e,n.child,null,t),n=$A(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function t4(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=jx(Error(Fe(422))),em(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Sv({mode:"visible",children:i.children},r,0,null),s=Ol(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ic(e,n.child,null,o),e.child.memoizedState=a1(o),e.memoizedState=o1,s);if(!(e.mode&1))return em(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Fe(419)),i=jx(s,i,void 0),em(n,e,o,i)}if(a=(o&n.childLanes)!==0,hr||a){if(i=gi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Bo(n,r),Es(i,n,r,-1))}return sM(),i=jx(Error(Fe(421))),em(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=p4.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Tr=_a(r.nextSibling),Pr=e,Pn=!0,Ss=null,n!==null&&($r[es++]=_o,$r[es++]=So,$r[es++]=Gl,_o=n.id,So=n.overflow,Gl=e),e=$A(e,i.children),e.flags|=4096,e)}function CT(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),e1(n.return,e,t)}function Xx(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function NI(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Qi(n,e,i.children,t),i=On.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&CT(n,t,e);else if(n.tag===19)CT(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Sn(On,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Wg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Xx(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Wg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Xx(e,!0,t,null,s);break;case"together":Xx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Do(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Wl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Fe(153));if(e.child!==null){for(n=e.child,t=wa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=wa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function n4(n,e,t){switch(e.tag){case 3:OI(e),Pc();break;case 5:uI(e);break;case 1:gr(e.type)&&Ug(e);break;case 4:jA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Sn(Hg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Sn(On,On.current&1),e.flags|=128,null):t&e.child.childLanes?FI(n,e,t):(Sn(On,On.current&1),n=Do(n,e,t),n!==null?n.sibling:null);Sn(On,On.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return NI(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sn(On,On.current),i)break;return null;case 22:case 23:return e.lanes=0,DI(n,e,t)}return Do(n,e,t)}var UI,l1,kI,zI;UI=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};l1=function(){};kI=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,El(Xs.current);var s=null;switch(t){case"input":r=PS(n,r),i=PS(n,i),s=[];break;case"select":r=kn({},r,{value:void 0}),i=kn({},i,{value:void 0}),s=[];break;case"textarea":r=DS(n,r),i=DS(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Fg)}OS(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&An("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};zI=function(n,e,t,i){t!==i&&(e.flags|=4)};function Gf(n,e){if(!Pn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Li(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function i4(n,e,t){var i=e.pendingProps;switch(UA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(e),null;case 1:return gr(e.type)&&Ng(),Li(e),null;case 3:return i=e.stateNode,Bc(),Mn(mr),Mn(Gi),JA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Zp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ss!==null&&(g1(Ss),Ss=null))),l1(n,e),Li(e),null;case 5:XA(e);var r=El(eh.current);if(t=e.type,n!==null&&e.stateNode!=null)kI(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Fe(166));return Li(e),null}if(n=El(Xs.current),Zp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Vs]=e,i[Zd]=s,n=(e.mode&1)!==0,t){case"dialog":An("cancel",i),An("close",i);break;case"iframe":case"object":case"embed":An("load",i);break;case"video":case"audio":for(r=0;r<dd.length;r++)An(dd[r],i);break;case"source":An("error",i);break;case"img":case"image":case"link":An("error",i),An("load",i);break;case"details":An("toggle",i);break;case"input":F2(i,s),An("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},An("invalid",i);break;case"textarea":U2(i,s),An("invalid",i)}OS(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&qp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qp(i.textContent,a,n),r=["children",""+a]):Gd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&An("scroll",i)}switch(t){case"input":Vp(i),N2(i,s,!0);break;case"textarea":Vp(i),k2(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Fg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=p3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Vs]=e,n[Zd]=i,UI(n,e,!1,!1),e.stateNode=n;e:{switch(o=FS(t,i),t){case"dialog":An("cancel",n),An("close",n),r=i;break;case"iframe":case"object":case"embed":An("load",n),r=i;break;case"video":case"audio":for(r=0;r<dd.length;r++)An(dd[r],n);r=i;break;case"source":An("error",n),r=i;break;case"img":case"image":case"link":An("error",n),An("load",n),r=i;break;case"details":An("toggle",n),r=i;break;case"input":F2(n,i),r=PS(n,i),An("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=kn({},i,{value:void 0}),An("invalid",n);break;case"textarea":U2(n,i),r=DS(n,i),An("invalid",n);break;default:r=i}OS(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?v3(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&m3(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Vd(n,l):typeof l=="number"&&Vd(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&An("scroll",n):l!=null&&MA(n,s,l,o))}switch(t){case"input":Vp(n),N2(n,i,!1);break;case"textarea":Vp(n),k2(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ta(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?gc(n,!!i.multiple,s,!1):i.defaultValue!=null&&gc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Fg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Li(e),null;case 6:if(n&&e.stateNode!=null)zI(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Fe(166));if(t=El(eh.current),El(Xs.current),Zp(e)){if(i=e.stateNode,t=e.memoizedProps,i[Vs]=e,(s=i.nodeValue!==t)&&(n=Pr,n!==null))switch(n.tag){case 3:qp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&qp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Vs]=e,e.stateNode=i}return Li(e),null;case 13:if(Mn(On),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pn&&Tr!==null&&e.mode&1&&!(e.flags&128))rI(),Pc(),e.flags|=98560,s=!1;else if(s=Zp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[Vs]=e}else Pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Li(e),s=!1}else Ss!==null&&(g1(Ss),Ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||On.current&1?oi===0&&(oi=3):sM())),e.updateQueue!==null&&(e.flags|=4),Li(e),null);case 4:return Bc(),l1(n,e),n===null&&Qd(e.stateNode.containerInfo),Li(e),null;case 10:return GA(e.type._context),Li(e),null;case 17:return gr(e.type)&&Ng(),Li(e),null;case 19:if(Mn(On),s=e.memoizedState,s===null)return Li(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Gf(s,!1);else{if(oi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Wg(n),o!==null){for(e.flags|=128,Gf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Sn(On,On.current&1|2),e.child}n=n.sibling}s.tail!==null&&Kn()>Lc&&(e.flags|=128,i=!0,Gf(s,!1),e.lanes=4194304)}else{if(!i)if(n=Wg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Gf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return Li(e),null}else 2*Kn()-s.renderingStartTime>Lc&&t!==1073741824&&(e.flags|=128,i=!0,Gf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kn(),e.sibling=null,t=On.current,Sn(On,i?t&1|2:t&1),e):(Li(e),null);case 22:case 23:return rM(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?wr&1073741824&&(Li(e),e.subtreeFlags&6&&(e.flags|=8192)):Li(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function r4(n,e){switch(UA(e),e.tag){case 1:return gr(e.type)&&Ng(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bc(),Mn(mr),Mn(Gi),JA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return XA(e),null;case 13:if(Mn(On),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Pc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Mn(On),null;case 4:return Bc(),null;case 10:return GA(e.type._context),null;case 22:case 23:return rM(),null;case 24:return null;default:return null}}var tm=!1,ki=!1,s4=typeof WeakSet=="function"?WeakSet:Set,dt=null;function oc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Wn(n,e,i)}else t.current=null}function u1(n,e,t){try{t()}catch(i){Wn(n,e,i)}}var bT=!1;function o4(n,e){if(XS=Dg,n=j3(),FA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(JS={focusedElem:n,selectionRange:t},Dg=!1,dt=e;dt!==null;)if(e=dt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,dt=n;else for(;dt!==null;){e=dt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:vs(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(w){Wn(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,dt=n;break}dt=e.return}return v=bT,bT=!1,v}function Td(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&u1(e,t,s)}r=r.next}while(r!==i)}}function xv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function c1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function HI(n){var e=n.alternate;e!==null&&(n.alternate=null,HI(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Vs],delete e[Zd],delete e[QS],delete e[Gk],delete e[Vk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function GI(n){return n.tag===5||n.tag===3||n.tag===4}function RT(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||GI(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function f1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Fg));else if(i!==4&&(n=n.child,n!==null))for(f1(n,e,t),n=n.sibling;n!==null;)f1(n,e,t),n=n.sibling}function d1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(d1(n,e,t),n=n.sibling;n!==null;)d1(n,e,t),n=n.sibling}var Ai=null,xs=!1;function Ko(n,e,t){for(t=t.child;t!==null;)VI(n,e,t),t=t.sibling}function VI(n,e,t){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(fv,t)}catch{}switch(t.tag){case 5:ki||oc(t,e);case 6:var i=Ai,r=xs;Ai=null,Ko(n,e,t),Ai=i,xs=r,Ai!==null&&(xs?(n=Ai,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ai.removeChild(t.stateNode));break;case 18:Ai!==null&&(xs?(n=Ai,t=t.stateNode,n.nodeType===8?kx(n.parentNode,t):n.nodeType===1&&kx(n,t),Jd(n)):kx(Ai,t.stateNode));break;case 4:i=Ai,r=xs,Ai=t.stateNode.containerInfo,xs=!0,Ko(n,e,t),Ai=i,xs=r;break;case 0:case 11:case 14:case 15:if(!ki&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u1(t,e,o),r=r.next}while(r!==i)}Ko(n,e,t);break;case 1:if(!ki&&(oc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Wn(t,e,a)}Ko(n,e,t);break;case 21:Ko(n,e,t);break;case 22:t.mode&1?(ki=(i=ki)||t.memoizedState!==null,Ko(n,e,t),ki=i):Ko(n,e,t);break;default:Ko(n,e,t)}}function PT(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new s4),e.forEach(function(i){var r=m4.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ds(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ai=a.stateNode,xs=!1;break e;case 3:Ai=a.stateNode.containerInfo,xs=!0;break e;case 4:Ai=a.stateNode.containerInfo,xs=!0;break e}a=a.return}if(Ai===null)throw Error(Fe(160));VI(s,o,r),Ai=null,xs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Wn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WI(e,n),e=e.sibling}function WI(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ds(e,n),ks(n),i&4){try{Td(3,n,n.return),xv(3,n)}catch(_){Wn(n,n.return,_)}try{Td(5,n,n.return)}catch(_){Wn(n,n.return,_)}}break;case 1:ds(e,n),ks(n),i&512&&t!==null&&oc(t,t.return);break;case 5:if(ds(e,n),ks(n),i&512&&t!==null&&oc(t,t.return),n.flags&32){var r=n.stateNode;try{Vd(r,"")}catch(_){Wn(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&d3(r,s),FS(a,o);var u=FS(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?v3(r,h):d==="dangerouslySetInnerHTML"?m3(r,h):d==="children"?Vd(r,h):MA(r,d,h,u)}switch(a){case"input":IS(r,s);break;case"textarea":h3(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?gc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?gc(r,!!s.multiple,s.defaultValue,!0):gc(r,!!s.multiple,s.multiple?[]:"",!1))}r[Zd]=s}catch(_){Wn(n,n.return,_)}}break;case 6:if(ds(e,n),ks(n),i&4){if(n.stateNode===null)throw Error(Fe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(_){Wn(n,n.return,_)}}break;case 3:if(ds(e,n),ks(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Jd(e.containerInfo)}catch(_){Wn(n,n.return,_)}break;case 4:ds(e,n),ks(n);break;case 13:ds(e,n),ks(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(nM=Kn())),i&4&&PT(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ki=(u=ki)||d,ds(e,n),ki=u):ds(e,n),ks(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(dt=n,d=n.child;d!==null;){for(h=dt=d;dt!==null;){switch(p=dt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Td(4,p,p.return);break;case 1:oc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Wn(i,t,_)}}break;case 5:oc(p,p.return);break;case 22:if(p.memoizedState!==null){BT(h);continue}}m!==null?(m.return=p,dt=m):BT(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=g3("display",o))}catch(_){Wn(n,n.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Wn(n,n.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ds(e,n),ks(n),i&4&&PT(n);break;case 21:break;default:ds(e,n),ks(n)}}function ks(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(GI(t)){var i=t;break e}t=t.return}throw Error(Fe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Vd(r,""),i.flags&=-33);var s=RT(n);d1(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=RT(n);f1(n,a,o);break;default:throw Error(Fe(161))}}catch(l){Wn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function a4(n,e,t){dt=n,jI(n)}function jI(n,e,t){for(var i=(n.mode&1)!==0;dt!==null;){var r=dt,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||tm;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ki;a=tm;var u=ki;if(tm=o,(ki=l)&&!u)for(dt=r;dt!==null;)o=dt,l=o.child,o.tag===22&&o.memoizedState!==null?DT(r):l!==null?(l.return=o,dt=l):DT(r);for(;s!==null;)dt=s,jI(s),s=s.sibling;dt=r,tm=a,ki=u}IT(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,dt=s):IT(n)}}function IT(n){for(;dt!==null;){var e=dt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ki||xv(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ki)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:vs(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mT(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}mT(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Jd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}ki||e.flags&512&&c1(e)}catch(p){Wn(e,e.return,p)}}if(e===n){dt=null;break}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}}function BT(n){for(;dt!==null;){var e=dt;if(e===n){dt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,dt=t;break}dt=e.return}}function DT(n){for(;dt!==null;){var e=dt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{xv(4,e)}catch(l){Wn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Wn(e,r,l)}}var s=e.return;try{c1(e)}catch(l){Wn(e,s,l)}break;case 5:var o=e.return;try{c1(e)}catch(l){Wn(e,o,l)}}}catch(l){Wn(e,e.return,l)}if(e===n){dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,dt=a;break}dt=e.return}}var l4=Math.ceil,Jg=Uo.ReactCurrentDispatcher,eM=Uo.ReactCurrentOwner,rs=Uo.ReactCurrentBatchConfig,ln=0,gi=null,ni=null,wi=0,wr=0,ac=La(0),oi=0,rh=null,Wl=0,_v=0,tM=0,Cd=null,fr=null,nM=0,Lc=1/0,po=null,Kg=!1,h1=null,Aa=null,nm=!1,pa=null,Yg=0,bd=0,p1=null,gg=-1,vg=0;function Zi(){return ln&6?Kn():gg!==-1?gg:gg=Kn()}function Ma(n){return n.mode&1?ln&2&&wi!==0?wi&-wi:jk.transition!==null?(vg===0&&(vg=R3()),vg):(n=vn,n!==0||(n=window.event,n=n===void 0?16:F3(n.type)),n):1}function Es(n,e,t,i){if(50<bd)throw bd=0,p1=null,Error(Fe(185));Eh(n,t,i),(!(ln&2)||n!==gi)&&(n===gi&&(!(ln&2)&&(_v|=t),oi===4&&fa(n,wi)),vr(n,i),t===1&&ln===0&&!(e.mode&1)&&(Lc=Kn()+500,gv&&Oa()))}function vr(n,e){var t=n.callbackNode;jU(n,e);var i=Bg(n,n===gi?wi:0);if(i===0)t!==null&&G2(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&G2(t),e===1)n.tag===0?Wk(LT.bind(null,n)):tI(LT.bind(null,n)),zk(function(){!(ln&6)&&Oa()}),t=null;else{switch(P3(i)){case 1:t=bA;break;case 4:t=C3;break;case 16:t=Ig;break;case 536870912:t=b3;break;default:t=Ig}t=$I(t,XI.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function XI(n,e){if(gg=-1,vg=0,ln&6)throw Error(Fe(327));var t=n.callbackNode;if(Sc()&&n.callbackNode!==t)return null;var i=Bg(n,n===gi?wi:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Qg(n,i);else{e=i;var r=ln;ln|=2;var s=KI();(gi!==n||wi!==e)&&(po=null,Lc=Kn()+500,Ll(n,e));do try{f4();break}catch(a){JI(n,a)}while(!0);HA(),Jg.current=s,ln=r,ni!==null?e=0:(gi=null,wi=0,e=oi)}if(e!==0){if(e===2&&(r=HS(n),r!==0&&(i=r,e=m1(n,r))),e===1)throw t=rh,Ll(n,0),fa(n,i),vr(n,Kn()),t;if(e===6)fa(n,i);else{if(r=n.current.alternate,!(i&30)&&!u4(r)&&(e=Qg(n,i),e===2&&(s=HS(n),s!==0&&(i=s,e=m1(n,s))),e===1))throw t=rh,Ll(n,0),fa(n,i),vr(n,Kn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Fe(345));case 2:hl(n,fr,po);break;case 3:if(fa(n,i),(i&130023424)===i&&(e=nM+500-Kn(),10<e)){if(Bg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Zi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=YS(hl.bind(null,n,fr,po),e);break}hl(n,fr,po);break;case 4:if(fa(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-ws(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Kn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*l4(i/1960))-i,10<i){n.timeoutHandle=YS(hl.bind(null,n,fr,po),i);break}hl(n,fr,po);break;case 5:hl(n,fr,po);break;default:throw Error(Fe(329))}}}return vr(n,Kn()),n.callbackNode===t?XI.bind(null,n):null}function m1(n,e){var t=Cd;return n.current.memoizedState.isDehydrated&&(Ll(n,e).flags|=256),n=Qg(n,e),n!==2&&(e=fr,fr=t,e!==null&&g1(e)),n}function g1(n){fr===null?fr=n:fr.push.apply(fr,n)}function u4(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Cs(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fa(n,e){for(e&=~tM,e&=~_v,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ws(e),i=1<<t;n[t]=-1,e&=~i}}function LT(n){if(ln&6)throw Error(Fe(327));Sc();var e=Bg(n,0);if(!(e&1))return vr(n,Kn()),null;var t=Qg(n,e);if(n.tag!==0&&t===2){var i=HS(n);i!==0&&(e=i,t=m1(n,i))}if(t===1)throw t=rh,Ll(n,0),fa(n,e),vr(n,Kn()),t;if(t===6)throw Error(Fe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,hl(n,fr,po),vr(n,Kn()),null}function iM(n,e){var t=ln;ln|=1;try{return n(e)}finally{ln=t,ln===0&&(Lc=Kn()+500,gv&&Oa())}}function jl(n){pa!==null&&pa.tag===0&&!(ln&6)&&Sc();var e=ln;ln|=1;var t=rs.transition,i=vn;try{if(rs.transition=null,vn=1,n)return n()}finally{vn=i,rs.transition=t,ln=e,!(ln&6)&&Oa()}}function rM(){wr=ac.current,Mn(ac)}function Ll(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,kk(t)),ni!==null)for(t=ni.return;t!==null;){var i=t;switch(UA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ng();break;case 3:Bc(),Mn(mr),Mn(Gi),JA();break;case 5:XA(i);break;case 4:Bc();break;case 13:Mn(On);break;case 19:Mn(On);break;case 10:GA(i.type._context);break;case 22:case 23:rM()}t=t.return}if(gi=n,ni=n=wa(n.current,null),wi=wr=e,oi=0,rh=null,tM=_v=Wl=0,fr=Cd=null,wl!==null){for(e=0;e<wl.length;e++)if(t=wl[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}wl=null}return n}function JI(n,e){do{var t=ni;try{if(HA(),hg.current=Xg,jg){for(var i=Un.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}jg=!1}if(Vl=0,mi=si=Un=null,Ed=!1,th=0,eM.current=null,t===null||t.return===null){oi=1,rh=e,ni=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=wi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ST(o);if(m!==null){m.flags&=-257,AT(m,o,a,s,e),m.mode&1&&_T(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){_T(s,u,e),sM();break e}l=Error(Fe(426))}}else if(Pn&&a.mode&1){var x=ST(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),AT(x,o,a,s,e),kA(Dc(l,a));break e}}s=l=Dc(l,a),oi!==4&&(oi=2),Cd===null?Cd=[s]:Cd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=PI(s,l,e);pT(s,g);break e;case 1:a=l;var S=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Aa===null||!Aa.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=II(s,a,e);pT(s,w);break e}}s=s.return}while(s!==null)}QI(t)}catch(C){e=C,ni===t&&t!==null&&(ni=t=t.return);continue}break}while(!0)}function KI(){var n=Jg.current;return Jg.current=Xg,n===null?Xg:n}function sM(){(oi===0||oi===3||oi===2)&&(oi=4),gi===null||!(Wl&268435455)&&!(_v&268435455)||fa(gi,wi)}function Qg(n,e){var t=ln;ln|=2;var i=KI();(gi!==n||wi!==e)&&(po=null,Ll(n,e));do try{c4();break}catch(r){JI(n,r)}while(!0);if(HA(),ln=t,Jg.current=i,ni!==null)throw Error(Fe(261));return gi=null,wi=0,oi}function c4(){for(;ni!==null;)YI(ni)}function f4(){for(;ni!==null&&!FU();)YI(ni)}function YI(n){var e=ZI(n.alternate,n,wr);n.memoizedProps=n.pendingProps,e===null?QI(n):ni=e,eM.current=null}function QI(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=r4(t,e),t!==null){t.flags&=32767,ni=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{oi=6,ni=null;return}}else if(t=i4(t,e,wr),t!==null){ni=t;return}if(e=e.sibling,e!==null){ni=e;return}ni=e=n}while(e!==null);oi===0&&(oi=5)}function hl(n,e,t){var i=vn,r=rs.transition;try{rs.transition=null,vn=1,d4(n,e,t,i)}finally{rs.transition=r,vn=i}return null}function d4(n,e,t,i){do Sc();while(pa!==null);if(ln&6)throw Error(Fe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Fe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(XU(n,s),n===gi&&(ni=gi=null,wi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||nm||(nm=!0,$I(Ig,function(){return Sc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=rs.transition,rs.transition=null;var o=vn;vn=1;var a=ln;ln|=4,eM.current=null,o4(n,t),WI(t,n),Bk(JS),Dg=!!XS,JS=XS=null,n.current=t,a4(t),NU(),ln=a,vn=o,rs.transition=s}else n.current=t;if(nm&&(nm=!1,pa=n,Yg=r),s=n.pendingLanes,s===0&&(Aa=null),zU(t.stateNode),vr(n,Kn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Kg)throw Kg=!1,n=h1,h1=null,n;return Yg&1&&n.tag!==0&&Sc(),s=n.pendingLanes,s&1?n===p1?bd++:(bd=0,p1=n):bd=0,Oa(),null}function Sc(){if(pa!==null){var n=P3(Yg),e=rs.transition,t=vn;try{if(rs.transition=null,vn=16>n?16:n,pa===null)var i=!1;else{if(n=pa,pa=null,Yg=0,ln&6)throw Error(Fe(331));var r=ln;for(ln|=4,dt=n.current;dt!==null;){var s=dt,o=s.child;if(dt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(dt=u;dt!==null;){var d=dt;switch(d.tag){case 0:case 11:case 15:Td(8,d,s)}var h=d.child;if(h!==null)h.return=d,dt=h;else for(;dt!==null;){d=dt;var p=d.sibling,m=d.return;if(HI(d),d===u){dt=null;break}if(p!==null){p.return=m,dt=p;break}dt=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}dt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,dt=o;else e:for(;dt!==null;){if(s=dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Td(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,dt=g;break e}dt=s.return}}var S=n.current;for(dt=S;dt!==null;){o=dt;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,dt=A;else e:for(o=S;dt!==null;){if(a=dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xv(9,a)}}catch(C){Wn(a,a.return,C)}if(a===o){dt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,dt=w;break e}dt=a.return}}if(ln=r,Oa(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(fv,n)}catch{}i=!0}return i}finally{vn=t,rs.transition=e}}return!1}function OT(n,e,t){e=Dc(t,e),e=PI(n,e,1),n=Sa(n,e,1),e=Zi(),n!==null&&(Eh(n,1,e),vr(n,e))}function Wn(n,e,t){if(n.tag===3)OT(n,n,t);else for(;e!==null;){if(e.tag===3){OT(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Aa===null||!Aa.has(i))){n=Dc(t,n),n=II(e,n,1),e=Sa(e,n,1),n=Zi(),e!==null&&(Eh(e,1,n),vr(e,n));break}}e=e.return}}function h4(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Zi(),n.pingedLanes|=n.suspendedLanes&t,gi===n&&(wi&t)===t&&(oi===4||oi===3&&(wi&130023424)===wi&&500>Kn()-nM?Ll(n,0):tM|=t),vr(n,e)}function qI(n,e){e===0&&(n.mode&1?(e=Xp,Xp<<=1,!(Xp&130023424)&&(Xp=4194304)):e=1);var t=Zi();n=Bo(n,e),n!==null&&(Eh(n,e,t),vr(n,t))}function p4(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),qI(n,t)}function m4(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Fe(314))}i!==null&&i.delete(e),qI(n,t)}var ZI;ZI=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||mr.current)hr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return hr=!1,n4(n,e,t);hr=!!(n.flags&131072)}else hr=!1,Pn&&e.flags&1048576&&nI(e,zg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;mg(n,e),n=e.pendingProps;var r=Rc(e,Gi.current);_c(e,t),r=YA(null,e,i,n,r,t);var s=QA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(i)?(s=!0,Ug(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,WA(e),r.updater=yv,e.stateNode=r,r._reactInternals=e,n1(e,i,n,t),e=s1(null,e,i,!0,s,t)):(e.tag=0,Pn&&s&&NA(e),Qi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(mg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=v4(i),n=vs(i,n),r){case 0:e=r1(null,e,i,n,t);break e;case 1:e=ET(null,e,i,n,t);break e;case 11:e=MT(null,e,i,n,t);break e;case 14:e=wT(null,e,i,vs(i.type,n),t);break e}throw Error(Fe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vs(i,r),r1(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vs(i,r),ET(n,e,i,r,t);case 3:e:{if(OI(e),n===null)throw Error(Fe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,lI(n,e),Vg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Dc(Error(Fe(423)),e),e=TT(n,e,i,t,r);break e}else if(i!==r){r=Dc(Error(Fe(424)),e),e=TT(n,e,i,t,r);break e}else for(Tr=_a(e.stateNode.containerInfo.firstChild),Pr=e,Pn=!0,Ss=null,t=oI(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Pc(),i===r){e=Do(n,e,t);break e}Qi(n,e,i,t)}e=e.child}return e;case 5:return uI(e),n===null&&$S(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,KS(i,r)?o=null:s!==null&&KS(i,s)&&(e.flags|=32),LI(n,e),Qi(n,e,o,t),e.child;case 6:return n===null&&$S(e),null;case 13:return FI(n,e,t);case 4:return jA(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Ic(e,null,i,t):Qi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vs(i,r),MT(n,e,i,r,t);case 7:return Qi(n,e,e.pendingProps,t),e.child;case 8:return Qi(n,e,e.pendingProps.children,t),e.child;case 12:return Qi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Sn(Hg,i._currentValue),i._currentValue=o,s!==null)if(Cs(s.value,o)){if(s.children===r.children&&!mr.current){e=Do(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Mo(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),e1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),e1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,_c(e,t),r=ss(r),i=i(r),e.flags|=1,Qi(n,e,i,t),e.child;case 14:return i=e.type,r=vs(i,e.pendingProps),r=vs(i.type,r),wT(n,e,i,r,t);case 15:return BI(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vs(i,r),mg(n,e),e.tag=1,gr(i)?(n=!0,Ug(e)):n=!1,_c(e,t),RI(e,i,r),n1(e,i,r,t),s1(null,e,i,!0,n,t);case 19:return NI(n,e,t);case 22:return DI(n,e,t)}throw Error(Fe(156,e.tag))};function $I(n,e){return T3(n,e)}function g4(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(n,e,t,i){return new g4(n,e,t,i)}function oM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function v4(n){if(typeof n=="function")return oM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===EA)return 11;if(n===TA)return 14}return 2}function wa(n,e){var t=n.alternate;return t===null?(t=ns(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function yg(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")oM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case qu:return Ol(t.children,r,s,e);case wA:o=8,r|=8;break;case TS:return n=ns(12,t,e,r|2),n.elementType=TS,n.lanes=s,n;case CS:return n=ns(13,t,e,r),n.elementType=CS,n.lanes=s,n;case bS:return n=ns(19,t,e,r),n.elementType=bS,n.lanes=s,n;case u3:return Sv(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case a3:o=10;break e;case l3:o=9;break e;case EA:o=11;break e;case TA:o=14;break e;case aa:o=16,i=null;break e}throw Error(Fe(130,n==null?n:typeof n,""))}return e=ns(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ol(n,e,t,i){return n=ns(7,n,i,e),n.lanes=t,n}function Sv(n,e,t,i){return n=ns(22,n,i,e),n.elementType=u3,n.lanes=t,n.stateNode={isHidden:!1},n}function Jx(n,e,t){return n=ns(6,n,null,e),n.lanes=t,n}function Kx(n,e,t){return e=ns(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function y4(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bx(0),this.expirationTimes=bx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bx(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function aM(n,e,t,i,r,s,o,a,l){return n=new y4(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ns(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},WA(s),n}function x4(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function eB(n){if(!n)return Ca;n=n._reactInternals;e:{if(nu(n)!==n||n.tag!==1)throw Error(Fe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(n.tag===1){var t=n.type;if(gr(t))return eI(n,t,e)}return e}function tB(n,e,t,i,r,s,o,a,l){return n=aM(t,i,!0,n,r,s,o,a,l),n.context=eB(null),t=n.current,i=Zi(),r=Ma(t),s=Mo(i,r),s.callback=e??null,Sa(t,s,r),n.current.lanes=r,Eh(n,r,i),vr(n,i),n}function Av(n,e,t,i){var r=e.current,s=Zi(),o=Ma(r);return t=eB(t),e.context===null?e.context=t:e.pendingContext=t,e=Mo(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Sa(r,e,o),n!==null&&(Es(n,r,o,s),dg(n,r,o)),o}function qg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function FT(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function lM(n,e){FT(n,e),(n=n.alternate)&&FT(n,e)}function _4(){return null}var nB=typeof reportError=="function"?reportError:function(n){console.error(n)};function uM(n){this._internalRoot=n}Mv.prototype.render=uM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Fe(409));Av(n,e,null,null)};Mv.prototype.unmount=uM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;jl(function(){Av(null,n,null,null)}),e[Io]=null}};function Mv(n){this._internalRoot=n}Mv.prototype.unstable_scheduleHydration=function(n){if(n){var e=D3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ca.length&&e!==0&&e<ca[t].priority;t++);ca.splice(t,0,n),t===0&&O3(n)}};function cM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function NT(){}function S4(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=qg(o);s.call(u)}}var o=tB(e,i,n,0,null,!1,!1,"",NT);return n._reactRootContainer=o,n[Io]=o.current,Qd(n.nodeType===8?n.parentNode:n),jl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=qg(l);a.call(u)}}var l=aM(n,0,!1,null,null,!1,!1,"",NT);return n._reactRootContainer=l,n[Io]=l.current,Qd(n.nodeType===8?n.parentNode:n),jl(function(){Av(e,l,t,i)}),l}function Ev(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=qg(o);a.call(l)}}Av(e,o,n,r)}else o=S4(t,e,n,r,i);return qg(o)}I3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=fd(e.pendingLanes);t!==0&&(RA(e,t|1),vr(e,Kn()),!(ln&6)&&(Lc=Kn()+500,Oa()))}break;case 13:jl(function(){var i=Bo(n,1);if(i!==null){var r=Zi();Es(i,n,1,r)}}),lM(n,1)}};PA=function(n){if(n.tag===13){var e=Bo(n,134217728);if(e!==null){var t=Zi();Es(e,n,134217728,t)}lM(n,134217728)}};B3=function(n){if(n.tag===13){var e=Ma(n),t=Bo(n,e);if(t!==null){var i=Zi();Es(t,n,e,i)}lM(n,e)}};D3=function(){return vn};L3=function(n,e){var t=vn;try{return vn=n,e()}finally{vn=t}};US=function(n,e,t){switch(e){case"input":if(IS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=mv(i);if(!r)throw Error(Fe(90));f3(i),IS(i,r)}}}break;case"textarea":h3(n,t);break;case"select":e=t.value,e!=null&&gc(n,!!t.multiple,e,!1)}};_3=iM;S3=jl;var A4={usingClientEntryPoint:!1,Events:[Ch,tc,mv,y3,x3,iM]},Vf={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M4={bundleType:Vf.bundleType,version:Vf.version,rendererPackageName:Vf.rendererPackageName,rendererConfig:Vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=w3(n),n===null?null:n.stateNode},findFiberByHostInstance:Vf.findFiberByHostInstance||_4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{fv=im.inject(M4),js=im}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A4;Nr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cM(e))throw Error(Fe(200));return x4(n,e,null,t)};Nr.createRoot=function(n,e){if(!cM(n))throw Error(Fe(299));var t=!1,i="",r=nB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=aM(n,1,!1,null,null,t,!1,i,r),n[Io]=e.current,Qd(n.nodeType===8?n.parentNode:n),new uM(e)};Nr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Fe(188)):(n=Object.keys(n).join(","),Error(Fe(268,n)));return n=w3(e),n=n===null?null:n.stateNode,n};Nr.flushSync=function(n){return jl(n)};Nr.hydrate=function(n,e,t){if(!wv(e))throw Error(Fe(200));return Ev(null,n,e,!0,t)};Nr.hydrateRoot=function(n,e,t){if(!cM(n))throw Error(Fe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=nB;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=tB(e,null,n,1,t??null,r,!1,s,o),n[Io]=e.current,Qd(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Mv(e)};Nr.render=function(n,e,t){if(!wv(e))throw Error(Fe(200));return Ev(null,n,e,!1,t)};Nr.unmountComponentAtNode=function(n){if(!wv(n))throw Error(Fe(40));return n._reactRootContainer?(jl(function(){Ev(null,null,n,!1,function(){n._reactRootContainer=null,n[Io]=null})}),!0):!1};Nr.unstable_batchedUpdates=iM;Nr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!wv(t))throw Error(Fe(200));if(n==null||n._reactInternals===void 0)throw Error(Fe(38));return Ev(n,e,t,!1,i)};Nr.version="18.3.1-next-f1338f8080-20240426";function iB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iB)}catch(n){console.error(n)}}iB(),i3.exports=Nr;var fM=i3.exports;const w4=uv(fM),E4=VP({__proto__:null,default:w4},[fM]);var rB,UT=fM;rB=wS.createRoot=UT.createRoot,wS.hydrateRoot=UT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rn(){return Rn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rn.apply(this,arguments)}var ti;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ti||(ti={}));const kT="popstate";function T4(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return sh("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Xl(r)}return b4(e,t,null,n)}function tn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Oc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C4(){return Math.random().toString(36).substr(2,8)}function zT(n,e){return{usr:n.state,key:n.key,idx:e}}function sh(n,e,t,i){return t===void 0&&(t=null),Rn({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Fa(e):e,{state:t,key:e&&e.key||i||C4()})}function Xl(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Fa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function b4(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=ti.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Rn({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ti.Pop;let x=d(),g=x==null?null:x-u;u=x,l&&l({action:a,location:_.location,delta:g})}function p(x,g){a=ti.Push;let S=sh(_.location,x,g);u=d()+1;let A=zT(S,u),w=_.createHref(S);try{o.pushState(A,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(w)}s&&l&&l({action:a,location:_.location,delta:1})}function m(x,g){a=ti.Replace;let S=sh(_.location,x,g);u=d();let A=zT(S,u),w=_.createHref(S);o.replaceState(A,"",w),s&&l&&l({action:a,location:_.location,delta:0})}function v(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof x=="string"?x:Xl(x);return S=S.replace(/ $/,"%20"),tn(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let _={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(kT,h),l=x,()=>{r.removeEventListener(kT,h),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var gn;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(gn||(gn={}));const R4=new Set(["lazy","caseSensitive","path","id","index","children"]);function P4(n){return n.index===!0}function Zg(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,s)=>{let o=[...t,String(s)],a=typeof r.id=="string"?r.id:o.join("-");if(tn(r.index!==!0||!r.children,"Cannot specify children on an index route"),tn(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),P4(r)){let l=Rn({},r,e(r),{id:a});return i[a]=l,l}else{let l=Rn({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=Zg(r.children,e,o,i)),l}})}function _l(n,e,t){return t===void 0&&(t="/"),xg(n,e,t,!1)}function xg(n,e,t,i){let r=typeof e=="string"?Fa(e):e,s=af(r.pathname||"/",t);if(s==null)return null;let o=sB(n);B4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=V4(s);a=H4(o[l],u,i)}return a}function I4(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function sB(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=wo([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(tn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:k4(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of oB(s.path))r(s,o,l)}),e}function oB(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=oB(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function B4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:z4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const D4=/^:[\w-]+$/,L4=3,O4=2,F4=1,N4=10,U4=-2,HT=n=>n==="*";function k4(n,e){let t=n.split("/"),i=t.length;return t.some(HT)&&(i+=U4),e&&(i+=O4),t.filter(r=>!HT(r)).reduce((r,s)=>r+(D4.test(s)?L4:s===""?F4:N4),i)}function z4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function H4(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=GT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=GT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:wo([s,h.pathname]),pathnameBase:X4(wo([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=wo([s,h.pathnameBase]))}return o}function GT(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=G4(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function G4(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Oc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function V4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function af(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function W4(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Fa(n):n;return{pathname:t?t.startsWith("/")?t:j4(t,e):e,search:J4(i),hash:K4(r)}}function j4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Yx(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dM(n,e){let t=aB(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function hM(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Fa(n):(r=Rn({},n),tn(!r.pathname||!r.pathname.includes("?"),Yx("?","pathname","search",r)),tn(!r.pathname||!r.pathname.includes("#"),Yx("#","pathname","hash",r)),tn(!r.search||!r.search.includes("#"),Yx("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=W4(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const wo=n=>n.join("/").replace(/\/\/+/g,"/"),X4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),J4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,K4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class $g{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function oh(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const lB=["post","put","patch","delete"],Y4=new Set(lB),Q4=["get",...lB],q4=new Set(Q4),Z4=new Set([301,302,303,307,308]),$4=new Set([307,308]),Qx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},e5={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t5=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),uB="remix-router-transitions";function n5(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;tn(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let X=n.detectErrorBoundary;r=$=>({hasErrorBoundary:X($)})}else r=t5;let s={},o=Zg(n.routes,r,void 0,s),a,l=n.basename||"/",u=n.dataStrategy||o5,d=n.patchRoutesOnNavigation,h=Rn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),p=null,m=new Set,v=null,_=null,x=null,g=n.hydrationData!=null,S=_l(o,n.history.location,l),A=!1,w=null;if(S==null&&!d){let X=ur(404,{pathname:n.history.location.pathname}),{matches:$,route:fe}=$T(o);S=$,w={[fe.id]:X}}S&&!n.hydrationData&&Jt(S,o,n.history.location.pathname).active&&(S=null);let C;if(S)if(S.some(X=>X.route.lazy))C=!1;else if(!S.some(X=>X.route.loader))C=!0;else if(h.v7_partialHydration){let X=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let fe=S.findIndex(Re=>$[Re.route.id]!==void 0);C=S.slice(0,fe+1).every(Re=>!y1(Re.route,X,$))}else C=S.every(fe=>!y1(fe.route,X,$))}else C=n.hydrationData!=null;else if(C=!1,S=[],h.v7_partialHydration){let X=Jt(null,o,n.history.location.pathname);X.active&&X.matches&&(A=!0,S=X.matches)}let P,b={historyAction:n.history.action,location:n.history.location,matches:S,initialized:C,navigation:Qx,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||w,fetchers:new Map,blockers:new Map},B=ti.Pop,R=!1,T,D=!1,z=new Map,V=null,J=!1,ne=!1,ie=[],re=new Set,F=new Map,K=0,Y=-1,ae=new Map,_e=new Set,De=new Map,it=new Map,se=new Set,Te=new Map,Ce=new Map,ct;function st(){if(p=n.history.listen(X=>{let{action:$,location:fe,delta:Re}=X;if(ct){ct(),ct=void 0;return}Oc(Ce.size===0||Re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let We=we({currentLocation:b.location,nextLocation:fe,historyAction:$});if(We&&Re!=null){let pt=new Promise(Bt=>{ct=Bt});n.history.go(Re*-1),j(We,{state:"blocked",location:fe,proceed(){j(We,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),pt.then(()=>n.history.go(Re))},reset(){let Bt=new Map(b.blockers);Bt.set(We,Wf),Qe({blockers:Bt})}});return}return Ee($,fe)}),t){_5(e,z);let X=()=>S5(e,z);e.addEventListener("pagehide",X),V=()=>e.removeEventListener("pagehide",X)}return b.initialized||Ee(ti.Pop,b.location,{initialHydration:!0}),P}function rt(){p&&p(),V&&V(),m.clear(),T&&T.abort(),b.fetchers.forEach((X,$)=>ot($)),b.blockers.forEach((X,$)=>Oe($))}function ht(X){return m.add(X),()=>m.delete(X)}function Qe(X,$){$===void 0&&($={}),b=Rn({},b,X);let fe=[],Re=[];h.v7_fetcherPersist&&b.fetchers.forEach((We,pt)=>{We.state==="idle"&&(se.has(pt)?Re.push(pt):fe.push(pt))}),se.forEach(We=>{!b.fetchers.has(We)&&!F.has(We)&&Re.push(We)}),[...m].forEach(We=>We(b,{deletedFetchers:Re,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),h.v7_fetcherPersist?(fe.forEach(We=>b.fetchers.delete(We)),Re.forEach(We=>ot(We))):Re.forEach(We=>se.delete(We))}function H(X,$,fe){var Re,We;let{flushSync:pt}=fe===void 0?{}:fe,Bt=b.actionData!=null&&b.navigation.formMethod!=null&&_s(b.navigation.formMethod)&&b.navigation.state==="loading"&&((Re=X.state)==null?void 0:Re._isRedirect)!==!0,at;$.actionData?Object.keys($.actionData).length>0?at=$.actionData:at=null:Bt?at=b.actionData:at=null;let mt=$.loaderData?qT(b.loaderData,$.loaderData,$.matches||[],$.errors):b.loaderData,lt=b.blockers;lt.size>0&&(lt=new Map(lt),lt.forEach((Qt,zn)=>lt.set(zn,Wf)));let yt=R===!0||b.navigation.formMethod!=null&&_s(b.navigation.formMethod)&&((We=X.state)==null?void 0:We._isRedirect)!==!0;a&&(o=a,a=void 0),J||B===ti.Pop||(B===ti.Push?n.history.push(X,X.state):B===ti.Replace&&n.history.replace(X,X.state));let Ut;if(B===ti.Pop){let Qt=z.get(b.location.pathname);Qt&&Qt.has(X.pathname)?Ut={currentLocation:b.location,nextLocation:X}:z.has(X.pathname)&&(Ut={currentLocation:X,nextLocation:b.location})}else if(D){let Qt=z.get(b.location.pathname);Qt?Qt.add(X.pathname):(Qt=new Set([X.pathname]),z.set(b.location.pathname,Qt)),Ut={currentLocation:b.location,nextLocation:X}}Qe(Rn({},$,{actionData:at,loaderData:mt,historyAction:B,location:X,initialized:!0,navigation:Qx,revalidation:"idle",restoreScrollPosition:St(X,$.matches||b.matches),preventScrollReset:yt,blockers:lt}),{viewTransitionOpts:Ut,flushSync:pt===!0}),B=ti.Pop,R=!1,D=!1,J=!1,ne=!1,ie=[]}async function Ae(X,$){if(typeof X=="number"){n.history.go(X);return}let fe=v1(b.location,b.matches,l,h.v7_prependBasename,X,h.v7_relativeSplatPath,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:Re,submission:We,error:pt}=VT(h.v7_normalizeFormMethod,!1,fe,$),Bt=b.location,at=sh(b.location,Re,$&&$.state);at=Rn({},at,n.history.encodeLocation(at));let mt=$&&$.replace!=null?$.replace:void 0,lt=ti.Push;mt===!0?lt=ti.Replace:mt===!1||We!=null&&_s(We.formMethod)&&We.formAction===b.location.pathname+b.location.search&&(lt=ti.Replace);let yt=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ut=($&&$.flushSync)===!0,Qt=we({currentLocation:Bt,nextLocation:at,historyAction:lt});if(Qt){j(Qt,{state:"blocked",location:at,proceed(){j(Qt,{state:"proceeding",proceed:void 0,reset:void 0,location:at}),Ae(X,$)},reset(){let zn=new Map(b.blockers);zn.set(Qt,Wf),Qe({blockers:zn})}});return}return await Ee(lt,at,{submission:We,pendingError:pt,preventScrollReset:yt,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ut})}function ve(){if(Me(),Qe({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Ee(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Ee(B||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:D===!0})}}async function Ee(X,$,fe){T&&T.abort(),T=null,B=X,J=(fe&&fe.startUninterruptedRevalidation)===!0,qe(b.location,b.matches),R=(fe&&fe.preventScrollReset)===!0,D=(fe&&fe.enableViewTransition)===!0;let Re=a||o,We=fe&&fe.overrideNavigation,pt=fe!=null&&fe.initialHydration&&b.matches&&b.matches.length>0&&!A?b.matches:_l(Re,$,l),Bt=(fe&&fe.flushSync)===!0;if(pt&&b.initialized&&!ne&&d5(b.location,$)&&!(fe&&fe.submission&&_s(fe.submission.formMethod))){H($,{matches:pt},{flushSync:Bt});return}let at=Jt(pt,Re,$.pathname);if(at.active&&at.matches&&(pt=at.matches),!pt){let{error:hn,notFoundMatches:nn,route:O}=Le($.pathname);H($,{matches:nn,loaderData:{},errors:{[O.id]:hn}},{flushSync:Bt});return}T=new AbortController;let mt=wu(n.history,$,T.signal,fe&&fe.submission),lt;if(fe&&fe.pendingError)lt=[Sl(pt).route.id,{type:gn.error,error:fe.pendingError}];else if(fe&&fe.submission&&_s(fe.submission.formMethod)){let hn=await ye(mt,$,fe.submission,pt,at.active,{replace:fe.replace,flushSync:Bt});if(hn.shortCircuited)return;if(hn.pendingActionResult){let[nn,O]=hn.pendingActionResult;if(Er(O)&&oh(O.error)&&O.error.status===404){T=null,H($,{matches:hn.matches,loaderData:{},errors:{[nn]:O.error}});return}}pt=hn.matches||pt,lt=hn.pendingActionResult,We=qx($,fe.submission),Bt=!1,at.active=!1,mt=wu(n.history,mt.url,mt.signal)}let{shortCircuited:yt,matches:Ut,loaderData:Qt,errors:zn}=await ke(mt,$,pt,at.active,We,fe&&fe.submission,fe&&fe.fetcherSubmission,fe&&fe.replace,fe&&fe.initialHydration===!0,Bt,lt);yt||(T=null,H($,Rn({matches:Ut||pt},ZT(lt),{loaderData:Qt,errors:zn})))}async function ye(X,$,fe,Re,We,pt){pt===void 0&&(pt={}),Me();let Bt=y5($,fe);if(Qe({navigation:Bt},{flushSync:pt.flushSync===!0}),We){let lt=await zt(Re,$.pathname,X.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){let yt=Sl(lt.partialMatches).route.id;return{matches:lt.partialMatches,pendingActionResult:[yt,{type:gn.error,error:lt.error}]}}else if(lt.matches)Re=lt.matches;else{let{notFoundMatches:yt,error:Ut,route:Qt}=Le($.pathname);return{matches:yt,pendingActionResult:[Qt.id,{type:gn.error,error:Ut}]}}}let at,mt=hd(Re,$);if(!mt.route.action&&!mt.route.lazy)at={type:gn.error,error:ur(405,{method:X.method,pathname:$.pathname,routeId:mt.route.id})};else if(at=(await te("action",b,X,[mt],Re,null))[mt.route.id],X.signal.aborted)return{shortCircuited:!0};if(Tl(at)){let lt;return pt&&pt.replace!=null?lt=pt.replace:lt=KT(at.response.headers.get("Location"),new URL(X.url),l)===b.location.pathname+b.location.search,await L(X,at,!0,{submission:fe,replace:lt}),{shortCircuited:!0}}if(ma(at))throw ur(400,{type:"defer-action"});if(Er(at)){let lt=Sl(Re,mt.route.id);return(pt&&pt.replace)!==!0&&(B=ti.Push),{matches:Re,pendingActionResult:[lt.route.id,at]}}return{matches:Re,pendingActionResult:[mt.route.id,at]}}async function ke(X,$,fe,Re,We,pt,Bt,at,mt,lt,yt){let Ut=We||qx($,pt),Qt=pt||Bt||tC(Ut),zn=!J&&(!h.v7_partialHydration||!mt);if(Re){if(zn){let Ge=be(yt);Qe(Rn({navigation:Ut},Ge!==void 0?{actionData:Ge}:{}),{flushSync:lt})}let He=await zt(fe,$.pathname,X.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Ge=Sl(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[Ge]:He.error}}}else if(He.matches)fe=He.matches;else{let{error:Ge,notFoundMatches:ut,route:xt}=Le($.pathname);return{matches:ut,loaderData:{},errors:{[xt.id]:Ge}}}}let hn=a||o,[nn,O]=jT(n.history,b,fe,Qt,$,h.v7_partialHydration&&mt===!0,h.v7_skipActionErrorRevalidation,ne,ie,re,se,De,_e,hn,l,yt);if(Xe(He=>!(fe&&fe.some(Ge=>Ge.route.id===He))||nn&&nn.some(Ge=>Ge.route.id===He)),Y=++K,nn.length===0&&O.length===0){let He=wt();return H($,Rn({matches:fe,loaderData:{},errors:yt&&Er(yt[1])?{[yt[0]]:yt[1].error}:null},ZT(yt),He?{fetchers:new Map(b.fetchers)}:{}),{flushSync:lt}),{shortCircuited:!0}}if(zn){let He={};if(!Re){He.navigation=Ut;let Ge=be(yt);Ge!==void 0&&(He.actionData=Ge)}O.length>0&&(He.fetchers=Ne(O)),Qe(He,{flushSync:lt})}O.forEach(He=>{Pe(He.key),He.controller&&F.set(He.key,He.controller)});let Z=()=>O.forEach(He=>Pe(He.key));T&&T.signal.addEventListener("abort",Z);let{loaderResults:ce,fetcherResults:le}=await de(b,fe,nn,O,X);if(X.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Z),O.forEach(He=>F.delete(He.key));let q=rm(ce);if(q)return await L(X,q.result,!0,{replace:at}),{shortCircuited:!0};if(q=rm(le),q)return _e.add(q.key),await L(X,q.result,!0,{replace:at}),{shortCircuited:!0};let{loaderData:Ie,errors:Ve}=QT(b,fe,ce,yt,O,le,Te);Te.forEach((He,Ge)=>{He.subscribe(ut=>{(ut||He.done)&&Te.delete(Ge)})}),h.v7_partialHydration&&mt&&b.errors&&(Ve=Rn({},b.errors,Ve));let et=wt(),tt=W(Y),At=et||tt||O.length>0;return Rn({matches:fe,loaderData:Ie,errors:Ve},At?{fetchers:new Map(b.fetchers)}:{})}function be(X){if(X&&!Er(X[1]))return{[X[0]]:X[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Ne(X){return X.forEach($=>{let fe=b.fetchers.get($.key),Re=jf(void 0,fe?fe.data:void 0);b.fetchers.set($.key,Re)}),new Map(b.fetchers)}function It(X,$,fe,Re){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Pe(X);let We=(Re&&Re.flushSync)===!0,pt=a||o,Bt=v1(b.location,b.matches,l,h.v7_prependBasename,fe,h.v7_relativeSplatPath,$,Re==null?void 0:Re.relative),at=_l(pt,Bt,l),mt=Jt(at,pt,Bt);if(mt.active&&mt.matches&&(at=mt.matches),!at){$e(X,$,ur(404,{pathname:Bt}),{flushSync:We});return}let{path:lt,submission:yt,error:Ut}=VT(h.v7_normalizeFormMethod,!0,Bt,Re);if(Ut){$e(X,$,Ut,{flushSync:We});return}let Qt=hd(at,lt),zn=(Re&&Re.preventScrollReset)===!0;if(yt&&_s(yt.formMethod)){Tt(X,$,lt,Qt,at,mt.active,We,zn,yt);return}De.set(X,{routeId:$,path:lt}),U(X,$,lt,Qt,at,mt.active,We,zn,yt)}async function Tt(X,$,fe,Re,We,pt,Bt,at,mt){Me(),De.delete(X);function lt(Ct){if(!Ct.route.action&&!Ct.route.lazy){let Ot=ur(405,{method:mt.formMethod,pathname:fe,routeId:$});return $e(X,$,Ot,{flushSync:Bt}),!0}return!1}if(!pt&&lt(Re))return;let yt=b.fetchers.get(X);he(X,x5(mt,yt),{flushSync:Bt});let Ut=new AbortController,Qt=wu(n.history,fe,Ut.signal,mt);if(pt){let Ct=await zt(We,new URL(Qt.url).pathname,Qt.signal,X);if(Ct.type==="aborted")return;if(Ct.type==="error"){$e(X,$,Ct.error,{flushSync:Bt});return}else if(Ct.matches){if(We=Ct.matches,Re=hd(We,fe),lt(Re))return}else{$e(X,$,ur(404,{pathname:fe}),{flushSync:Bt});return}}F.set(X,Ut);let zn=K,nn=(await te("action",b,Qt,[Re],We,X))[Re.route.id];if(Qt.signal.aborted){F.get(X)===Ut&&F.delete(X);return}if(h.v7_fetcherPersist&&se.has(X)){if(Tl(nn)||Er(nn)){he(X,sa(void 0));return}}else{if(Tl(nn))if(F.delete(X),Y>zn){he(X,sa(void 0));return}else return _e.add(X),he(X,jf(mt)),L(Qt,nn,!1,{fetcherSubmission:mt,preventScrollReset:at});if(Er(nn)){$e(X,$,nn.error);return}}if(ma(nn))throw ur(400,{type:"defer-action"});let O=b.navigation.location||b.location,Z=wu(n.history,O,Ut.signal),ce=a||o,le=b.navigation.state!=="idle"?_l(ce,b.navigation.location,l):b.matches;tn(le,"Didn't find any matches after fetcher action");let q=++K;ae.set(X,q);let Ie=jf(mt,nn.data);b.fetchers.set(X,Ie);let[Ve,et]=jT(n.history,b,le,mt,O,!1,h.v7_skipActionErrorRevalidation,ne,ie,re,se,De,_e,ce,l,[Re.route.id,nn]);et.filter(Ct=>Ct.key!==X).forEach(Ct=>{let Ot=Ct.key,kt=b.fetchers.get(Ot),_t=jf(void 0,kt?kt.data:void 0);b.fetchers.set(Ot,_t),Pe(Ot),Ct.controller&&F.set(Ot,Ct.controller)}),Qe({fetchers:new Map(b.fetchers)});let tt=()=>et.forEach(Ct=>Pe(Ct.key));Ut.signal.addEventListener("abort",tt);let{loaderResults:At,fetcherResults:He}=await de(b,le,Ve,et,Z);if(Ut.signal.aborted)return;Ut.signal.removeEventListener("abort",tt),ae.delete(X),F.delete(X),et.forEach(Ct=>F.delete(Ct.key));let Ge=rm(At);if(Ge)return L(Z,Ge.result,!1,{preventScrollReset:at});if(Ge=rm(He),Ge)return _e.add(Ge.key),L(Z,Ge.result,!1,{preventScrollReset:at});let{loaderData:ut,errors:xt}=QT(b,le,At,void 0,et,He,Te);if(b.fetchers.has(X)){let Ct=sa(nn.data);b.fetchers.set(X,Ct)}W(q),b.navigation.state==="loading"&&q>Y?(tn(B,"Expected pending action"),T&&T.abort(),H(b.navigation.location,{matches:le,loaderData:ut,errors:xt,fetchers:new Map(b.fetchers)})):(Qe({errors:xt,loaderData:qT(b.loaderData,ut,le,xt),fetchers:new Map(b.fetchers)}),ne=!1)}async function U(X,$,fe,Re,We,pt,Bt,at,mt){let lt=b.fetchers.get(X);he(X,jf(mt,lt?lt.data:void 0),{flushSync:Bt});let yt=new AbortController,Ut=wu(n.history,fe,yt.signal);if(pt){let nn=await zt(We,new URL(Ut.url).pathname,Ut.signal,X);if(nn.type==="aborted")return;if(nn.type==="error"){$e(X,$,nn.error,{flushSync:Bt});return}else if(nn.matches)We=nn.matches,Re=hd(We,fe);else{$e(X,$,ur(404,{pathname:fe}),{flushSync:Bt});return}}F.set(X,yt);let Qt=K,hn=(await te("loader",b,Ut,[Re],We,X))[Re.route.id];if(ma(hn)&&(hn=await mM(hn,Ut.signal,!0)||hn),F.get(X)===yt&&F.delete(X),!Ut.signal.aborted){if(se.has(X)){he(X,sa(void 0));return}if(Tl(hn))if(Y>Qt){he(X,sa(void 0));return}else{_e.add(X),await L(Ut,hn,!1,{preventScrollReset:at});return}if(Er(hn)){$e(X,$,hn.error);return}tn(!ma(hn),"Unhandled fetcher deferred data"),he(X,sa(hn.data))}}async function L(X,$,fe,Re){let{submission:We,fetcherSubmission:pt,preventScrollReset:Bt,replace:at}=Re===void 0?{}:Re;$.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let mt=$.response.headers.get("Location");tn(mt,"Expected a Location header on the redirect Response"),mt=KT(mt,new URL(X.url),l);let lt=sh(b.location,mt,{_isRedirect:!0});if(t){let nn=!1;if($.response.headers.has("X-Remix-Reload-Document"))nn=!0;else if(pM.test(mt)){const O=n.history.createURL(mt);nn=O.origin!==e.location.origin||af(O.pathname,l)==null}if(nn){at?e.location.replace(mt):e.location.assign(mt);return}}T=null;let yt=at===!0||$.response.headers.has("X-Remix-Replace")?ti.Replace:ti.Push,{formMethod:Ut,formAction:Qt,formEncType:zn}=b.navigation;!We&&!pt&&Ut&&Qt&&zn&&(We=tC(b.navigation));let hn=We||pt;if($4.has($.response.status)&&hn&&_s(hn.formMethod))await Ee(yt,lt,{submission:Rn({},hn,{formAction:mt}),preventScrollReset:Bt||R,enableViewTransition:fe?D:void 0});else{let nn=qx(lt,We);await Ee(yt,lt,{overrideNavigation:nn,fetcherSubmission:pt,preventScrollReset:Bt||R,enableViewTransition:fe?D:void 0})}}async function te(X,$,fe,Re,We,pt){let Bt,at={};try{Bt=await a5(u,X,$,fe,Re,We,pt,s,r)}catch(mt){return Re.forEach(lt=>{at[lt.route.id]={type:gn.error,error:mt}}),at}for(let[mt,lt]of Object.entries(Bt))if(h5(lt)){let yt=lt.result;at[mt]={type:gn.redirect,response:c5(yt,fe,mt,We,l,h.v7_relativeSplatPath)}}else at[mt]=await u5(lt);return at}async function de(X,$,fe,Re,We){let pt=X.matches,Bt=te("loader",X,We,fe,$,null),at=Promise.all(Re.map(async yt=>{if(yt.matches&&yt.match&&yt.controller){let Qt=(await te("loader",X,wu(n.history,yt.path,yt.controller.signal),[yt.match],yt.matches,yt.key))[yt.match.route.id];return{[yt.key]:Qt}}else return Promise.resolve({[yt.key]:{type:gn.error,error:ur(404,{pathname:yt.path})}})})),mt=await Bt,lt=(await at).reduce((yt,Ut)=>Object.assign(yt,Ut),{});return await Promise.all([g5($,mt,We.signal,pt,X.loaderData),v5($,lt,Re)]),{loaderResults:mt,fetcherResults:lt}}function Me(){ne=!0,ie.push(...Xe()),De.forEach((X,$)=>{F.has($)&&re.add($),Pe($)})}function he(X,$,fe){fe===void 0&&(fe={}),b.fetchers.set(X,$),Qe({fetchers:new Map(b.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function $e(X,$,fe,Re){Re===void 0&&(Re={});let We=Sl(b.matches,$);ot(X),Qe({errors:{[We.route.id]:fe},fetchers:new Map(b.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function Ue(X){return it.set(X,(it.get(X)||0)+1),se.has(X)&&se.delete(X),b.fetchers.get(X)||e5}function ot(X){let $=b.fetchers.get(X);F.has(X)&&!($&&$.state==="loading"&&ae.has(X))&&Pe(X),De.delete(X),ae.delete(X),_e.delete(X),h.v7_fetcherPersist&&se.delete(X),re.delete(X),b.fetchers.delete(X)}function ft(X){let $=(it.get(X)||0)-1;$<=0?(it.delete(X),se.add(X),h.v7_fetcherPersist||ot(X)):it.set(X,$),Qe({fetchers:new Map(b.fetchers)})}function Pe(X){let $=F.get(X);$&&($.abort(),F.delete(X))}function je(X){for(let $ of X){let fe=Ue($),Re=sa(fe.data);b.fetchers.set($,Re)}}function wt(){let X=[],$=!1;for(let fe of _e){let Re=b.fetchers.get(fe);tn(Re,"Expected fetcher: "+fe),Re.state==="loading"&&(_e.delete(fe),X.push(fe),$=!0)}return je(X),$}function W(X){let $=[];for(let[fe,Re]of ae)if(Re<X){let We=b.fetchers.get(fe);tn(We,"Expected fetcher: "+fe),We.state==="loading"&&(Pe(fe),ae.delete(fe),$.push(fe))}return je($),$.length>0}function oe(X,$){let fe=b.blockers.get(X)||Wf;return Ce.get(X)!==$&&Ce.set(X,$),fe}function Oe(X){b.blockers.delete(X),Ce.delete(X)}function j(X,$){let fe=b.blockers.get(X)||Wf;tn(fe.state==="unblocked"&&$.state==="blocked"||fe.state==="blocked"&&$.state==="blocked"||fe.state==="blocked"&&$.state==="proceeding"||fe.state==="blocked"&&$.state==="unblocked"||fe.state==="proceeding"&&$.state==="unblocked","Invalid blocker state transition: "+fe.state+" -> "+$.state);let Re=new Map(b.blockers);Re.set(X,$),Qe({blockers:Re})}function we(X){let{currentLocation:$,nextLocation:fe,historyAction:Re}=X;if(Ce.size===0)return;Ce.size>1&&Oc(!1,"A router only supports one blocker at a time");let We=Array.from(Ce.entries()),[pt,Bt]=We[We.length-1],at=b.blockers.get(pt);if(!(at&&at.state==="proceeding")&&Bt({currentLocation:$,nextLocation:fe,historyAction:Re}))return pt}function Le(X){let $=ur(404,{pathname:X}),fe=a||o,{matches:Re,route:We}=$T(fe);return Xe(),{notFoundMatches:Re,route:We,error:$}}function Xe(X){let $=[];return Te.forEach((fe,Re)=>{(!X||X(Re))&&(fe.cancel(),$.push(Re),Te.delete(Re))}),$}function Be(X,$,fe){if(v=X,x=$,_=fe||null,!g&&b.navigation===Qx){g=!0;let Re=St(b.location,b.matches);Re!=null&&Qe({restoreScrollPosition:Re})}return()=>{v=null,x=null,_=null}}function Se(X,$){return _&&_(X,$.map(Re=>I4(Re,b.loaderData)))||X.key}function qe(X,$){if(v&&x){let fe=Se(X,$);v[fe]=x()}}function St(X,$){if(v){let fe=Se(X,$),Re=v[fe];if(typeof Re=="number")return Re}return null}function Jt(X,$,fe){if(d)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:xg($,fe,l,!0)}}else return{active:!0,matches:xg($,fe,l,!0)||[]};return{active:!1,matches:null}}async function zt(X,$,fe,Re){if(!d)return{type:"success",matches:X};let We=X;for(;;){let pt=a==null,Bt=a||o,at=s;try{await d({signal:fe,path:$,matches:We,fetcherKey:Re,patch:(yt,Ut)=>{fe.aborted||JT(yt,Ut,Bt,at,r)}})}catch(yt){return{type:"error",error:yt,partialMatches:We}}finally{pt&&!fe.aborted&&(o=[...o])}if(fe.aborted)return{type:"aborted"};let mt=_l(Bt,$,l);if(mt)return{type:"success",matches:mt};let lt=xg(Bt,$,l,!0);if(!lt||We.length===lt.length&&We.every((yt,Ut)=>yt.route.id===lt[Ut].route.id))return{type:"success",matches:null};We=lt}}function qn(X){s={},a=Zg(X,r,void 0,s)}function ii(X,$){let fe=a==null;JT(X,$,a||o,s,r),fe&&(o=[...o],Qe({}))}return P={get basename(){return l},get future(){return h},get state(){return b},get routes(){return o},get window(){return e},initialize:st,subscribe:ht,enableScrollRestoration:Be,navigate:Ae,fetch:It,revalidate:ve,createHref:X=>n.history.createHref(X),encodeLocation:X=>n.history.encodeLocation(X),getFetcher:Ue,deleteFetcher:ft,dispose:rt,getBlocker:oe,deleteBlocker:Oe,patchRoutes:ii,_internalFetchControllers:F,_internalActiveDeferreds:Te,_internalSetRoutes:qn},P}function i5(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function v1(n,e,t,i,r,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=hM(r||".",dM(l,s),af(n.pathname,t)||n.pathname,a==="path");if(r==null&&(d.search=n.search,d.hash=n.hash),(r==null||r===""||r===".")&&u){let h=gM(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(_=>_).forEach(_=>p.append("index",_));let v=p.toString();d.search=v?"?"+v:""}}return i&&t!=="/"&&(d.pathname=d.pathname==="/"?t:wo([t,d.pathname])),Xl(d)}function VT(n,e,t,i){if(!i||!i5(i))return{path:t};if(i.formMethod&&!m5(i.formMethod))return{path:t,error:ur(405,{method:i.formMethod})};let r=()=>({path:t,error:ur(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=dB(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!_s(o))return r();let p=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((m,v)=>{let[_,x]=v;return""+m+_+"="+x+`
`},""):String(i.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:p}}}else if(i.formEncType==="application/json"){if(!_s(o))return r();try{let p=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}tn(typeof FormData=="function","FormData is not available in this environment");let l,u;if(i.formData)l=x1(i.formData),u=i.formData;else if(i.body instanceof FormData)l=x1(i.body),u=i.body;else if(i.body instanceof URLSearchParams)l=i.body,u=YT(l);else if(i.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(i.body),u=YT(l)}catch{return r()}let d={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(_s(d.formMethod))return{path:t,submission:d};let h=Fa(t);return e&&h.search&&gM(h.search)&&l.append("index",""),h.search="?"+l,{path:Xl(h),submission:d}}function WT(n,e,t){t===void 0&&(t=!1);let i=n.findIndex(r=>r.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function jT(n,e,t,i,r,s,o,a,l,u,d,h,p,m,v,_){let x=_?Er(_[1])?_[1].error:_[1].data:void 0,g=n.createURL(e.location),S=n.createURL(r),A=t;s&&e.errors?A=WT(t,Object.keys(e.errors)[0],!0):_&&Er(_[1])&&(A=WT(t,_[0]));let w=_?_[1].statusCode:void 0,C=o&&w&&w>=400,P=A.filter((B,R)=>{let{route:T}=B;if(T.lazy)return!0;if(T.loader==null)return!1;if(s)return y1(T,e.loaderData,e.errors);if(r5(e.loaderData,e.matches[R],B)||l.some(V=>V===B.route.id))return!0;let D=e.matches[R],z=B;return XT(B,Rn({currentUrl:g,currentParams:D.params,nextUrl:S,nextParams:z.params},i,{actionResult:x,actionStatus:w,defaultShouldRevalidate:C?!1:a||g.pathname+g.search===S.pathname+S.search||g.search!==S.search||cB(D,z)}))}),b=[];return h.forEach((B,R)=>{if(s||!t.some(J=>J.route.id===B.routeId)||d.has(R))return;let T=_l(m,B.path,v);if(!T){b.push({key:R,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(R),z=hd(T,B.path),V=!1;p.has(R)?V=!1:u.has(R)?(u.delete(R),V=!0):D&&D.state!=="idle"&&D.data===void 0?V=a:V=XT(z,Rn({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:t[t.length-1].params},i,{actionResult:x,actionStatus:w,defaultShouldRevalidate:C?!1:a})),V&&b.push({key:R,routeId:B.routeId,path:B.path,matches:T,match:z,controller:new AbortController})}),[P,b]}function y1(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,r=t!=null&&t[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function r5(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function cB(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function XT(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function JT(n,e,t,i,r){var s;let o;if(n){let u=i[n];tn(u,"No route found to patch children into: routeId = "+n),u.children||(u.children=[]),o=u.children}else o=t;let a=e.filter(u=>!o.some(d=>fB(u,d))),l=Zg(a,r,[n||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],i);o.push(...l)}function fB(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>fB(t,s))}):!1}async function s5(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];tn(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";Oc(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!R4.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,Rn({},e(r),{lazy:void 0}))}async function o5(n){let{matches:e}=n,t=e.filter(r=>r.shouldLoad);return(await Promise.all(t.map(r=>r.resolve()))).reduce((r,s,o)=>Object.assign(r,{[t[o].route.id]:s}),{})}async function a5(n,e,t,i,r,s,o,a,l,u){let d=s.map(m=>m.route.lazy?s5(m.route,l,a):void 0),h=s.map((m,v)=>{let _=d[v],x=r.some(S=>S.route.id===m.route.id);return Rn({},m,{shouldLoad:x,resolve:async S=>(S&&i.method==="GET"&&(m.route.lazy||m.route.loader)&&(x=!0),x?l5(e,i,m,_,S,u):Promise.resolve({type:gn.data,result:void 0}))})}),p=await n({matches:h,request:i,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return p}async function l5(n,e,t,i,r,s){let o,a,l=u=>{let d,h=new Promise((v,_)=>d=_);a=()=>d(),e.signal.addEventListener("abort",a);let p=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):u({request:e,params:t.params,context:s},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(r?r(_=>p(_)):p())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,h])};try{let u=t.route[n];if(i)if(u){let d,[h]=await Promise.all([l(u).catch(p=>{d=p}),i]);if(d!==void 0)throw d;o=h}else if(await i,u=t.route[n],u)o=await l(u);else if(n==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw ur(405,{method:e.method,pathname:h,routeId:t.route.id})}else return{type:gn.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw ur(404,{pathname:h})}tn(o.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:gn.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function u5(n){let{result:e,type:t}=n;if(hB(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:gn.error,error:p}}return t===gn.error?{type:gn.error,error:new $g(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:gn.data,data:h,statusCode:e.status,headers:e.headers}}if(t===gn.error){if(eC(e)){var i,r;if(e.data instanceof Error){var s,o;return{type:gn.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:gn.error,error:new $g(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:oh(e)?e.status:void 0,headers:(r=e.init)!=null&&r.headers?new Headers(e.init.headers):void 0}}return{type:gn.error,error:e,statusCode:oh(e)?e.status:void 0}}if(p5(e)){var a,l;return{type:gn.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(eC(e)){var u,d;return{type:gn.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:gn.data,data:e}}function c5(n,e,t,i,r,s){let o=n.headers.get("Location");if(tn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!pM.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===t)+1);o=v1(new URL(e.url),a,r,!0,o,s),n.headers.set("Location",o)}return n}function KT(n,e,t){if(pM.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=af(r.pathname,t)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return n}function wu(n,e,t,i){let r=n.createURL(dB(e)).toString(),s={signal:t};if(i&&_s(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=x1(i.formData):s.body=i.formData}return new Request(r,s)}function x1(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function YT(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function f5(n,e,t,i,r){let s={},o=null,a,l=!1,u={},d=t&&Er(t[1])?t[1].error:void 0;return n.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,m=e[p];if(tn(!Tl(m),"Cannot handle redirect results in processLoaderData"),Er(m)){let v=m.error;d!==void 0&&(v=d,d=void 0),o=o||{};{let _=Sl(n,p);o[_.route.id]==null&&(o[_.route.id]=v)}s[p]=void 0,l||(l=!0,a=oh(m.error)?m.error.status:500),m.headers&&(u[p]=m.headers)}else ma(m)?(i.set(p,m.deferredData),s[p]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[p]=m.headers)):(s[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[p]=m.headers))}),d!==void 0&&t&&(o={[t[0]]:d},s[t[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function QT(n,e,t,i,r,s,o){let{loaderData:a,errors:l}=f5(e,t,i,o);return r.forEach(u=>{let{key:d,match:h,controller:p}=u,m=s[d];if(tn(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Er(m)){let v=Sl(n.matches,h==null?void 0:h.route.id);l&&l[v.route.id]||(l=Rn({},l,{[v.route.id]:m.error})),n.fetchers.delete(d)}else if(Tl(m))tn(!1,"Unhandled fetcher revalidation redirect");else if(ma(m))tn(!1,"Unhandled fetcher deferred data");else{let v=sa(m.data);n.fetchers.set(d,v)}}),{loaderData:a,errors:l}}function qT(n,e,t,i){let r=Rn({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):n[o]!==void 0&&s.route.loader&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function ZT(n){return n?Er(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Sl(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function $T(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(n,e){let{pathname:t,routeId:i,method:r,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(a="Bad Request",r&&t&&i?l="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(a="Forbidden",l='Route "'+i+'" does not match URL "'+t+'"'):n===404?(a="Not Found",l='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",r&&t&&i?l="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new $g(n||500,a,new Error(l),!0)}function rm(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,r]=e[t];if(Tl(r))return{key:i,result:r}}}function dB(n){let e=typeof n=="string"?Fa(n):n;return Xl(Rn({},e,{hash:""}))}function d5(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function h5(n){return hB(n.result)&&Z4.has(n.result.status)}function ma(n){return n.type===gn.deferred}function Er(n){return n.type===gn.error}function Tl(n){return(n&&n.type)===gn.redirect}function eC(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function p5(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function hB(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function m5(n){return q4.has(n.toLowerCase())}function _s(n){return Y4.has(n.toLowerCase())}async function g5(n,e,t,i,r){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=n.find(p=>(p==null?void 0:p.route.id)===a);if(!u)continue;let d=i.find(p=>p.route.id===u.route.id),h=d!=null&&!cB(d,u)&&(r&&r[u.route.id])!==void 0;ma(l)&&h&&await mM(l,t,!1).then(p=>{p&&(e[a]=p)})}}async function v5(n,e,t){for(let i=0;i<t.length;i++){let{key:r,routeId:s,controller:o}=t[i],a=e[r];n.find(u=>(u==null?void 0:u.route.id)===s)&&ma(a)&&(tn(o,"Expected an AbortController for revalidating fetcher deferred result"),await mM(a,o.signal,!0).then(u=>{u&&(e[r]=u)}))}}async function mM(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:gn.data,data:n.deferredData.unwrappedData}}catch(r){return{type:gn.error,error:r}}return{type:gn.data,data:n.deferredData.data}}}function gM(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function hd(n,e){let t=typeof e=="string"?Fa(e).search:e.search;if(n[n.length-1].route.index&&gM(t||""))return n[n.length-1];let i=aB(n);return i[i.length-1]}function tC(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:o}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function qx(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function y5(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jf(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function x5(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function sa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function _5(n,e){try{let t=n.sessionStorage.getItem(uB);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function S5(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(uB,JSON.stringify(t))}catch(i){Oc(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e0(){return e0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},e0.apply(this,arguments)}const Tv=G.createContext(null),pB=G.createContext(null),iu=G.createContext(null),vM=G.createContext(null),ru=G.createContext({outlet:null,matches:[],isDataRoute:!1}),mB=G.createContext(null);function A5(n,e){let{relative:t}=e===void 0?{}:e;Rh()||tn(!1);let{basename:i,navigator:r}=G.useContext(iu),{hash:s,pathname:o,search:a}=vB(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:wo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Rh(){return G.useContext(vM)!=null}function Cv(){return Rh()||tn(!1),G.useContext(vM).location}function gB(n){G.useContext(iu).static||G.useLayoutEffect(n)}function M5(){let{isDataRoute:n}=G.useContext(ru);return n?O5():w5()}function w5(){Rh()||tn(!1);let n=G.useContext(Tv),{basename:e,future:t,navigator:i}=G.useContext(iu),{matches:r}=G.useContext(ru),{pathname:s}=Cv(),o=JSON.stringify(dM(r,t.v7_relativeSplatPath)),a=G.useRef(!1);return gB(()=>{a.current=!0}),G.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let h=hM(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wo([e,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[e,i,o,s,n])}function vB(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=G.useContext(iu),{matches:r}=G.useContext(ru),{pathname:s}=Cv(),o=JSON.stringify(dM(r,i.v7_relativeSplatPath));return G.useMemo(()=>hM(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function E5(n,e,t,i){Rh()||tn(!1);let{navigator:r}=G.useContext(iu),{matches:s}=G.useContext(ru),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Cv(),d;d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=_l(n,{pathname:p});return P5(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:wo([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:wo([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,i)}function T5(){let n=L5(),e=oh(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:r},t):null,null)}const C5=G.createElement(T5,null);class b5 extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(ru.Provider,{value:this.props.routeContext},G.createElement(mB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R5(n){let{routeContext:e,match:t,children:i}=n,r=G.useContext(Tv);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(ru.Provider,{value:e},i)}function P5(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||tn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=t,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,v=!1,_=null,x=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||C5,l&&(u<0&&p===0?(F5("route-fallback"),v=!0,x=null):u===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),S=()=>{let A;return m?A=_:v?A=x:h.route.Component?A=G.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,G.createElement(R5,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?G.createElement(b5,{location:t.location,revalidation:t.revalidation,component:_,error:m,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}var yB=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(yB||{}),xB=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(xB||{});function I5(n){let e=G.useContext(Tv);return e||tn(!1),e}function B5(n){let e=G.useContext(pB);return e||tn(!1),e}function D5(n){let e=G.useContext(ru);return e||tn(!1),e}function _B(n){let e=D5(),t=e.matches[e.matches.length-1];return t.route.id||tn(!1),t.route.id}function L5(){var n;let e=G.useContext(mB),t=B5(),i=_B();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function O5(){let{router:n}=I5(yB.UseNavigateStable),e=_B(xB.UseNavigateStable),t=G.useRef(!1);return gB(()=>{t.current=!0}),G.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,e0({fromRouteId:e},s)))},[n,e])}const nC={};function F5(n,e,t){nC[n]||(nC[n]=!0)}function N5(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function U5(n){let{basename:e="/",children:t=null,location:i,navigationType:r=ti.Pop,navigator:s,static:o=!1,future:a}=n;Rh()&&tn(!1);let l=e.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:l,navigator:s,static:o,future:e0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Fa(i));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=i,_=G.useMemo(()=>{let x=af(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:v},navigationType:r}},[l,d,h,p,m,v,r]);return _==null?null:G.createElement(iu.Provider,{value:u},G.createElement(vM.Provider,{children:t,value:_}))}new Promise(()=>{});function k5(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:G.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:G.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:G.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ah.apply(this,arguments)}function z5(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function H5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function G5(n,e){return n.button===0&&(!e||e==="_self")&&!H5(n)}const V5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W5="6";try{window.__reactRouterVersion=W5}catch{}function j5(n,e){return n5({basename:e==null?void 0:e.basename,future:ah({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:T4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||X5(),routes:n,mapRouteProperties:k5,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function X5(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=ah({},e,{errors:J5(e.errors)})),e}function J5(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new $g(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}const K5=G.createContext({isTransitioning:!1}),Y5=G.createContext(new Map),Q5="startTransition",iC=hU[Q5],q5="flushSync",rC=E4[q5];function Z5(n){iC?iC(n):n()}function Xf(n){rC?rC(n):n()}class $5{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function ez(n){let{fallbackElement:e,router:t,future:i}=n,[r,s]=G.useState(t.state),[o,a]=G.useState(),[l,u]=G.useState({isTransitioning:!1}),[d,h]=G.useState(),[p,m]=G.useState(),[v,_]=G.useState(),x=G.useRef(new Map),{v7_startTransition:g}=i||{},S=G.useCallback(B=>{g?Z5(B):B()},[g]),A=G.useCallback((B,R)=>{let{deletedFetchers:T,flushSync:D,viewTransitionOpts:z}=R;B.fetchers.forEach((J,ne)=>{J.data!==void 0&&x.current.set(ne,J.data)}),T.forEach(J=>x.current.delete(J));let V=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!z||V){D?Xf(()=>s(B)):S(()=>s(B));return}if(D){Xf(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let J=t.window.document.startViewTransition(()=>{Xf(()=>s(B))});J.finished.finally(()=>{Xf(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),Xf(()=>m(J));return}p?(d&&d.resolve(),p.skipTransition(),_({state:B,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(a(B),u({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[t.window,p,d,x,S]);G.useLayoutEffect(()=>t.subscribe(A),[t,A]),G.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new $5)},[l]),G.useEffect(()=>{if(d&&o&&t.window){let B=o,R=d.promise,T=t.window.document.startViewTransition(async()=>{S(()=>s(B)),await R});T.finished.finally(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(T)}},[S,o,d,t.window]),G.useEffect(()=>{d&&o&&r.location.key===o.location.key&&d.resolve()},[d,p,r.location,o]),G.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),_(void 0))},[l.isTransitioning,v]),G.useEffect(()=>{},[]);let w=G.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:B=>t.navigate(B),push:(B,R,T)=>t.navigate(B,{state:R,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(B,R,T)=>t.navigate(B,{replace:!0,state:R,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[t]),C=t.basename||"/",P=G.useMemo(()=>({router:t,navigator:w,static:!1,basename:C}),[t,w,C]),b=G.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return G.useEffect(()=>N5(i,t.future),[i,t.future]),G.createElement(G.Fragment,null,G.createElement(Tv.Provider,{value:P},G.createElement(pB.Provider,{value:r},G.createElement(Y5.Provider,{value:x.current},G.createElement(K5.Provider,{value:l},G.createElement(U5,{basename:C,location:r.location,navigationType:r.historyAction,navigator:w,future:b},r.initialized||t.future.v7_partialHydration?G.createElement(tz,{routes:t.routes,future:t.future,state:r}):e))))),null)}const tz=G.memo(nz);function nz(n){let{routes:e,future:t,state:i}=n;return E5(e,void 0,i,t)}const iz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yM=G.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=z5(e,V5),{basename:m}=G.useContext(iu),v,_=!1;if(typeof u=="string"&&rz.test(u)&&(v=u,iz))try{let A=new URL(window.location.href),w=u.startsWith("//")?new URL(A.protocol+u):new URL(u),C=af(w.pathname,m);w.origin===A.origin&&C!=null?u=C+w.search+w.hash:_=!0}catch{}let x=A5(u,{relative:r}),g=sz(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function S(A){i&&i(A),A.defaultPrevented||g(A)}return G.createElement("a",ah({},p,{href:v||x,onClick:_||s?i:S,ref:t,target:l}))});var sC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(sC||(sC={}));var oC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(oC||(oC={}));function sz(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=M5(),u=Cv(),d=vB(n,{relative:o});return G.useCallback(h=>{if(G5(h,t)){h.preventDefault();let p=i!==void 0?i:Xl(u)===Xl(d);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,i,r,t,n,s,o,a])}const oz=()=>me.jsxs("section",{className:"cta",children:[me.jsx("p",{className:"cta-text",children:"Gee, that's a lotta good stuff and I wish I could download a summary..."}),me.jsx(yM,{to:"https://drive.google.com/uc?export=download&id=1ZdoWeGVhNI53G8iGoLXORK77CMksPXFw",className:"btn",children:"Resume"})]});function t0(){return t0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t0.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ph="179",pl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ml={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},SB=0,_1=1,AB=2,az=3,MB=0,bv=1,Rd=2,ys=3,qs=0,$i=1,ts=2,Eo=0,Fl=1,S1=2,A1=3,M1=4,wB=5,da=100,EB=101,TB=102,CB=103,bB=104,RB=200,PB=201,IB=202,BB=203,n0=204,i0=205,DB=206,LB=207,OB=208,FB=209,NB=210,UB=211,kB=212,zB=213,HB=214,r0=0,s0=1,o0=2,Jl=3,a0=4,l0=5,u0=6,c0=7,Ih=0,GB=1,VB=2,Js=0,WB=1,jB=2,XB=3,xM=4,JB=5,KB=6,YB=7,w1="attached",QB="detached",Rv=300,Lo=301,ba=302,lh=303,uh=304,lf=306,Ra=1e3,Cr=1001,Fc=1002,vi=1003,Pv=1004,lz=1004,Cl=1005,uz=1005,Yn=1006,Ac=1007,cz=1007,is=1008,fz=1008,as=1009,_M=1010,SM=1011,Nc=1012,Iv=1013,Oo=1014,pr=1015,uf=1016,Bv=1017,Dv=1018,Uc=1020,AM=35902,MM=1021,wM=1022,zi=1023,kc=1026,zc=1027,Lv=1028,Bh=1029,EM=1030,Ov=1031,dz=1032,Fv=1033,Pd=33776,Id=33777,Bd=33778,Dd=33779,f0=35840,d0=35841,h0=35842,p0=35843,m0=36196,g0=37492,v0=37496,y0=37808,x0=37809,_0=37810,S0=37811,A0=37812,M0=37813,w0=37814,E0=37815,T0=37816,C0=37817,b0=37818,R0=37819,P0=37820,I0=37821,Ld=36492,B0=36494,D0=36495,TM=36283,L0=36284,O0=36285,F0=36286,qB=2200,ZB=2201,$B=2202,Hc=2300,Gc=2301,_g=2302,bl=2400,Rl=2401,ch=2402,Nv=2500,CM=2501,eD=0,bM=1,N0=2,tD=3200,nD=3201,hz=3202,pz=3203,Na=0,iD=1,yo="",cr="srgb",Kl="srgb-linear",fh="linear",mn="srgb",mz=0,gl=7680,gz=7681,vz=7682,yz=7683,xz=34055,_z=34056,Sz=5386,Az=512,Mz=513,wz=514,Ez=515,Tz=516,Cz=517,bz=518,E1=519,rD=512,sD=513,oD=514,RM=515,aD=516,lD=517,uD=518,cD=519,dh=35044,Rz=35048,Pz=35040,Iz=35045,Bz=35049,Dz=35041,Lz=35046,Oz=35050,Fz=35042,Nz="100",T1="300 es",br=2e3,Vc=2001,Uz={COMPUTE:"compute",RENDER:"render"},kz={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},zz={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let $s=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const Oi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let aC=1234567;const Nl=Math.PI/180,Wc=180/Math.PI;function Ir(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Oi[n&255]+Oi[n>>8&255]+Oi[n>>16&255]+Oi[n>>24&255]+"-"+Oi[e&255]+Oi[e>>8&255]+"-"+Oi[e>>16&15|64]+Oi[e>>24&255]+"-"+Oi[t&63|128]+Oi[t>>8&255]+"-"+Oi[t>>16&255]+Oi[t>>24&255]+Oi[i&255]+Oi[i>>8&255]+Oi[i>>16&255]+Oi[i>>24&255]).toLowerCase()}function Ft(n,e,t){return Math.max(e,Math.min(t,n))}function PM(n,e){return(n%e+e)%e}function Hz(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Gz(n,e,t){return n!==e?(t-n)/(e-n):0}function Od(n,e,t){return(1-t)*n+t*e}function Vz(n,e,t,i){return Od(n,e,1-Math.exp(-t*i))}function Wz(n,e=1){return e-Math.abs(PM(n,e*2)-e)}function jz(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Xz(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Jz(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Kz(n,e){return n+Math.random()*(e-n)}function Yz(n){return n*(.5-Math.random())}function Qz(n){n!==void 0&&(aC=n);let e=aC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function qz(n){return n*Nl}function Zz(n){return n*Wc}function $z(n){return(n&n-1)===0&&n!==0}function eH(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function tH(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function nH(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*d,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*d,a*u);break;case"XZX":n.set(a*d,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function qi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function jt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const fD={DEG2RAD:Nl,RAD2DEG:Wc,generateUUID:Ir,clamp:Ft,euclideanModulo:PM,mapLinear:Hz,inverseLerp:Gz,lerp:Od,damp:Vz,pingpong:Wz,smoothstep:jz,smootherstep:Xz,randInt:Jz,randFloat:Kz,randFloatSpread:Yz,seededRandom:Qz,degToRad:qz,radToDeg:Zz,isPowerOfTwo:$z,ceilPowerOfTwo:eH,floorPowerOfTwo:tH,setQuaternionFromProperEuler:nH,normalize:jt,denormalize:qi};class xe{constructor(e=0,t=0){xe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class yi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],_=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=_;return}if(h!==_||l!==p||u!==m||d!==v){let x=1-a;const g=l*p+u*m+d*v+h*_,S=g>=0?1:-1,A=1-g*g;if(A>Number.EPSILON){const C=Math.sqrt(A),P=Math.atan2(C,g*S);x=Math.sin(x*P)/C,a=Math.sin(a*P)/C}const w=a*S;if(l=l*x+p*w,u=u*x+m*w,d=d*x+v*w,h=h*x+_*w,x===1-a){const C=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=C,u*=C,d*=C,h*=C}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*h+l*m-u*p,e[t+1]=l*v+d*p+u*h-a*m,e[t+2]=u*v+d*m+a*p-l*h,e[t+3]=d*v-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*h+u*m*v,this._y=u*m*h-p*d*v,this._z=u*d*v+p*m*h,this._w=u*d*h-p*m*v;break;case"YXZ":this._x=p*d*h+u*m*v,this._y=u*m*h-p*d*v,this._z=u*d*v-p*m*h,this._w=u*d*h+p*m*v;break;case"ZXY":this._x=p*d*h-u*m*v,this._y=u*m*h+p*d*v,this._z=u*d*v+p*m*h,this._w=u*d*h-p*m*v;break;case"ZYX":this._x=p*d*h-u*m*v,this._y=u*m*h+p*d*v,this._z=u*d*v-p*m*h,this._w=u*d*h+p*m*v;break;case"YZX":this._x=p*d*h+u*m*v,this._y=u*m*h+p*d*v,this._z=u*d*v-p*m*h,this._w=u*d*h-p*m*v;break;case"XZY":this._x=p*d*h-u*m*v,this._y=u*m*h-p*d*v,this._z=u*d*v+p*m*h,this._w=u*d*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ft(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=i*d+o*a+r*u-s*l,this._y=r*d+o*l+s*a-i*u,this._z=s*d+o*u+i*l-r*a,this._w=o*d-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const u=Math.sqrt(l),d=Math.atan2(u,a),h=Math.sin((1-t)*d)/u,p=Math.sin(t*d)/u;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(lC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(lC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*r-a*i),d=2*(a*t-s*r),h=2*(s*i-o*t);return this.x=t+l*u+o*h-a*d,this.y=i+l*d+a*u-s*h,this.z=r+l*h+s*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Zx.copy(this).projectOnVector(e),this.sub(Zx)}reflect(e){return this.sub(Zx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Zx=new N,lC=new yi;class Wt{constructor(e,t,i,r,s,o,a,l,u){Wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,u)}set(e,t,i,r,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],d=i[4],h=i[7],p=i[2],m=i[5],v=i[8],_=r[0],x=r[3],g=r[6],S=r[1],A=r[4],w=r[7],C=r[2],P=r[5],b=r[8];return s[0]=o*_+a*S+l*C,s[3]=o*x+a*A+l*P,s[6]=o*g+a*w+l*b,s[1]=u*_+d*S+h*C,s[4]=u*x+d*A+h*P,s[7]=u*g+d*w+h*b,s[2]=p*_+m*S+v*C,s[5]=p*x+m*A+v*P,s[8]=p*g+m*w+v*b,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-i*s*d+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=d*o-a*u,p=a*l-d*s,m=u*s-o*l,v=t*h+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/v;return e[0]=h*_,e[1]=(r*u-d*i)*_,e[2]=(a*i-r*o)*_,e[3]=p*_,e[4]=(d*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=m*_,e[7]=(i*l-u*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply($x.makeScale(e,t)),this}rotate(e){return this.premultiply($x.makeRotation(-e)),this}translate(e,t){return this.premultiply($x.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const $x=new Wt;function dD(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const iH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function lc(n,e){return new iH[n](e)}function hh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function hD(){const n=hh("canvas");return n.style.display="block",n}const uC={};function Mc(n){n in uC||(uC[n]=!0,console.warn(n))}function rH(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}const cC=new Wt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),fC=new Wt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function sH(){const n={enabled:!0,workingColorSpace:Kl,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===mn&&(r.r=To(r.r),r.g=To(r.g),r.b=To(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===mn&&(r.r=wc(r.r),r.g=wc(r.g),r.b=wc(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===yo?fh:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return Mc("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return Mc("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Kl]:{primaries:e,whitePoint:i,transfer:fh,toXYZ:cC,fromXYZ:fC,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:cr},outputColorSpaceConfig:{drawingBufferColorSpace:cr}},[cr]:{primaries:e,whitePoint:i,transfer:mn,toXYZ:cC,fromXYZ:fC,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:cr}}}),n}const on=sH();function To(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function wc(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Eu;class pD{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Eu===void 0&&(Eu=hh("canvas")),Eu.width=e.width,Eu.height=e.height;const r=Eu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Eu}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=hh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=To(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(To(t[i]/255)*255):t[i]=To(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oH=0;class ga{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oH++}),this.uuid=Ir(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(e_(r[o].image)):s.push(e_(r[o]))}else s=e_(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function e_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?pD.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let aH=0;const t_=new N;class Bn extends $s{constructor(e=Bn.DEFAULT_IMAGE,t=Bn.DEFAULT_MAPPING,i=Cr,r=Cr,s=Yn,o=is,a=zi,l=as,u=Bn.DEFAULT_ANISOTROPY,d=yo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aH++}),this.uuid=Ir(),this.name="",this.source=new ga(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new xe(0,0),this.repeat=new xe(1,1),this.center=new xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(t_).x}get height(){return this.source.getSize(t_).y}get depth(){return this.source.getSize(t_).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Rv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ra:e.x=e.x-Math.floor(e.x);break;case Cr:e.x=e.x<0?0:1;break;case Fc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ra:e.y=e.y-Math.floor(e.y);break;case Cr:e.y=e.y<0?0:1;break;case Fc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Bn.DEFAULT_IMAGE=null;Bn.DEFAULT_MAPPING=Rv;Bn.DEFAULT_ANISOTROPY=1;class an{constructor(e=0,t=0,i=0,r=1){an.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],d=l[4],h=l[8],p=l[1],m=l[5],v=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-_)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+_)<.1&&Math.abs(v+x)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(u+1)/2,w=(m+1)/2,C=(g+1)/2,P=(d+p)/4,b=(h+_)/4,B=(v+x)/4;return A>w&&A>C?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=P/i,s=b/i):w>C?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=P/r,s=B/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=b/s,r=B/s),this.set(i,r,s,t),this}let S=Math.sqrt((x-v)*(x-v)+(h-_)*(h-_)+(p-d)*(p-d));return Math.abs(S)<.001&&(S=1),this.x=(x-v)/S,this.y=(h-_)/S,this.z=(p-d)/S,this.w=Math.acos((u+m+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this.w=Ft(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this.w=Ft(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class IM extends $s{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Yn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new an(0,0,e,t),this.scissorTest=!1,this.viewport=new an(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new Bn(r);this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Yn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new ga(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Zs extends IM{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Uv extends Bn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=vi,this.minFilter=vi,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class lH extends Zs{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Uv(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class kv extends Bn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=vi,this.minFilter=vi,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uH extends Zs{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new kv(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Ei{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(hs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(hs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=hs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,hs):hs.fromBufferAttribute(s,o),hs.applyMatrix4(e.matrixWorld),this.expandByPoint(hs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),sm.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),sm.copy(i.boundingBox)),sm.applyMatrix4(e.matrixWorld),this.union(sm)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,hs),hs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jf),om.subVectors(this.max,Jf),Tu.subVectors(e.a,Jf),Cu.subVectors(e.b,Jf),bu.subVectors(e.c,Jf),Yo.subVectors(Cu,Tu),Qo.subVectors(bu,Cu),Qa.subVectors(Tu,bu);let t=[0,-Yo.z,Yo.y,0,-Qo.z,Qo.y,0,-Qa.z,Qa.y,Yo.z,0,-Yo.x,Qo.z,0,-Qo.x,Qa.z,0,-Qa.x,-Yo.y,Yo.x,0,-Qo.y,Qo.x,0,-Qa.y,Qa.x,0];return!n_(t,Tu,Cu,bu,om)||(t=[1,0,0,0,1,0,0,0,1],!n_(t,Tu,Cu,bu,om))?!1:(am.crossVectors(Yo,Qo),t=[am.x,am.y,am.z],n_(t,Tu,Cu,bu,om))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(hs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ao[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ao[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ao[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ao[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ao[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ao[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ao[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ao[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ao),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ao=[new N,new N,new N,new N,new N,new N,new N,new N],hs=new N,sm=new Ei,Tu=new N,Cu=new N,bu=new N,Yo=new N,Qo=new N,Qa=new N,Jf=new N,om=new N,am=new N,qa=new N;function n_(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){qa.fromArray(n,s);const a=r.x*Math.abs(qa.x)+r.y*Math.abs(qa.y)+r.z*Math.abs(qa.z),l=e.dot(qa),u=t.dot(qa),d=i.dot(qa);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const cH=new Ei,Kf=new N,i_=new N;class xi{constructor(e=new N,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):cH.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Kf.subVectors(e,this.center);const t=Kf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Kf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(i_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Kf.copy(e.center).add(i_)),this.expandByPoint(Kf.copy(e.center).sub(i_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const lo=new N,r_=new N,lm=new N,qo=new N,s_=new N,um=new N,o_=new N;class su{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,lo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=lo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(lo.copy(this.origin).addScaledVector(this.direction,t),lo.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){r_.copy(e).add(t).multiplyScalar(.5),lm.copy(t).sub(e).normalize(),qo.copy(this.origin).sub(r_);const s=e.distanceTo(t)*.5,o=-this.direction.dot(lm),a=qo.dot(this.direction),l=-qo.dot(lm),u=qo.lengthSq(),d=Math.abs(1-o*o);let h,p,m,v;if(d>0)if(h=o*l-a,p=o*a-l,v=s*d,h>=0)if(p>=-v)if(p<=v){const _=1/d;h*=_,p*=_,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(r_).addScaledVector(lm,p),m}intersectSphere(e,t){lo.subVectors(e.center,this.origin);const i=lo.dot(this.direction),r=lo.dot(lo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,lo)!==null}intersectTriangle(e,t,i,r,s){s_.subVectors(t,e),um.subVectors(i,e),o_.crossVectors(s_,um);let o=this.direction.dot(o_),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;qo.subVectors(this.origin,e);const l=a*this.direction.dot(um.crossVectors(qo,um));if(l<0)return null;const u=a*this.direction.dot(s_.cross(qo));if(u<0||l+u>o)return null;const d=-a*qo.dot(o_);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pt{constructor(e,t,i,r,s,o,a,l,u,d,h,p,m,v,_,x){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,u,d,h,p,m,v,_,x)}set(e,t,i,r,s,o,a,l,u,d,h,p,m,v,_,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=d,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ru.setFromMatrixColumn(e,0).length(),s=1/Ru.setFromMatrixColumn(e,1).length(),o=1/Ru.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,v=a*d,_=a*h;t[0]=l*d,t[4]=-l*h,t[8]=u,t[1]=m+v*u,t[5]=p-_*u,t[9]=-a*l,t[2]=_-p*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,v=u*d,_=u*h;t[0]=p+_*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=_+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,v=u*d,_=u*h;t[0]=p-_*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=_-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,v=a*d,_=a*h;t[0]=l*d,t[4]=v*u-m,t[8]=p*u+_,t[1]=l*h,t[5]=_*u+p,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,_=a*u;t[0]=l*d,t[4]=_-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*h+v,t[10]=p-_*h}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,_=a*u;t[0]=l*d,t[4]=-h,t[8]=u*d,t[1]=p*h+_,t[5]=o*d,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*d,t[10]=_*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fH,e,dH)}lookAt(e,t,i){const r=this.elements;return Ar.subVectors(e,t),Ar.lengthSq()===0&&(Ar.z=1),Ar.normalize(),Zo.crossVectors(i,Ar),Zo.lengthSq()===0&&(Math.abs(i.z)===1?Ar.x+=1e-4:Ar.z+=1e-4,Ar.normalize(),Zo.crossVectors(i,Ar)),Zo.normalize(),cm.crossVectors(Ar,Zo),r[0]=Zo.x,r[4]=cm.x,r[8]=Ar.x,r[1]=Zo.y,r[5]=cm.y,r[9]=Ar.y,r[2]=Zo.z,r[6]=cm.z,r[10]=Ar.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],d=i[1],h=i[5],p=i[9],m=i[13],v=i[2],_=i[6],x=i[10],g=i[14],S=i[3],A=i[7],w=i[11],C=i[15],P=r[0],b=r[4],B=r[8],R=r[12],T=r[1],D=r[5],z=r[9],V=r[13],J=r[2],ne=r[6],ie=r[10],re=r[14],F=r[3],K=r[7],Y=r[11],ae=r[15];return s[0]=o*P+a*T+l*J+u*F,s[4]=o*b+a*D+l*ne+u*K,s[8]=o*B+a*z+l*ie+u*Y,s[12]=o*R+a*V+l*re+u*ae,s[1]=d*P+h*T+p*J+m*F,s[5]=d*b+h*D+p*ne+m*K,s[9]=d*B+h*z+p*ie+m*Y,s[13]=d*R+h*V+p*re+m*ae,s[2]=v*P+_*T+x*J+g*F,s[6]=v*b+_*D+x*ne+g*K,s[10]=v*B+_*z+x*ie+g*Y,s[14]=v*R+_*V+x*re+g*ae,s[3]=S*P+A*T+w*J+C*F,s[7]=S*b+A*D+w*ne+C*K,s[11]=S*B+A*z+w*ie+C*Y,s[15]=S*R+A*V+w*re+C*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],h=e[6],p=e[10],m=e[14],v=e[3],_=e[7],x=e[11],g=e[15];return v*(+s*l*h-r*u*h-s*a*p+i*u*p+r*a*m-i*l*m)+_*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*d-s*l*d)+x*(+t*u*h-t*a*m-s*o*h+i*o*m+s*a*d-i*u*d)+g*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],v=e[12],_=e[13],x=e[14],g=e[15],S=h*x*u-_*p*u+_*l*m-a*x*m-h*l*g+a*p*g,A=v*p*u-d*x*u-v*l*m+o*x*m+d*l*g-o*p*g,w=d*_*u-v*h*u+v*a*m-o*_*m-d*a*g+o*h*g,C=v*h*l-d*_*l-v*a*p+o*_*p+d*a*x-o*h*x,P=t*S+i*A+r*w+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/P;return e[0]=S*b,e[1]=(_*p*s-h*x*s-_*r*m+i*x*m+h*r*g-i*p*g)*b,e[2]=(a*x*s-_*l*s+_*r*u-i*x*u-a*r*g+i*l*g)*b,e[3]=(h*l*s-a*p*s-h*r*u+i*p*u+a*r*m-i*l*m)*b,e[4]=A*b,e[5]=(d*x*s-v*p*s+v*r*m-t*x*m-d*r*g+t*p*g)*b,e[6]=(v*l*s-o*x*s-v*r*u+t*x*u+o*r*g-t*l*g)*b,e[7]=(o*p*s-d*l*s+d*r*u-t*p*u-o*r*m+t*l*m)*b,e[8]=w*b,e[9]=(v*h*s-d*_*s-v*i*m+t*_*m+d*i*g-t*h*g)*b,e[10]=(o*_*s-v*a*s+v*i*u-t*_*u-o*i*g+t*a*g)*b,e[11]=(d*a*s-o*h*s-d*i*u+t*h*u+o*i*m-t*a*m)*b,e[12]=C*b,e[13]=(d*_*r-v*h*r+v*i*p-t*_*p-d*i*x+t*h*x)*b,e[14]=(v*a*r-o*_*r-v*i*l+t*_*l+o*i*x-t*a*x)*b,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*b,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,d*a+i,d*l-r*o,0,u*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,h=a+a,p=s*u,m=s*d,v=s*h,_=o*d,x=o*h,g=a*h,S=l*u,A=l*d,w=l*h,C=i.x,P=i.y,b=i.z;return r[0]=(1-(_+g))*C,r[1]=(m+w)*C,r[2]=(v-A)*C,r[3]=0,r[4]=(m-w)*P,r[5]=(1-(p+g))*P,r[6]=(x+S)*P,r[7]=0,r[8]=(v+A)*b,r[9]=(x-S)*b,r[10]=(1-(p+_))*b,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ru.set(r[0],r[1],r[2]).length();const o=Ru.set(r[4],r[5],r[6]).length(),a=Ru.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ps.copy(this);const u=1/s,d=1/o,h=1/a;return ps.elements[0]*=u,ps.elements[1]*=u,ps.elements[2]*=u,ps.elements[4]*=d,ps.elements[5]*=d,ps.elements[6]*=d,ps.elements[8]*=h,ps.elements[9]*=h,ps.elements[10]*=h,t.setFromRotationMatrix(ps),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=br,l=!1){const u=this.elements,d=2*s/(t-e),h=2*s/(i-r),p=(t+e)/(t-e),m=(i+r)/(i-r);let v,_;if(l)v=s/(o-s),_=o*s/(o-s);else if(a===br)v=-(o+s)/(o-s),_=-2*o*s/(o-s);else if(a===Vc)v=-o/(o-s),_=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=d,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=h,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=br,l=!1){const u=this.elements,d=2/(t-e),h=2/(i-r),p=-(t+e)/(t-e),m=-(i+r)/(i-r);let v,_;if(l)v=1/(o-s),_=o/(o-s);else if(a===br)v=-2/(o-s),_=-(o+s)/(o-s);else if(a===Vc)v=-1/(o-s),_=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=d,u[4]=0,u[8]=0,u[12]=p,u[1]=0,u[5]=h,u[9]=0,u[13]=m,u[2]=0,u[6]=0,u[10]=v,u[14]=_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ru=new N,ps=new Pt,fH=new N(0,0,0),dH=new N(1,1,1),Zo=new N,cm=new N,Ar=new N,dC=new Pt,hC=new yi;class Lr{constructor(e=0,t=0,i=0,r=Lr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Ft(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ft(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ft(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ft(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ft(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Ft(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return dC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hC.setFromEuler(this),this.setFromQuaternion(hC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Lr.DEFAULT_ORDER="XYZ";class Ul{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hH=0;const pC=new N,Pu=new yi,uo=new Pt,fm=new N,Yf=new N,pH=new N,mH=new yi,mC=new N(1,0,0),gC=new N(0,1,0),vC=new N(0,0,1),yC={type:"added"},gH={type:"removed"},Iu={type:"childadded",child:null},a_={type:"childremoved",child:null};class rn extends $s{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hH++}),this.uuid=Ir(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=rn.DEFAULT_UP.clone();const e=new N,t=new Lr,i=new yi,r=new N(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Pt},normalMatrix:{value:new Wt}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=rn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=rn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ul,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Pu.setFromAxisAngle(e,t),this.quaternion.multiply(Pu),this}rotateOnWorldAxis(e,t){return Pu.setFromAxisAngle(e,t),this.quaternion.premultiply(Pu),this}rotateX(e){return this.rotateOnAxis(mC,e)}rotateY(e){return this.rotateOnAxis(gC,e)}rotateZ(e){return this.rotateOnAxis(vC,e)}translateOnAxis(e,t){return pC.copy(e).applyQuaternion(this.quaternion),this.position.add(pC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(mC,e)}translateY(e){return this.translateOnAxis(gC,e)}translateZ(e){return this.translateOnAxis(vC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(uo.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?fm.copy(e):fm.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Yf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?uo.lookAt(Yf,fm,this.up):uo.lookAt(fm,Yf,this.up),this.quaternion.setFromRotationMatrix(uo),r&&(uo.extractRotation(r.matrixWorld),Pu.setFromRotationMatrix(uo),this.quaternion.premultiply(Pu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(yC),Iu.child=e,this.dispatchEvent(Iu),Iu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gH),a_.child=e,this.dispatchEvent(a_),a_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),uo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),uo.multiply(e.parent.matrixWorld)),e.applyMatrix4(uo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(yC),Iu.child=e,this.dispatchEvent(Iu),Iu.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yf,e,pH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yf,mH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(a=>({...a})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}rn.DEFAULT_UP=new N(0,1,0);rn.DEFAULT_MATRIX_AUTO_UPDATE=!0;rn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ms=new N,co=new N,l_=new N,fo=new N,Bu=new N,Du=new N,xC=new N,u_=new N,c_=new N,f_=new N,d_=new an,h_=new an,p_=new an;class dr{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),ms.subVectors(e,t),r.cross(ms);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){ms.subVectors(r,t),co.subVectors(i,t),l_.subVectors(e,t);const o=ms.dot(ms),a=ms.dot(co),l=ms.dot(l_),u=co.dot(co),d=co.dot(l_),h=o*u-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(u*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,fo)===null?!1:fo.x>=0&&fo.y>=0&&fo.x+fo.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,fo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,fo.x),l.addScaledVector(o,fo.y),l.addScaledVector(a,fo.z),l)}static getInterpolatedAttribute(e,t,i,r,s,o){return d_.setScalar(0),h_.setScalar(0),p_.setScalar(0),d_.fromBufferAttribute(e,t),h_.fromBufferAttribute(e,i),p_.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(d_,s.x),o.addScaledVector(h_,s.y),o.addScaledVector(p_,s.z),o}static isFrontFacing(e,t,i,r){return ms.subVectors(i,t),co.subVectors(e,t),ms.cross(co).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ms.subVectors(this.c,this.b),co.subVectors(this.a,this.b),ms.cross(co).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return dr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return dr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return dr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return dr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return dr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Bu.subVectors(r,i),Du.subVectors(s,i),u_.subVectors(e,i);const l=Bu.dot(u_),u=Du.dot(u_);if(l<=0&&u<=0)return t.copy(i);c_.subVectors(e,r);const d=Bu.dot(c_),h=Du.dot(c_);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*u;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Bu,o);f_.subVectors(e,s);const m=Bu.dot(f_),v=Du.dot(f_);if(v>=0&&m<=v)return t.copy(s);const _=m*u-l*v;if(_<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(i).addScaledVector(Du,a);const x=d*v-m*h;if(x<=0&&h-d>=0&&m-v>=0)return xC.subVectors(s,r),a=(h-d)/(h-d+(m-v)),t.copy(r).addScaledVector(xC,a);const g=1/(x+_+p);return o=_*g,a=p*g,t.copy(i).addScaledVector(Bu,o).addScaledVector(Du,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$o={h:0,s:0,l:0},dm={h:0,s:0,l:0};function m_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ye{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=cr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,on.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=on.workingColorSpace){return this.r=e,this.g=t,this.b=i,on.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=on.workingColorSpace){if(e=PM(e,1),t=Ft(t,0,1),i=Ft(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=m_(o,s,e+1/3),this.g=m_(o,s,e),this.b=m_(o,s,e-1/3)}return on.colorSpaceToWorking(this,r),this}setStyle(e,t=cr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=cr){const i=mD[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=To(e.r),this.g=To(e.g),this.b=To(e.b),this}copyLinearToSRGB(e){return this.r=wc(e.r),this.g=wc(e.g),this.b=wc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cr){return on.workingToColorSpace(Fi.copy(this),e),Math.round(Ft(Fi.r*255,0,255))*65536+Math.round(Ft(Fi.g*255,0,255))*256+Math.round(Ft(Fi.b*255,0,255))}getHexString(e=cr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=on.workingColorSpace){on.workingToColorSpace(Fi.copy(this),t);const i=Fi.r,r=Fi.g,s=Fi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=on.workingColorSpace){return on.workingToColorSpace(Fi.copy(this),t),e.r=Fi.r,e.g=Fi.g,e.b=Fi.b,e}getStyle(e=cr){on.workingToColorSpace(Fi.copy(this),e);const t=Fi.r,i=Fi.g,r=Fi.b;return e!==cr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL($o),this.setHSL($o.h+e,$o.s+t,$o.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL($o),e.getHSL(dm);const i=Od($o.h,dm.h,t),r=Od($o.s,dm.s,t),s=Od($o.l,dm.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Fi=new Ye;Ye.NAMES=mD;let vH=0;class ai extends $s{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vH++}),this.uuid=Ir(),this.name="",this.type="Material",this.blending=Fl,this.side=qs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=n0,this.blendDst=i0,this.blendEquation=da,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ye(0,0,0),this.blendAlpha=0,this.depthFunc=Jl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=E1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gl,this.stencilZFail=gl,this.stencilZPass=gl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Fl&&(i.blending=this.blending),this.side!==qs&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==n0&&(i.blendSrc=this.blendSrc),this.blendDst!==i0&&(i.blendDst=this.blendDst),this.blendEquation!==da&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Jl&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==E1&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==gl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==gl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==gl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Rr extends ai{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Lr,this.combine=Ih,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const xo=yH();function yH(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function lr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ft(n,-65504,65504),xo.floatView[0]=n;const e=xo.uint32View[0],t=e>>23&511;return xo.baseTable[t]+((e&8388607)>>xo.shiftTable[t])}function pd(n){const e=n>>10;return xo.uint32View[0]=xo.mantissaTable[xo.offsetTable[e]+(n&1023)]+xo.exponentTable[e],xo.floatView[0]}class xH{static toHalfFloat(e){return lr(e)}static fromHalfFloat(e){return pd(e)}}const ei=new N,hm=new xe;let _H=0;class un{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_H++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=dh,this.updateRanges=[],this.gpuType=pr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)hm.fromBufferAttribute(this,t),hm.applyMatrix3(e),this.setXY(t,hm.x,hm.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ei.fromBufferAttribute(this,t),ei.applyMatrix3(e),this.setXYZ(t,ei.x,ei.y,ei.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ei.fromBufferAttribute(this,t),ei.applyMatrix4(e),this.setXYZ(t,ei.x,ei.y,ei.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ei.fromBufferAttribute(this,t),ei.applyNormalMatrix(e),this.setXYZ(t,ei.x,ei.y,ei.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ei.fromBufferAttribute(this,t),ei.transformDirection(e),this.setXYZ(t,ei.x,ei.y,ei.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=qi(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=jt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=qi(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=qi(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=qi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=qi(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==dh&&(e.usage=this.usage),e}}class SH extends un{constructor(e,t,i){super(new Int8Array(e),t,i)}}class AH extends un{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class MH extends un{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class wH extends un{constructor(e,t,i){super(new Int16Array(e),t,i)}}class BM extends un{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class EH extends un{constructor(e,t,i){super(new Int32Array(e),t,i)}}class DM extends un{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class TH extends un{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=pd(this.array[e*this.itemSize]);return this.normalized&&(t=qi(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=lr(t),this}getY(e){let t=pd(this.array[e*this.itemSize+1]);return this.normalized&&(t=qi(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=lr(t),this}getZ(e){let t=pd(this.array[e*this.itemSize+2]);return this.normalized&&(t=qi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=lr(t),this}getW(e){let t=pd(this.array[e*this.itemSize+3]);return this.normalized&&(t=qi(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=lr(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.array[e+0]=lr(t),this.array[e+1]=lr(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.array[e+0]=lr(t),this.array[e+1]=lr(i),this.array[e+2]=lr(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.array[e+0]=lr(t),this.array[e+1]=lr(i),this.array[e+2]=lr(r),this.array[e+3]=lr(s),this}}class vt extends un{constructor(e,t,i){super(new Float32Array(e),t,i)}}let CH=0;const Kr=new Pt,g_=new rn,Lu=new N,Mr=new Ei,Qf=new Ei,pi=new N;class Ht extends $s{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CH++}),this.uuid=Ir(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dD(e)?DM:BM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Wt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Kr.makeRotationFromQuaternion(e),this.applyMatrix4(Kr),this}rotateX(e){return Kr.makeRotationX(e),this.applyMatrix4(Kr),this}rotateY(e){return Kr.makeRotationY(e),this.applyMatrix4(Kr),this}rotateZ(e){return Kr.makeRotationZ(e),this.applyMatrix4(Kr),this}translate(e,t,i){return Kr.makeTranslation(e,t,i),this.applyMatrix4(Kr),this}scale(e,t,i){return Kr.makeScale(e,t,i),this.applyMatrix4(Kr),this}lookAt(e){return g_.lookAt(e),g_.updateMatrix(),this.applyMatrix4(g_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lu).negate(),this.translate(Lu.x,Lu.y,Lu.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new vt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ei);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Mr.setFromBufferAttribute(s),this.morphTargetsRelative?(pi.addVectors(this.boundingBox.min,Mr.min),this.boundingBox.expandByPoint(pi),pi.addVectors(this.boundingBox.max,Mr.max),this.boundingBox.expandByPoint(pi)):(this.boundingBox.expandByPoint(Mr.min),this.boundingBox.expandByPoint(Mr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new N,1/0);return}if(e){const i=this.boundingSphere.center;if(Mr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Qf.setFromBufferAttribute(a),this.morphTargetsRelative?(pi.addVectors(Mr.min,Qf.min),Mr.expandByPoint(pi),pi.addVectors(Mr.max,Qf.max),Mr.expandByPoint(pi)):(Mr.expandByPoint(Qf.min),Mr.expandByPoint(Qf.max))}Mr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)pi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(pi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)pi.fromBufferAttribute(a,u),l&&(Lu.fromBufferAttribute(e,u),pi.add(Lu)),r=Math.max(r,i.distanceToSquared(pi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new un(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let B=0;B<i.count;B++)a[B]=new N,l[B]=new N;const u=new N,d=new N,h=new N,p=new xe,m=new xe,v=new xe,_=new N,x=new N;function g(B,R,T){u.fromBufferAttribute(i,B),d.fromBufferAttribute(i,R),h.fromBufferAttribute(i,T),p.fromBufferAttribute(s,B),m.fromBufferAttribute(s,R),v.fromBufferAttribute(s,T),d.sub(u),h.sub(u),m.sub(p),v.sub(p);const D=1/(m.x*v.y-v.x*m.y);isFinite(D)&&(_.copy(d).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(D),x.copy(h).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(D),a[B].add(_),a[R].add(_),a[T].add(_),l[B].add(x),l[R].add(x),l[T].add(x))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let B=0,R=S.length;B<R;++B){const T=S[B],D=T.start,z=T.count;for(let V=D,J=D+z;V<J;V+=3)g(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const A=new N,w=new N,C=new N,P=new N;function b(B){C.fromBufferAttribute(r,B),P.copy(C);const R=a[B];A.copy(R),A.sub(C.multiplyScalar(C.dot(R))).normalize(),w.crossVectors(P,R);const D=w.dot(l[B])<0?-1:1;o.setXYZW(B,A.x,A.y,A.z,D)}for(let B=0,R=S.length;B<R;++B){const T=S[B],D=T.start,z=T.count;for(let V=D,J=D+z;V<J;V+=3)b(e.getX(V+0)),b(e.getX(V+1)),b(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new un(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new N,s=new N,o=new N,a=new N,l=new N,u=new N,d=new N,h=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,_),u.fromBufferAttribute(i,x),a.add(d),l.add(d),u.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)pi.fromBufferAttribute(e,t),pi.normalize(),e.setXYZ(t,pi.x,pi.y,pi.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,h=a.normalized,p=new u.constructor(l.length*d);let m=0,v=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*d;for(let g=0;g<d;g++)p[v++]=u[m++]}return new un(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ht,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,h=u.length;d<h;d++){const p=u[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const d=r[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _C=new Pt,Za=new su,pm=new xi,SC=new N,mm=new N,gm=new N,vm=new N,v_=new N,ym=new N,AC=new N,xm=new N;class Qn extends rn{constructor(e=new Ht,t=new Rr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){ym.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=a[l],h=s[l];d!==0&&(v_.fromBufferAttribute(h,e),o?ym.addScaledVector(v_,d):ym.addScaledVector(v_.sub(t),d))}t.add(ym)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),pm.copy(i.boundingSphere),pm.applyMatrix4(s),Za.copy(e.ray).recast(e.near),!(pm.containsPoint(Za.origin)===!1&&(Za.intersectSphere(pm,SC)===null||Za.origin.distanceToSquared(SC)>(e.far-e.near)**2))&&(_C.copy(s).invert(),Za.copy(e.ray).applyMatrix4(_C),!(i.boundingBox!==null&&Za.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Za)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],S=Math.max(x.start,m.start),A=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let w=S,C=A;w<C;w+=3){const P=a.getX(w),b=a.getX(w+1),B=a.getX(w+2);r=_m(this,g,e,i,u,d,h,P,b,B),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const S=a.getX(x),A=a.getX(x+1),w=a.getX(x+2);r=_m(this,o,e,i,u,d,h,S,A,w),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],S=Math.max(x.start,m.start),A=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let w=S,C=A;w<C;w+=3){const P=w,b=w+1,B=w+2;r=_m(this,g,e,i,u,d,h,P,b,B),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const S=x,A=x+1,w=x+2;r=_m(this,o,e,i,u,d,h,S,A,w),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function bH(n,e,t,i,r,s,o,a){let l;if(e.side===$i?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===qs,a),l===null)return null;xm.copy(a),xm.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(xm);return u<t.near||u>t.far?null:{distance:u,point:xm.clone(),object:n}}function _m(n,e,t,i,r,s,o,a,l,u){n.getVertexPosition(a,mm),n.getVertexPosition(l,gm),n.getVertexPosition(u,vm);const d=bH(n,e,t,i,mm,gm,vm,AC);if(d){const h=new N;dr.getBarycoord(AC,mm,gm,vm,h),r&&(d.uv=dr.getInterpolatedAttribute(r,a,l,u,h,new xe)),s&&(d.uv1=dr.getInterpolatedAttribute(s,a,l,u,h,new xe)),o&&(d.normal=dr.getInterpolatedAttribute(o,a,l,u,h,new N),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const p={a,b:l,c:u,normal:new N,materialIndex:0};dr.getNormal(mm,gm,vm,p.normal),d.face=p,d.barycoord=h}return d}class ou extends Ht{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new vt(u,3)),this.setAttribute("normal",new vt(d,3)),this.setAttribute("uv",new vt(h,2));function v(_,x,g,S,A,w,C,P,b,B,R){const T=w/b,D=C/B,z=w/2,V=C/2,J=P/2,ne=b+1,ie=B+1;let re=0,F=0;const K=new N;for(let Y=0;Y<ie;Y++){const ae=Y*D-V;for(let _e=0;_e<ne;_e++){const De=_e*T-z;K[_]=De*S,K[x]=ae*A,K[g]=J,u.push(K.x,K.y,K.z),K[_]=0,K[x]=0,K[g]=P>0?1:-1,d.push(K.x,K.y,K.z),h.push(_e/b),h.push(1-Y/B),re+=1}}for(let Y=0;Y<B;Y++)for(let ae=0;ae<b;ae++){const _e=p+ae+ne*Y,De=p+ae+ne*(Y+1),it=p+(ae+1)+ne*(Y+1),se=p+(ae+1)+ne*Y;l.push(_e,De,se),l.push(De,it,se),F+=6}a.addGroup(m,F,R),m+=F,p+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ou(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function jc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Yi(n){const e={};for(let t=0;t<n.length;t++){const i=jc(n[t]);for(const r in i)e[r]=i[r]}return e}function RH(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function gD(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:on.workingColorSpace}const vD={clone:jc,merge:Yi};var PH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,IH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class bs extends ai{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=PH,this.fragmentShader=IH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jc(e.uniforms),this.uniformsGroups=RH(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Dh extends rn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt,this.coordinateSystem=br,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ea=new N,MC=new xe,wC=new xe;class In extends Dh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Wc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Nl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Wc*2*Math.atan(Math.tan(Nl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ea.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ea.x,ea.y).multiplyScalar(-e/ea.z),ea.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ea.x,ea.y).multiplyScalar(-e/ea.z)}getViewSize(e,t){return this.getViewBounds(e,MC,wC),t.subVectors(wC,MC)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Nl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Ou=-90,Fu=1;class LM extends rn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new In(Ou,Fu,e,t);r.layers=this.layers,this.add(r);const s=new In(Ou,Fu,e,t);s.layers=this.layers,this.add(s);const o=new In(Ou,Fu,e,t);o.layers=this.layers,this.add(o);const a=new In(Ou,Fu,e,t);a.layers=this.layers,this.add(a);const l=new In(Ou,Fu,e,t);l.layers=this.layers,this.add(l);const u=new In(Ou,Fu,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===br)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Vc)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,d]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(h,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class Lh extends Bn{constructor(e=[],t=Lo,i,r,s,o,a,l,u,d){super(e,t,i,r,s,o,a,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class OM extends Zs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Lh(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ou(5,5,5),s=new bs({name:"CubemapFromEquirect",uniforms:jc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:$i,blending:Eo});s.uniforms.tEquirect.value=t;const o=new Qn(r,s),a=t.minFilter;return t.minFilter===is&&(t.minFilter=Yn),new LM(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}class Ao extends rn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const BH={type:"move"};class Sg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ao,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ao,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ao,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const x=t.getJointPose(_,i),g=this._getHandJoint(u,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(BH)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ao;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class zv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ye(e),this.density=t}clone(){return new zv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Hv{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ye(e),this.near=t,this.far=i}clone(){return new Hv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class FM extends rn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Lr,this.environmentIntensity=1,this.environmentRotation=new Lr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Oh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=dh,this.updateRanges=[],this.version=0,this.uuid=Ir()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ji=new N;class Pa{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ji.fromBufferAttribute(this,t),Ji.applyMatrix4(e),this.setXYZ(t,Ji.x,Ji.y,Ji.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ji.fromBufferAttribute(this,t),Ji.applyNormalMatrix(e),this.setXYZ(t,Ji.x,Ji.y,Ji.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ji.fromBufferAttribute(this,t),Ji.transformDirection(e),this.setXYZ(t,Ji.x,Ji.y,Ji.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=qi(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=jt(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=qi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=qi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=qi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=qi(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new un(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class NM extends ai{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Nu;const qf=new N,Uu=new N,ku=new N,zu=new xe,Zf=new xe,yD=new Pt,Sm=new N,$f=new N,Am=new N,EC=new xe,y_=new xe,TC=new xe;class xD extends rn{constructor(e=new NM){if(super(),this.isSprite=!0,this.type="Sprite",Nu===void 0){Nu=new Ht;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Oh(t,5);Nu.setIndex([0,1,2,0,2,3]),Nu.setAttribute("position",new Pa(i,3,0,!1)),Nu.setAttribute("uv",new Pa(i,2,3,!1))}this.geometry=Nu,this.material=e,this.center=new xe(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Uu.setFromMatrixScale(this.matrixWorld),yD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ku.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Uu.multiplyScalar(-ku.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Mm(Sm.set(-.5,-.5,0),ku,o,Uu,r,s),Mm($f.set(.5,-.5,0),ku,o,Uu,r,s),Mm(Am.set(.5,.5,0),ku,o,Uu,r,s),EC.set(0,0),y_.set(1,0),TC.set(1,1);let a=e.ray.intersectTriangle(Sm,$f,Am,!1,qf);if(a===null&&(Mm($f.set(-.5,.5,0),ku,o,Uu,r,s),y_.set(0,1),a=e.ray.intersectTriangle(Sm,Am,$f,!1,qf),a===null))return;const l=e.ray.origin.distanceTo(qf);l<e.near||l>e.far||t.push({distance:l,point:qf.clone(),uv:dr.getInterpolation(qf,Sm,$f,Am,EC,y_,TC,new xe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Mm(n,e,t,i,r,s){zu.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Zf.x=s*zu.x-r*zu.y,Zf.y=r*zu.x+s*zu.y):Zf.copy(zu),n.copy(e),n.x+=Zf.x,n.y+=Zf.y,n.applyMatrix4(yD)}const wm=new N,CC=new N;class _D extends rn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){wm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(wm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){wm.setFromMatrixPosition(e.matrixWorld),CC.setFromMatrixPosition(this.matrixWorld);const i=wm.distanceTo(CC)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const bC=new N,RC=new an,PC=new an,DH=new N,IC=new Pt,Em=new N,x_=new xi,BC=new Pt,__=new su;class UM extends Qn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=w1,this.bindMatrix=new Pt,this.bindMatrixInverse=new Pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ei),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Em),this.boundingBox.expandByPoint(Em)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new xi),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Em),this.boundingSphere.expandByPoint(Em)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),x_.copy(this.boundingSphere),x_.applyMatrix4(r),e.ray.intersectsSphere(x_)!==!1&&(BC.copy(r).invert(),__.copy(e.ray).applyMatrix4(BC),!(this.boundingBox!==null&&__.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,__)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new an,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===w1?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===QB?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;RC.fromBufferAttribute(r.attributes.skinIndex,e),PC.fromBufferAttribute(r.attributes.skinWeight,e),bC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=PC.getComponent(s);if(o!==0){const a=RC.getComponent(s);IC.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(DH.copy(bC).applyMatrix4(IC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Gv extends rn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ks extends Bn{constructor(e=null,t=1,i=1,r,s,o,a,l,u=vi,d=vi,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const DC=new Pt,LH=new Pt;class Fh{constructor(e=[],t=[]){this.uuid=Ir(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Pt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:LH;DC.multiplyMatrices(a,t[s]),DC.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Fh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ks(t,e,e,zi,pr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Gv),this.bones.push(o),this.boneInverses.push(new Pt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Yl extends un{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hu=new Pt,LC=new Pt,Tm=[],OC=new Ei,OH=new Pt,ed=new Qn,td=new xi;class kM extends Qn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Yl(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,OH)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ei),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Hu),OC.copy(e.boundingBox).applyMatrix4(Hu),this.boundingBox.union(OC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new xi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Hu),td.copy(e.boundingSphere).applyMatrix4(Hu),this.boundingSphere.union(td)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(ed.geometry=this.geometry,ed.material=this.material,ed.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),td.copy(this.boundingSphere),td.applyMatrix4(i),e.ray.intersectsSphere(td)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Hu),LC.multiplyMatrices(i,Hu),ed.matrixWorld=LC,ed.raycast(e,Tm);for(let o=0,a=Tm.length;o<a;o++){const l=Tm[o];l.instanceId=s,l.object=this,t.push(l)}Tm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Yl(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ks(new Float32Array(r*this.count),r,this.count,Lv,pr));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<i.length;u++)o+=i[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const S_=new N,FH=new N,NH=new Wt;class vo{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=S_.subVectors(i,t).cross(FH.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(S_),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||NH.getNormalMatrix(e),r=this.coplanarPoint(S_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $a=new xi,UH=new xe(.5,.5),Cm=new N;class cf{constructor(e=new vo,t=new vo,i=new vo,r=new vo,s=new vo,o=new vo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=br,i=!1){const r=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],u=s[3],d=s[4],h=s[5],p=s[6],m=s[7],v=s[8],_=s[9],x=s[10],g=s[11],S=s[12],A=s[13],w=s[14],C=s[15];if(r[0].setComponents(u-o,m-d,g-v,C-S).normalize(),r[1].setComponents(u+o,m+d,g+v,C+S).normalize(),r[2].setComponents(u+a,m+h,g+_,C+A).normalize(),r[3].setComponents(u-a,m-h,g-_,C-A).normalize(),i)r[4].setComponents(l,p,x,w).normalize(),r[5].setComponents(u-l,m-p,g-x,C-w).normalize();else if(r[4].setComponents(u-l,m-p,g-x,C-w).normalize(),t===br)r[5].setComponents(u+l,m+p,g+x,C+w).normalize();else if(t===Vc)r[5].setComponents(l,p,x,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),$a.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),$a.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($a)}intersectsSprite(e){$a.center.set(0,0,0);const t=UH.distanceTo(e.center);return $a.radius=.7071067811865476+t,$a.applyMatrix4(e.matrixWorld),this.intersectsSphere($a)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Cm.x=r.normal.x>0?e.max.x:e.min.x,Cm.y=r.normal.y>0?e.max.y:e.min.y,Cm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const zs=new Pt,Hs=new cf;class Vv{constructor(){this.coordinateSystem=br}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(zs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hs.setFromProjectionMatrix(zs,r.coordinateSystem,r.reversedDepth),Hs.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(zs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hs.setFromProjectionMatrix(zs,r.coordinateSystem,r.reversedDepth),Hs.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(zs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hs.setFromProjectionMatrix(zs,r.coordinateSystem,r.reversedDepth),Hs.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(zs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hs.setFromProjectionMatrix(zs,r.coordinateSystem,r.reversedDepth),Hs.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(zs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hs.setFromProjectionMatrix(zs,r.coordinateSystem,r.reversedDepth),Hs.containsPoint(e))return!0}return!1}clone(){return new Vv}}function A_(n,e){return n-e}function kH(n,e){return n.z-e.z}function zH(n,e){return e.z-n.z}class HH{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=i,a.index=r}reset(){this.list.length=0,this.index=0}}const or=new Pt,GH=new Ye(1,1,1),FC=new cf,VH=new Vv,bm=new Ei,el=new xi,nd=new N,NC=new N,WH=new N,M_=new HH,Ni=new Qn,Rm=[];function jH(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function tl(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class SD extends Qn{constructor(e,t,i=t*2,r){super(new Ht,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Ks(t,e,e,zi,pr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Ks(t,e,e,Bh,Oo);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Ks(t,e,e,zi,pr);i.colorSpace=on.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:u}=o,d=new a.constructor(i*l),h=new un(d,l,u);t.setAttribute(s,h)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new un(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ei);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,or),this.getBoundingBoxAt(s,bm).applyMatrix4(or),e.union(bm)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xi);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,or),this.getBoundingSphereAt(s,el).applyMatrix4(or),e.union(el)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(A_),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;or.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(GH.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(A_),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(r&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const d in i.attributes){const h=t.getAttribute(d),p=i.getAttribute(d);jH(h,p,l);const m=h.itemSize;for(let v=h.count,_=u;v<_;v++){const x=l+v;for(let g=0;g<m;g++)p.setComponent(x,g,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,u*m)}if(r){const d=a.indexStart,h=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let p=0;p<o.count;p++)s.setX(d+p,l+o.getX(p));for(let p=o.count,m=h;p<m;p++)s.setX(d+p,l);s.needsUpdate=!0,s.addUpdateRange(d,a.reservedIndexCount)}return a.start=r?a.indexStart:a.vertexStart,a.count=r?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,a)=>a).sort((o,a)=>i[o].vertexStart-i[a].vertexStart),s=this.geometry;for(let o=0,a=i.length;o<a;o++){const l=r[o],u=i[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:h,reservedIndexCount:p}=u,m=s.index,v=m.array,_=e-h;for(let x=d;x<d+p;x++)v[x]=v[x]+_;m.array.copyWithin(t,d,d+p),m.addUpdateRange(t,p),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:h}=u,p=s.attributes;for(const m in p){const v=p[m],{array:_,itemSize:x}=v;_.copyWithin(e*x,d*x,(d+h)*x),v.addUpdateRange(e*x,h*x)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Ei,o=i.index,a=i.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let d=l;o&&(d=o.getX(d)),s.expandByPoint(nd.fromBufferAttribute(a,d))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new xi;this.getBoundingBoxAt(e,bm),bm.getCenter(s.center);const o=i.index,a=i.attributes.position;let l=0;for(let u=r.start,d=r.start+r.count;u<d;u++){let h=u;o&&(h=o.getX(h)),nd.fromBufferAttribute(a,h),l=Math.max(l,s.center.distanceToSquared(nd))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(A_);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);tl(this._multiDrawCounts,r),tl(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),tl(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),tl(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),tl(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...i.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ht,this._initializeGeometry(s));const o=this.geometry;s.index&&tl(s.index.array,o.index.array);for(const a in s.attributes)tl(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Ni.material=this.material,Ni.geometry.index=o.index,Ni.geometry.attributes=o.attributes,Ni.geometry.boundingBox===null&&(Ni.geometry.boundingBox=new Ei),Ni.geometry.boundingSphere===null&&(Ni.geometry.boundingSphere=new xi);for(let a=0,l=i.length;a<l;a++){if(!i[a].visible||!i[a].active)continue;const u=i[a].geometryIndex,d=r[u];Ni.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,Ni.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ni.geometry.boundingBox),this.getBoundingSphereAt(u,Ni.geometry.boundingSphere),Ni.raycast(e,Rm);for(let h=0,p=Rm.length;h<p;h++){const m=Rm[h];m.object=this,m.batchId=a,t.push(m)}Rm.length=0}Ni.material=null,Ni.geometry.index=null,Ni.geometry.attributes={},Ni.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,h=this._geometryInfo,p=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,_=i.isArrayCamera?VH:FC;p&&!i.isArrayCamera&&(or.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),FC.setFromProjectionMatrix(or,i.coordinateSystem,i.reversedDepth));let x=0;if(this.sortObjects){or.copy(this.matrixWorld).invert(),nd.setFromMatrixPosition(i.matrixWorld).applyMatrix4(or),NC.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(or);for(let A=0,w=l.length;A<w;A++)if(l[A].visible&&l[A].active){const C=l[A].geometryIndex;this.getMatrixAt(A,or),this.getBoundingSphereAt(C,el).applyMatrix4(or);let P=!1;if(p&&(P=!_.intersectsSphere(el,i)),!P){const b=h[C],B=WH.subVectors(el.center,nd).dot(NC);M_.push(b.start,b.count,B,A)}}const g=M_.list,S=this.customSort;S===null?g.sort(s.transparent?zH:kH):S.call(this,g,i);for(let A=0,w=g.length;A<w;A++){const C=g[A];u[x]=C.start*a,d[x]=C.count,v[x]=C.index,x++}M_.reset()}else for(let g=0,S=l.length;g<S;g++)if(l[g].visible&&l[g].active){const A=l[g].geometryIndex;let w=!1;if(p&&(this.getMatrixAt(g,or),this.getBoundingSphereAt(A,el).applyMatrix4(or),w=!_.intersectsSphere(el,i)),!w){const C=h[A];u[x]=C.start*a,d[x]=C.count,v[x]=g,x++}}m.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Vi extends ai{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ye(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const U0=new N,k0=new N,UC=new Pt,id=new su,Pm=new xi,w_=new N,kC=new N;class Fo extends rn{constructor(e=new Ht,t=new Vi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)U0.fromBufferAttribute(t,r-1),k0.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=U0.distanceTo(k0);e.setAttribute("lineDistance",new vt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Pm.copy(i.boundingSphere),Pm.applyMatrix4(r),Pm.radius+=s,e.ray.intersectsSphere(Pm)===!1)return;UC.copy(r).invert(),id.copy(e.ray).applyMatrix4(UC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=this.isLineSegments?2:1,d=i.index,p=i.attributes.position;if(d!==null){const m=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let _=m,x=v-1;_<x;_+=u){const g=d.getX(_),S=d.getX(_+1),A=Im(this,e,id,l,g,S,_);A&&t.push(A)}if(this.isLineLoop){const _=d.getX(v-1),x=d.getX(m),g=Im(this,e,id,l,_,x,v-1);g&&t.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let _=m,x=v-1;_<x;_+=u){const g=Im(this,e,id,l,_,_+1,_);g&&t.push(g)}if(this.isLineLoop){const _=Im(this,e,id,l,v-1,m,v-1);_&&t.push(_)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Im(n,e,t,i,r,s,o){const a=n.geometry.attributes.position;if(U0.fromBufferAttribute(a,r),k0.fromBufferAttribute(a,s),t.distanceSqToSegment(U0,k0,w_,kC)>i)return;w_.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(w_);if(!(u<e.near||u>e.far))return{distance:u,point:kC.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const zC=new N,HC=new N;class Rs extends Fo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)zC.fromBufferAttribute(t,r),HC.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+zC.distanceTo(HC);e.setAttribute("lineDistance",new vt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class zM extends Fo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Wv extends ai{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const GC=new Pt,C1=new su,Bm=new xi,Dm=new N;class HM extends rn{constructor(e=new Ht,t=new Wv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Bm.copy(i.boundingSphere),Bm.applyMatrix4(r),Bm.radius+=s,e.ray.intersectsSphere(Bm)===!1)return;GC.copy(r).invert(),C1.copy(e.ray).applyMatrix4(GC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,h=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,_=m;v<_;v++){const x=u.getX(v);Dm.fromBufferAttribute(h,x),VC(Dm,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,_=m;v<_;v++)Dm.fromBufferAttribute(h,v),VC(Dm,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function VC(n,e,t,i,r,s,o){const a=C1.distanceSqToPoint(n);if(a<t){const l=new N;C1.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class AD extends Bn{constructor(e,t,i,r,s=Yn,o=Yn,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function h(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class XH extends AD{constructor(e,t,i,r,s,o,a,l){super({},e,t,i,r,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class JH extends Bn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=vi,this.minFilter=vi,this.generateMipmaps=!1,this.needsUpdate=!0}}class jv extends Bn{constructor(e,t,i,r,s,o,a,l,u,d,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class KH extends jv{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Cr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class YH extends jv{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Lo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class QH extends Bn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class GM extends Bn{constructor(e,t,i=Oo,r,s,o,a=vi,l=vi,u,d=kc,h=1){if(d!==kc&&d!==zc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:t,depth:h};super(p,r,s,o,a,l,d,i,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ga(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Xv extends Ht{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],u=[],d=t/2,h=Math.PI/2*e,p=t,m=2*h+p,v=i*2+s,_=r+1,x=new N,g=new N;for(let S=0;S<=v;S++){let A=0,w=0,C=0,P=0;if(S<=i){const R=S/i,T=R*Math.PI/2;w=-d-e*Math.cos(T),C=e*Math.sin(T),P=-e*Math.cos(T),A=R*h}else if(S<=i+s){const R=(S-i)/s;w=-d+R*t,C=e,P=0,A=h+R*p}else{const R=(S-i-s)/i,T=R*Math.PI/2;w=d+e*Math.sin(T),C=e*Math.cos(T),P=e*Math.sin(T),A=h+p+R*h}const b=Math.max(0,Math.min(1,A/m));let B=0;S===0?B=.5/r:S===v&&(B=-.5/r);for(let R=0;R<=r;R++){const T=R/r,D=T*Math.PI*2,z=Math.sin(D),V=Math.cos(D);g.x=-C*V,g.y=w,g.z=C*z,a.push(g.x,g.y,g.z),x.set(-C*V,P,C*z),x.normalize(),l.push(x.x,x.y,x.z),u.push(T+B,b)}if(S>0){const R=(S-1)*_;for(let T=0;T<r;T++){const D=R+T,z=R+T+1,V=S*_+T,J=S*_+T+1;o.push(D,z,V),o.push(z,J,V)}}}this.setIndex(o),this.setAttribute("position",new vt(a,3)),this.setAttribute("normal",new vt(l,3)),this.setAttribute("uv",new vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xv(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Jv extends Ht{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new N,d=new xe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new vt(o,3)),this.setAttribute("normal",new vt(a,3)),this.setAttribute("uv",new vt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nh extends Ht{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let v=0;const _=[],x=i/2;let g=0;S(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(d),this.setAttribute("position",new vt(h,3)),this.setAttribute("normal",new vt(p,3)),this.setAttribute("uv",new vt(m,2));function S(){const w=new N,C=new N;let P=0;const b=(t-e)/i;for(let B=0;B<=s;B++){const R=[],T=B/s,D=T*(t-e)+e;for(let z=0;z<=r;z++){const V=z/r,J=V*l+a,ne=Math.sin(J),ie=Math.cos(J);C.x=D*ne,C.y=-T*i+x,C.z=D*ie,h.push(C.x,C.y,C.z),w.set(ne,b,ie).normalize(),p.push(w.x,w.y,w.z),m.push(V,1-T),R.push(v++)}_.push(R)}for(let B=0;B<r;B++)for(let R=0;R<s;R++){const T=_[R][B],D=_[R+1][B],z=_[R+1][B+1],V=_[R][B+1];(e>0||R!==0)&&(d.push(T,D,V),P+=3),(t>0||R!==s-1)&&(d.push(D,z,V),P+=3)}u.addGroup(g,P,0),g+=P}function A(w){const C=v,P=new xe,b=new N;let B=0;const R=w===!0?e:t,T=w===!0?1:-1;for(let z=1;z<=r;z++)h.push(0,x*T,0),p.push(0,T,0),m.push(.5,.5),v++;const D=v;for(let z=0;z<=r;z++){const J=z/r*l+a,ne=Math.cos(J),ie=Math.sin(J);b.x=R*ie,b.y=x*T,b.z=R*ne,h.push(b.x,b.y,b.z),p.push(0,T,0),P.x=ne*.5+.5,P.y=ie*.5*T+.5,m.push(P.x,P.y),v++}for(let z=0;z<r;z++){const V=C+z,J=D+z;w===!0?d.push(J,J+1,V):d.push(J+1,J,V),B+=3}u.addGroup(g,B,w===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Uh extends Nh{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Uh(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ua extends Ht{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),d(),this.setAttribute("position",new vt(s,3)),this.setAttribute("normal",new vt(s.slice(),3)),this.setAttribute("uv",new vt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const A=new N,w=new N,C=new N;for(let P=0;P<t.length;P+=3)m(t[P+0],A),m(t[P+1],w),m(t[P+2],C),l(A,w,C,S)}function l(S,A,w,C){const P=C+1,b=[];for(let B=0;B<=P;B++){b[B]=[];const R=S.clone().lerp(w,B/P),T=A.clone().lerp(w,B/P),D=P-B;for(let z=0;z<=D;z++)z===0&&B===P?b[B][z]=R:b[B][z]=R.clone().lerp(T,z/D)}for(let B=0;B<P;B++)for(let R=0;R<2*(P-B)-1;R++){const T=Math.floor(R/2);R%2===0?(p(b[B][T+1]),p(b[B+1][T]),p(b[B][T])):(p(b[B][T+1]),p(b[B+1][T+1]),p(b[B+1][T]))}}function u(S){const A=new N;for(let w=0;w<s.length;w+=3)A.x=s[w+0],A.y=s[w+1],A.z=s[w+2],A.normalize().multiplyScalar(S),s[w+0]=A.x,s[w+1]=A.y,s[w+2]=A.z}function d(){const S=new N;for(let A=0;A<s.length;A+=3){S.x=s[A+0],S.y=s[A+1],S.z=s[A+2];const w=x(S)/2/Math.PI+.5,C=g(S)/Math.PI+.5;o.push(w,1-C)}v(),h()}function h(){for(let S=0;S<o.length;S+=6){const A=o[S+0],w=o[S+2],C=o[S+4],P=Math.max(A,w,C),b=Math.min(A,w,C);P>.9&&b<.1&&(A<.2&&(o[S+0]+=1),w<.2&&(o[S+2]+=1),C<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,A){const w=S*3;A.x=e[w+0],A.y=e[w+1],A.z=e[w+2]}function v(){const S=new N,A=new N,w=new N,C=new N,P=new xe,b=new xe,B=new xe;for(let R=0,T=0;R<s.length;R+=9,T+=6){S.set(s[R+0],s[R+1],s[R+2]),A.set(s[R+3],s[R+4],s[R+5]),w.set(s[R+6],s[R+7],s[R+8]),P.set(o[T+0],o[T+1]),b.set(o[T+2],o[T+3]),B.set(o[T+4],o[T+5]),C.copy(S).add(A).add(w).divideScalar(3);const D=x(C);_(P,T+0,S,D),_(b,T+2,A,D),_(B,T+4,w,D)}}function _(S,A,w,C){C<0&&S.x===1&&(o[A]=S.x-1),w.x===0&&w.z===0&&(o[A]=C/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function g(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ua(e.vertices,e.indices,e.radius,e.details)}}class Kv extends Ua{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Kv(e.radius,e.detail)}}const Lm=new N,Om=new N,E_=new N,Fm=new dr;class MD extends Ht{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Nl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:_,b:x,c:g}=Fm;if(_.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),Fm.getNormal(E_),h[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let S=0;S<3;S++){const A=(S+1)%3,w=h[S],C=h[A],P=Fm[d[S]],b=Fm[d[A]],B=`${w}_${C}`,R=`${C}_${w}`;R in p&&p[R]?(E_.dot(p[R].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(b.x,b.y,b.z)),p[R]=null):B in p||(p[B]={index0:u[S],index1:u[A],normal:E_.clone()})}}for(const v in p)if(p[v]){const{index0:_,index1:x}=p[v];Lm.fromBufferAttribute(a,_),Om.fromBufferAttribute(a,x),m.push(Lm.x,Lm.y,Lm.z),m.push(Om.x,Om.y,Om.z)}this.setAttribute("position",new vt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ps{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new xe:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new N,r=[],s=[],o=[],a=new N,l=new Pt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new N)}s[0]=new N,o[0]=new N;let u=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=u&&(u=d,i.set(1,0,0)),h<=u&&(u=h,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Ft(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Ft(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Yv extends Ps{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new xe){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*d-m*h+this.aX,u=p*h+m*d+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wD extends Yv{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function VM(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,h){let p=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Nm=new N,T_=new VM,C_=new VM,b_=new VM;class ED extends Ps{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=r[(a-1)%s]:(Nm.subVectors(r[0],r[1]).add(r[0]),u=Nm);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(Nm.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=Nm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);_<1e-4&&(_=1),v<1e-4&&(v=_),x<1e-4&&(x=_),T_.initNonuniformCatmullRom(u.x,h.x,p.x,d.x,v,_,x),C_.initNonuniformCatmullRom(u.y,h.y,p.y,d.y,v,_,x),b_.initNonuniformCatmullRom(u.z,h.z,p.z,d.z,v,_,x)}else this.curveType==="catmullrom"&&(T_.initCatmullRom(u.x,h.x,p.x,d.x,this.tension),C_.initCatmullRom(u.y,h.y,p.y,d.y,this.tension),b_.initCatmullRom(u.z,h.z,p.z,d.z,this.tension));return i.set(T_.calc(l),C_.calc(l),b_.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new N().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function WC(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function qH(n,e){const t=1-n;return t*t*e}function ZH(n,e){return 2*(1-n)*n*e}function $H(n,e){return n*n*e}function Fd(n,e,t,i){return qH(n,e)+ZH(n,t)+$H(n,i)}function e9(n,e){const t=1-n;return t*t*t*e}function t9(n,e){const t=1-n;return 3*t*t*n*e}function n9(n,e){return 3*(1-n)*n*n*e}function i9(n,e){return n*n*n*e}function Nd(n,e,t,i,r){return e9(n,e)+t9(n,t)+n9(n,i)+i9(n,r)}class WM extends Ps{constructor(e=new xe,t=new xe,i=new xe,r=new xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new xe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Nd(e,r.x,s.x,o.x,a.x),Nd(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TD extends Ps{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Nd(e,r.x,s.x,o.x,a.x),Nd(e,r.y,s.y,o.y,a.y),Nd(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class jM extends Ps{constructor(e=new xe,t=new xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new xe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new xe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CD extends Ps{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new N){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XM extends Ps{constructor(e=new xe,t=new xe,i=new xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new xe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Fd(e,r.x,s.x,o.x),Fd(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JM extends Ps{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Fd(e,r.x,s.x,o.x),Fd(e,r.y,s.y,o.y),Fd(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KM extends Ps{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new xe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(WC(a,l.x,u.x,d.x,h.x),WC(a,l.y,u.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new xe().fromArray(r))}return this}}var z0=Object.freeze({__proto__:null,ArcCurve:wD,CatmullRomCurve3:ED,CubicBezierCurve:WM,CubicBezierCurve3:TD,EllipseCurve:Yv,LineCurve:jM,LineCurve3:CD,QuadraticBezierCurve:XM,QuadraticBezierCurve3:JM,SplineCurve:KM});class bD extends Ps{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new z0[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new z0[r.type]().fromJSON(r))}return this}}class H0 extends bD{constructor(e){super(),this.type="Path",this.currentPoint=new xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new jM(this.currentPoint.clone(),new xe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new XM(this.currentPoint.clone(),new xe(e,t),new xe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new WM(this.currentPoint.clone(),new xe(e,t),new xe(i,r),new xe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new KM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new Yv(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class kl extends H0{constructor(e){super(e),this.uuid=Ir(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new H0().fromJSON(r))}return this}}function r9(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=RD(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u;if(i&&(s=u9(n,e,s,t)),n.length>80*t){a=1/0,l=1/0;let d=-1/0,h=-1/0;for(let p=t;p<r;p+=t){const m=n[p],v=n[p+1];m<a&&(a=m),v<l&&(l=v),m>d&&(d=m),v>h&&(h=v)}u=Math.max(d-a,h-l),u=u!==0?32767/u:0}return ph(s,o,t,a,l,u,0),o}function RD(n,e,t,i,r){let s;if(r===_9(n,e,t,i)>0)for(let o=e;o<t;o+=i)s=jC(o/i|0,n[o],n[o+1],s);else for(let o=t-i;o>=e;o-=i)s=jC(o/i|0,n[o],n[o+1],s);return s&&Xc(s,s.next)&&(gh(s),s=s.next),s}function Ql(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Xc(t,t.next)||Fn(t.prev,t,t.next)===0)){if(gh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function ph(n,e,t,i,r,s,o){if(!n)return;!o&&s&&p9(n,i,r,s);let a=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?o9(n,i,r,s):s9(n)){e.push(l.i,n.i,u.i),gh(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=a9(Ql(n),e),ph(n,e,t,i,r,s,2)):o===2&&l9(n,e,t,i,r,s):ph(Ql(n),e,t,i,r,s,1);break}}}function s9(n){const e=n.prev,t=n,i=n.next;if(Fn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,d=Math.min(r,s,o),h=Math.min(a,l,u),p=Math.max(r,s,o),m=Math.max(a,l,u);let v=i.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=h&&v.y<=m&&md(r,a,s,l,o,u,v.x,v.y)&&Fn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function o9(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Fn(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,d=r.y,h=s.y,p=o.y,m=Math.min(a,l,u),v=Math.min(d,h,p),_=Math.max(a,l,u),x=Math.max(d,h,p),g=b1(m,v,e,t,i),S=b1(_,x,e,t,i);let A=n.prevZ,w=n.nextZ;for(;A&&A.z>=g&&w&&w.z<=S;){if(A.x>=m&&A.x<=_&&A.y>=v&&A.y<=x&&A!==r&&A!==o&&md(a,d,l,h,u,p,A.x,A.y)&&Fn(A.prev,A,A.next)>=0||(A=A.prevZ,w.x>=m&&w.x<=_&&w.y>=v&&w.y<=x&&w!==r&&w!==o&&md(a,d,l,h,u,p,w.x,w.y)&&Fn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;A&&A.z>=g;){if(A.x>=m&&A.x<=_&&A.y>=v&&A.y<=x&&A!==r&&A!==o&&md(a,d,l,h,u,p,A.x,A.y)&&Fn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;w&&w.z<=S;){if(w.x>=m&&w.x<=_&&w.y>=v&&w.y<=x&&w!==r&&w!==o&&md(a,d,l,h,u,p,w.x,w.y)&&Fn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function a9(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Xc(i,r)&&ID(i,t,t.next,r)&&mh(i,r)&&mh(r,i)&&(e.push(i.i,t.i,r.i),gh(t),gh(t.next),t=n=r),t=t.next}while(t!==n);return Ql(t)}function l9(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&v9(o,a)){let l=BD(o,a);o=Ql(o,o.next),l=Ql(l,l.next),ph(o,e,t,i,r,s,0),ph(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function u9(n,e,t,i){const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=RD(n,a,l,i,!1);u===u.next&&(u.steiner=!0),r.push(g9(u))}r.sort(c9);for(let s=0;s<r.length;s++)t=f9(r[s],t);return t}function c9(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function f9(n,e){const t=d9(n,e);if(!t)return e;const i=BD(t,n);return Ql(i,i.next),Ql(t,t.next)}function d9(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;if(Xc(n,t))return t;do{if(Xc(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const h=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=i&&h>s&&(s=h,o=t.x<t.next.x?t:t.next,h===i))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,l=o.x,u=o.y;let d=1/0;t=o;do{if(i>=t.x&&t.x>=l&&i!==t.x&&PD(r<u?i:s,r,l,u,r<u?s:i,r,t.x,t.y)){const h=Math.abs(r-t.y)/(i-t.x);mh(t,n)&&(h<d||h===d&&(t.x>o.x||t.x===o.x&&h9(o,t)))&&(o=t,d=h)}t=t.next}while(t!==a);return o}function h9(n,e){return Fn(n.prev,n,e.prev)<0&&Fn(e.next,n,n.next)<0}function p9(n,e,t,i){let r=n;do r.z===0&&(r.z=b1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,m9(r)}function m9(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let o=i,a=0;for(let u=0;u<t&&(a++,o=o.nextZ,!!o);u++);let l=t;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,a--):(r=o,o=o.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=o}s.nextZ=null,t*=2}while(e>1);return n}function b1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function g9(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function PD(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function md(n,e,t,i,r,s,o,a){return!(n===o&&e===a)&&PD(n,e,t,i,r,s,o,a)}function v9(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!y9(n,e)&&(mh(n,e)&&mh(e,n)&&x9(n,e)&&(Fn(n.prev,n,e.prev)||Fn(n,e.prev,e))||Xc(n,e)&&Fn(n.prev,n,n.next)>0&&Fn(e.prev,e,e.next)>0)}function Fn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Xc(n,e){return n.x===e.x&&n.y===e.y}function ID(n,e,t,i){const r=km(Fn(n,e,t)),s=km(Fn(n,e,i)),o=km(Fn(t,i,n)),a=km(Fn(t,i,e));return!!(r!==s&&o!==a||r===0&&Um(n,t,e)||s===0&&Um(n,i,e)||o===0&&Um(t,n,i)||a===0&&Um(t,e,i))}function Um(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function km(n){return n>0?1:n<0?-1:0}function y9(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&ID(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function mh(n,e){return Fn(n.prev,n,n.next)<0?Fn(n,e,n.next)>=0&&Fn(n,n.prev,e)>=0:Fn(n,e,n.prev)<0||Fn(n,n.next,e)<0}function x9(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function BD(n,e){const t=R1(n.i,n.x,n.y),i=R1(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function jC(n,e,t,i){const r=R1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function gh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function R1(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function _9(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class S9{static triangulate(e,t,i=2){return r9(e,t,i)}}class Ms{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Ms.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];XC(e),JC(i,e);let o=e.length;t.forEach(XC);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,JC(i,t[l]);const a=S9.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function XC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function JC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Qv extends Ht{constructor(e=new kl([new xe(.5,.5),new xe(-.5,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new vt(r,3)),this.setAttribute("uv",new vt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:A9;let A,w=!1,C,P,b,B;g&&(A=g.getSpacedPoints(d),w=!0,p=!1,C=g.computeFrenetFrames(d,!1),P=new N,b=new N,B=new N),p||(x=0,m=0,v=0,_=0);const R=a.extractPoints(u);let T=R.shape;const D=R.holes;if(!Ms.isClockWise(T)){T=T.reverse();for(let Ae=0,ve=D.length;Ae<ve;Ae++){const Ee=D[Ae];Ms.isClockWise(Ee)&&(D[Ae]=Ee.reverse())}}function V(Ae){const Ee=10000000000000001e-36;let ye=Ae[0];for(let ke=1;ke<=Ae.length;ke++){const be=ke%Ae.length,Ne=Ae[be],It=Ne.x-ye.x,Tt=Ne.y-ye.y,U=It*It+Tt*Tt,L=Math.max(Math.abs(Ne.x),Math.abs(Ne.y),Math.abs(ye.x),Math.abs(ye.y)),te=Ee*L*L;if(U<=te){Ae.splice(be,1),ke--;continue}ye=Ne}}V(T),D.forEach(V);const J=D.length,ne=T;for(let Ae=0;Ae<J;Ae++){const ve=D[Ae];T=T.concat(ve)}function ie(Ae,ve,Ee){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ae.clone().addScaledVector(ve,Ee)}const re=T.length;function F(Ae,ve,Ee){let ye,ke,be;const Ne=Ae.x-ve.x,It=Ae.y-ve.y,Tt=Ee.x-Ae.x,U=Ee.y-Ae.y,L=Ne*Ne+It*It,te=Ne*U-It*Tt;if(Math.abs(te)>Number.EPSILON){const de=Math.sqrt(L),Me=Math.sqrt(Tt*Tt+U*U),he=ve.x-It/de,$e=ve.y+Ne/de,Ue=Ee.x-U/Me,ot=Ee.y+Tt/Me,ft=((Ue-he)*U-(ot-$e)*Tt)/(Ne*U-It*Tt);ye=he+Ne*ft-Ae.x,ke=$e+It*ft-Ae.y;const Pe=ye*ye+ke*ke;if(Pe<=2)return new xe(ye,ke);be=Math.sqrt(Pe/2)}else{let de=!1;Ne>Number.EPSILON?Tt>Number.EPSILON&&(de=!0):Ne<-Number.EPSILON?Tt<-Number.EPSILON&&(de=!0):Math.sign(It)===Math.sign(U)&&(de=!0),de?(ye=-It,ke=Ne,be=Math.sqrt(L)):(ye=Ne,ke=It,be=Math.sqrt(L/2))}return new xe(ye/be,ke/be)}const K=[];for(let Ae=0,ve=ne.length,Ee=ve-1,ye=Ae+1;Ae<ve;Ae++,Ee++,ye++)Ee===ve&&(Ee=0),ye===ve&&(ye=0),K[Ae]=F(ne[Ae],ne[Ee],ne[ye]);const Y=[];let ae,_e=K.concat();for(let Ae=0,ve=J;Ae<ve;Ae++){const Ee=D[Ae];ae=[];for(let ye=0,ke=Ee.length,be=ke-1,Ne=ye+1;ye<ke;ye++,be++,Ne++)be===ke&&(be=0),Ne===ke&&(Ne=0),ae[ye]=F(Ee[ye],Ee[be],Ee[Ne]);Y.push(ae),_e=_e.concat(ae)}let De;if(x===0)De=Ms.triangulateShape(ne,D);else{const Ae=[],ve=[];for(let Ee=0;Ee<x;Ee++){const ye=Ee/x,ke=m*Math.cos(ye*Math.PI/2),be=v*Math.sin(ye*Math.PI/2)+_;for(let Ne=0,It=ne.length;Ne<It;Ne++){const Tt=ie(ne[Ne],K[Ne],be);st(Tt.x,Tt.y,-ke),ye===0&&Ae.push(Tt)}for(let Ne=0,It=J;Ne<It;Ne++){const Tt=D[Ne];ae=Y[Ne];const U=[];for(let L=0,te=Tt.length;L<te;L++){const de=ie(Tt[L],ae[L],be);st(de.x,de.y,-ke),ye===0&&U.push(de)}ye===0&&ve.push(U)}}De=Ms.triangulateShape(Ae,ve)}const it=De.length,se=v+_;for(let Ae=0;Ae<re;Ae++){const ve=p?ie(T[Ae],_e[Ae],se):T[Ae];w?(b.copy(C.normals[0]).multiplyScalar(ve.x),P.copy(C.binormals[0]).multiplyScalar(ve.y),B.copy(A[0]).add(b).add(P),st(B.x,B.y,B.z)):st(ve.x,ve.y,0)}for(let Ae=1;Ae<=d;Ae++)for(let ve=0;ve<re;ve++){const Ee=p?ie(T[ve],_e[ve],se):T[ve];w?(b.copy(C.normals[Ae]).multiplyScalar(Ee.x),P.copy(C.binormals[Ae]).multiplyScalar(Ee.y),B.copy(A[Ae]).add(b).add(P),st(B.x,B.y,B.z)):st(Ee.x,Ee.y,h/d*Ae)}for(let Ae=x-1;Ae>=0;Ae--){const ve=Ae/x,Ee=m*Math.cos(ve*Math.PI/2),ye=v*Math.sin(ve*Math.PI/2)+_;for(let ke=0,be=ne.length;ke<be;ke++){const Ne=ie(ne[ke],K[ke],ye);st(Ne.x,Ne.y,h+Ee)}for(let ke=0,be=D.length;ke<be;ke++){const Ne=D[ke];ae=Y[ke];for(let It=0,Tt=Ne.length;It<Tt;It++){const U=ie(Ne[It],ae[It],ye);w?st(U.x,U.y+A[d-1].y,A[d-1].x+Ee):st(U.x,U.y,h+Ee)}}}Te(),Ce();function Te(){const Ae=r.length/3;if(p){let ve=0,Ee=re*ve;for(let ye=0;ye<it;ye++){const ke=De[ye];rt(ke[2]+Ee,ke[1]+Ee,ke[0]+Ee)}ve=d+x*2,Ee=re*ve;for(let ye=0;ye<it;ye++){const ke=De[ye];rt(ke[0]+Ee,ke[1]+Ee,ke[2]+Ee)}}else{for(let ve=0;ve<it;ve++){const Ee=De[ve];rt(Ee[2],Ee[1],Ee[0])}for(let ve=0;ve<it;ve++){const Ee=De[ve];rt(Ee[0]+re*d,Ee[1]+re*d,Ee[2]+re*d)}}i.addGroup(Ae,r.length/3-Ae,0)}function Ce(){const Ae=r.length/3;let ve=0;ct(ne,ve),ve+=ne.length;for(let Ee=0,ye=D.length;Ee<ye;Ee++){const ke=D[Ee];ct(ke,ve),ve+=ke.length}i.addGroup(Ae,r.length/3-Ae,1)}function ct(Ae,ve){let Ee=Ae.length;for(;--Ee>=0;){const ye=Ee;let ke=Ee-1;ke<0&&(ke=Ae.length-1);for(let be=0,Ne=d+x*2;be<Ne;be++){const It=re*be,Tt=re*(be+1),U=ve+ye+It,L=ve+ke+It,te=ve+ke+Tt,de=ve+ye+Tt;ht(U,L,te,de)}}}function st(Ae,ve,Ee){l.push(Ae),l.push(ve),l.push(Ee)}function rt(Ae,ve,Ee){Qe(Ae),Qe(ve),Qe(Ee);const ye=r.length/3,ke=S.generateTopUV(i,r,ye-3,ye-2,ye-1);H(ke[0]),H(ke[1]),H(ke[2])}function ht(Ae,ve,Ee,ye){Qe(Ae),Qe(ve),Qe(ye),Qe(ve),Qe(Ee),Qe(ye);const ke=r.length/3,be=S.generateSideWallUV(i,r,ke-6,ke-3,ke-2,ke-1);H(be[0]),H(be[1]),H(be[3]),H(be[1]),H(be[2]),H(be[3])}function Qe(Ae){r.push(l[Ae*3+0]),r.push(l[Ae*3+1]),r.push(l[Ae*3+2])}function H(Ae){s.push(Ae.x),s.push(Ae.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return M9(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new z0[r.type]().fromJSON(r)),new Qv(i,e.options)}}const A9={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],d=e[r*3+1];return[new xe(s,o),new xe(a,l),new xe(u,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new xe(o,1-l),new xe(u,1-h),new xe(p,1-v),new xe(_,1-g)]:[new xe(a,1-l),new xe(d,1-h),new xe(m,1-v),new xe(x,1-g)]}};function M9(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class qv extends Ua{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qv(e.radius,e.detail)}}class Zv extends Ht{constructor(e=[new xe(0,-.5),new xe(.5,0),new xe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Ft(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,h=new N,p=new xe,m=new N,v=new N,_=new N;let x=0,g=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(v)}for(let S=0;S<=t;S++){const A=i+S*d*r,w=Math.sin(A),C=Math.cos(A);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*w,h.y=e[P].y,h.z=e[P].x*C,o.push(h.x,h.y,h.z),p.x=S/t,p.y=P/(e.length-1),a.push(p.x,p.y);const b=l[3*P+0]*w,B=l[3*P+1],R=l[3*P+0]*C;u.push(b,B,R)}}for(let S=0;S<t;S++)for(let A=0;A<e.length-1;A++){const w=A+S*e.length,C=w,P=w+e.length,b=w+e.length+1,B=w+1;s.push(C,P,B),s.push(b,B,P)}this.setIndex(s),this.setAttribute("position",new vt(o,3)),this.setAttribute("uv",new vt(a,2)),this.setAttribute("normal",new vt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zv(e.points,e.segments,e.phiStart,e.phiLength)}}class kh extends Ua{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kh(e.radius,e.detail)}}class ff extends Ht{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,d=l+1,h=e/a,p=t/l,m=[],v=[],_=[],x=[];for(let g=0;g<d;g++){const S=g*p-o;for(let A=0;A<u;A++){const w=A*h-s;v.push(w,-S,0),_.push(0,0,1),x.push(A/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let S=0;S<a;S++){const A=S+u*g,w=S+u*(g+1),C=S+1+u*(g+1),P=S+1+u*g;m.push(A,w,P),m.push(w,C,P)}this.setIndex(m),this.setAttribute("position",new vt(v,3)),this.setAttribute("normal",new vt(_,3)),this.setAttribute("uv",new vt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ff(e.width,e.height,e.widthSegments,e.heightSegments)}}class $v extends Ht{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],d=[];let h=e;const p=(t-e)/r,m=new N,v=new xe;for(let _=0;_<=r;_++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}h+=p}for(let _=0;_<r;_++){const x=_*(i+1);for(let g=0;g<i;g++){const S=g+x,A=S,w=S+i+1,C=S+i+2,P=S+1;a.push(A,w,P),a.push(w,C,P)}}this.setIndex(a),this.setAttribute("position",new vt(l,3)),this.setAttribute("normal",new vt(u,3)),this.setAttribute("uv",new vt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $v(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ey extends Ht{constructor(e=new kl([new xe(0,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new vt(r,3)),this.setAttribute("normal",new vt(s,3)),this.setAttribute("uv",new vt(o,2));function u(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const v=p.holes;Ms.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const S=v[x];Ms.isClockWise(S)===!0&&(v[x]=S.reverse())}const _=Ms.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const S=v[x];m=m.concat(S)}for(let x=0,g=m.length;x<g;x++){const S=m[x];r.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let x=0,g=_.length;x<g;x++){const S=_[x],A=S[0]+h,w=S[1]+h,C=S[2]+h;i.push(A,w,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return w9(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new ey(i,e.curveSegments)}}function w9(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class zh extends Ht{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const d=[],h=new N,p=new N,m=[],v=[],_=[],x=[];for(let g=0;g<=i;g++){const S=[],A=g/i;let w=0;g===0&&o===0?w=.5/t:g===i&&l===Math.PI&&(w=-.5/t);for(let C=0;C<=t;C++){const P=C/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+A*a),h.y=e*Math.cos(o+A*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+A*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),_.push(p.x,p.y,p.z),x.push(P+w,1-A),S.push(u++)}d.push(S)}for(let g=0;g<i;g++)for(let S=0;S<t;S++){const A=d[g][S+1],w=d[g][S],C=d[g+1][S],P=d[g+1][S+1];(g!==0||o>0)&&m.push(A,w,P),(g!==i-1||l<Math.PI)&&m.push(w,C,P)}this.setIndex(m),this.setAttribute("position",new vt(v,3)),this.setAttribute("normal",new vt(_,3)),this.setAttribute("uv",new vt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ty extends Ua{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ty(e.radius,e.detail)}}class ny extends Ht{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],d=new N,h=new N,p=new N;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const _=v/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(_),h.y=(e+t*Math.cos(x))*Math.sin(_),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(_),d.y=e*Math.sin(_),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(v/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const _=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,S=(r+1)*m+v;o.push(_,x,S),o.push(x,g,S)}this.setIndex(o),this.setAttribute("position",new vt(a,3)),this.setAttribute("normal",new vt(l,3)),this.setAttribute("uv",new vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ny(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class iy extends Ht{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],d=[],h=new N,p=new N,m=new N,v=new N,_=new N,x=new N,g=new N;for(let A=0;A<=i;++A){const w=A/i*s*Math.PI*2;S(w,s,o,e,m),S(w+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let C=0;C<=r;++C){const P=C/r*Math.PI*2,b=-t*Math.cos(P),B=t*Math.sin(P);h.x=m.x+(b*g.x+B*_.x),h.y=m.y+(b*g.y+B*_.y),h.z=m.z+(b*g.z+B*_.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),d.push(A/i),d.push(C/r)}}for(let A=1;A<=i;A++)for(let w=1;w<=r;w++){const C=(r+1)*(A-1)+(w-1),P=(r+1)*A+(w-1),b=(r+1)*A+w,B=(r+1)*(A-1)+w;a.push(C,P,B),a.push(P,b,B)}this.setIndex(a),this.setAttribute("position",new vt(l,3)),this.setAttribute("normal",new vt(u,3)),this.setAttribute("uv",new vt(d,2));function S(A,w,C,P,b){const B=Math.cos(A),R=Math.sin(A),T=C/w*A,D=Math.cos(T);b.x=P*(2+D)*.5*B,b.y=P*(2+D)*R*.5,b.z=P*Math.sin(T)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iy(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ry extends Ht{constructor(e=new JM(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,u=new xe;let d=new N;const h=[],p=[],m=[],v=[];_(),this.setIndex(v),this.setAttribute("position",new vt(h,3)),this.setAttribute("normal",new vt(p,3)),this.setAttribute("uv",new vt(m,2));function _(){for(let A=0;A<t;A++)x(A);x(s===!1?t:0),S(),g()}function x(A){d=e.getPointAt(A/t,d);const w=o.normals[A],C=o.binormals[A];for(let P=0;P<=r;P++){const b=P/r*Math.PI*2,B=Math.sin(b),R=-Math.cos(b);l.x=R*w.x+B*C.x,l.y=R*w.y+B*C.y,l.z=R*w.z+B*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let A=1;A<=t;A++)for(let w=1;w<=r;w++){const C=(r+1)*(A-1)+(w-1),P=(r+1)*A+(w-1),b=(r+1)*A+w,B=(r+1)*(A-1)+w;v.push(C,P,B),v.push(P,b,B)}}function S(){for(let A=0;A<=t;A++)for(let w=0;w<=r;w++)u.x=A/t,u.y=w/r,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ry(new z0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class DD extends Ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],p=h.start,m=h.count;for(let v=p,_=p+m;v<_;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),S=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,S),KC(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,h=3*a+(u+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),KC(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new vt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function KC(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var YC=Object.freeze({__proto__:null,BoxGeometry:ou,CapsuleGeometry:Xv,CircleGeometry:Jv,ConeGeometry:Uh,CylinderGeometry:Nh,DodecahedronGeometry:Kv,EdgesGeometry:MD,ExtrudeGeometry:Qv,IcosahedronGeometry:qv,LatheGeometry:Zv,OctahedronGeometry:kh,PlaneGeometry:ff,PolyhedronGeometry:Ua,RingGeometry:$v,ShapeGeometry:ey,SphereGeometry:zh,TetrahedronGeometry:ty,TorusGeometry:ny,TorusKnotGeometry:iy,TubeGeometry:ry,WireframeGeometry:DD});class LD extends ai{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ye(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class OD extends bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Hh extends ai{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ye(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Lr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ls extends Hh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ft(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ye(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ye(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ye(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class FD extends ai{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ye(16777215),this.specular=new Ye(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Lr,this.combine=Ih,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ND extends ai{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ye(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class UD extends ai{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class kD extends ai{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Lr,this.combine=Ih,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class YM extends ai{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=tD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class QM extends ai{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class zD extends ai{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ye(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HD extends Vi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Pl(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function GD(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function VD(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function P1(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function qM(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function E9(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*r;if(!(v<t||v>=i)){h.push(u.times[m]);for(let _=0;_<d;++_)p.push(u.values[m*d+_])}}h.length!==0&&(u.times=Pl(h,u.times.constructor),u.values=Pl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function T9(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let _;if(s<=a.times[0]){const g=d,S=h-d;_=a.values.slice(g,S)}else if(s>=a.times[v]){const g=v*h+d,S=g+h-d;_=a.values.slice(g,S)}else{const g=a.createInterpolant(),S=d,A=h-d;g.evaluate(s),_=g.resultBuffer.slice(S,A)}l==="quaternion"&&new yi().fromArray(_).normalize().conjugate().toArray(_);const x=u.times.length;for(let g=0;g<x;++g){const S=g*m+p;if(l==="quaternion")yi.multiplyQuaternionsFlat(u.values,S,_,0,u.values,S);else{const A=m-p*2;for(let w=0;w<A;++w)u.values[S+w]-=_[w]}}}return n.blendMode=CM,n}class C9{static convertArray(e,t){return Pl(e,t)}static isTypedArray(e){return GD(e)}static getKeyframeOrder(e){return VD(e)}static sortedArray(e,t,i){return P1(e,t,i)}static flattenJSON(e,t,i,r){qM(e,t,i,r)}static subclip(e,t,i,r,s=30){return E9(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return T9(e,t,i,r)}}class df{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WD extends df{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:bl,endingEnd:bl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Rl:s=e,a=2*t-i;break;case ch:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Rl:o=e,l=2*i-t;break;case ch:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),_=v*v,x=_*v,g=-p*x+2*p*_-p*v,S=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*v+1,A=(-1-m)*x+(1.5+m)*_+.5*v,w=m*x-m*_;for(let C=0;C!==a;++C)s[C]=g*o[d+C]+S*o[u+C]+A*o[l+C]+w*o[h+C];return s}}class ZM extends df{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*d;return s}}class jD extends df{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class us{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pl(t,this.TimeBufferType),this.values=Pl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Pl(e.times,Array),values:Pl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new jD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ZM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new WD(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Hc:t=this.InterpolantFactoryMethodDiscrete;break;case Gc:t=this.InterpolantFactoryMethodLinear;break;case _g:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hc;case this.InterpolantFactoryMethodLinear:return Gc;case this.InterpolantFactoryMethodSmooth:return _g}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&GD(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===_g,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let v=0;v!==i;++v){const _=t[h+v];if(_!==t[p+v]||_!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}us.prototype.ValueTypeName="";us.prototype.TimeBufferType=Float32Array;us.prototype.ValueBufferType=Float32Array;us.prototype.DefaultInterpolation=Gc;class au extends us{constructor(e,t,i){super(e,t,i)}}au.prototype.ValueTypeName="bool";au.prototype.ValueBufferType=Array;au.prototype.DefaultInterpolation=Hc;au.prototype.InterpolantFactoryMethodLinear=void 0;au.prototype.InterpolantFactoryMethodSmooth=void 0;class $M extends us{constructor(e,t,i,r){super(e,t,i,r)}}$M.prototype.ValueTypeName="color";class ql extends us{constructor(e,t,i,r){super(e,t,i,r)}}ql.prototype.ValueTypeName="number";class XD extends df{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let d=u+a;u!==d;u+=4)yi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Zl extends us{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new XD(this.times,this.values,this.getValueSize(),e)}}Zl.prototype.ValueTypeName="quaternion";Zl.prototype.InterpolantFactoryMethodSmooth=void 0;class lu extends us{constructor(e,t,i){super(e,t,i)}}lu.prototype.ValueTypeName="string";lu.prototype.ValueBufferType=Array;lu.prototype.DefaultInterpolation=Hc;lu.prototype.InterpolantFactoryMethodLinear=void 0;lu.prototype.InterpolantFactoryMethodSmooth=void 0;class $l extends us{constructor(e,t,i,r){super(e,t,i,r)}}$l.prototype.ValueTypeName="vector";class Jc{constructor(e="",t=-1,i=[],r=Nv){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ir(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(R9(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(us.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=VD(l);l=P1(l,1,d),u=P1(u,1,d),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new ql(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,v,_){if(m.length!==0){const x=[],g=[];qM(m,x,g,v),x.length!==0&&_.push(new h(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let _=0;_<p[v].morphTargets.length;_++)m[p[v].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let S=0;S!==p[v].morphTargets.length;++S){const A=p[v];x.push(A.time),g.push(A.morphTarget===_?1:0)}r.push(new ql(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i($l,m+".position",p,"pos",r),i(Zl,m+".quaternion",p,"rot",r),i($l,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function b9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ql;case"vector":case"vector2":case"vector3":case"vector4":return $l;case"color":return $M;case"quaternion":return Zl;case"bool":case"boolean":return au;case"string":return lu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function R9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=b9(n.type);if(n.times===void 0){const t=[],i=[];qM(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ws={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class ew{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.abortController=new AbortController,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],v=u[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const JD=new ew;let Wi=class{constructor(e){this.manager=e!==void 0?e:JD,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};Wi.DEFAULT_MATERIAL_NAME="__DEFAULT";const ho={};class P9 extends Error{constructor(e,t){super(e),this.response=t}}class Or extends Wi{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ws.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ho[e]!==void 0){ho[e].push({onLoad:t,onProgress:i,onError:r});return}ho[e]=[],ho[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=ho[e],h=u.body.getReader(),p=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let _=0;const x=new ReadableStream({start(g){S();function S(){h.read().then(({done:A,value:w})=>{if(A)g.close();else{_+=w.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:_,total:m});for(let P=0,b=d.length;P<b;P++){const B=d[P];B.onProgress&&B.onProgress(C)}g.enqueue(w),S()}},A=>{g.error(A)})}}});return new Response(x)}else throw new P9(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a==="")return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{Ws.add(`file:${e}`,u);const d=ho[e];delete ho[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=ho[e];if(d===void 0)throw this.manager.itemError(e),u;delete ho[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class I9 extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Or(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Jc.parse(e[i]);t.push(r)}return t}}class B9 extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new jv,l=new Or(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=Yn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+_]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Yn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}const Gu=new WeakMap;class vh extends Wi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ws.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let h=Gu.get(o);h===void 0&&(h=[],Gu.set(o,h)),h.push({onLoad:t,onError:r})}return o}const a=hh("img");function l(){d(),t&&t(this);const h=Gu.get(this)||[];for(let p=0;p<h.length;p++){const m=h[p];m.onLoad&&m.onLoad(this)}Gu.delete(this),s.manager.itemEnd(e)}function u(h){d(),r&&r(h),Ws.remove(`image:${e}`);const p=Gu.get(this)||[];for(let m=0;m<p.length;m++){const v=p[m];v.onError&&v.onError(h)}Gu.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),Ws.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class D9 extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=new Lh;s.colorSpace=cr;const o=new vh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class L9 extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ks,a=new Or(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Cr,o.wrapT=u.wrapT!==void 0?u.wrapT:Cr,o.magFilter=u.magFilter!==void 0?u.magFilter:Yn,o.minFilter=u.minFilter!==void 0?u.minFilter:Yn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=is),u.mipmapCount===1&&(o.minFilter=Yn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},i,r),o}}class KD extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=new Bn,o=new vh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ka extends rn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ye(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class YD extends ka{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(rn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ye(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const R_=new Pt,QC=new N,qC=new N;class tw{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xe(512,512),this.mapType=as,this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new cf,this._frameExtents=new xe(1,1),this._viewportCount=1,this._viewports=[new an(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;QC.setFromMatrixPosition(e.matrixWorld),t.position.copy(QC),qC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(qC),t.updateMatrixWorld(),R_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R_,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(R_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class O9 extends tw{constructor(){super(new In(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Wc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class nw extends ka{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(rn.DEFAULT_UP),this.updateMatrix(),this.target=new rn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new O9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ZC=new Pt,rd=new N,P_=new N;class F9 extends tw{constructor(){super(new In(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xe(4,2),this._viewportCount=6,this._viewports=[new an(2,1,1,1),new an(0,1,1,1),new an(3,1,1,1),new an(1,1,1,1),new an(3,0,1,1),new an(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),rd.setFromMatrixPosition(e.matrixWorld),i.position.copy(rd),P_.copy(i.position),P_.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(P_),i.updateMatrixWorld(),r.makeTranslation(-rd.x,-rd.y,-rd.z),ZC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZC,i.coordinateSystem,i.reversedDepth)}}class iw extends ka{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new F9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ts extends Dh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class N9 extends tw{constructor(){super(new Ts(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class rw extends ka{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(rn.DEFAULT_UP),this.updateMatrix(),this.target=new rn,this.shadow=new N9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class QD extends ka{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class qD extends ka{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class ZD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class $D extends ka{constructor(e=new ZD,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class sy extends Wi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Or(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ye().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ye().setHex(o.value);break;case"v2":r.uniforms[s].value=new xe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new N().fromArray(o.value);break;case"v4":r.uniforms[s].value=new an().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Wt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Pt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new xe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return sy.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:LD,SpriteMaterial:NM,RawShaderMaterial:OD,ShaderMaterial:bs,PointsMaterial:Wv,MeshPhysicalMaterial:ls,MeshStandardMaterial:Hh,MeshPhongMaterial:FD,MeshToonMaterial:ND,MeshNormalMaterial:UD,MeshLambertMaterial:kD,MeshDepthMaterial:YM,MeshDistanceMaterial:QM,MeshBasicMaterial:Rr,MeshMatcapMaterial:zD,LineDashedMaterial:HD,LineBasicMaterial:Vi,Material:ai};return new t[e]}}class Ea{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class eL extends Ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class tL extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Or(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),S=lc(x.type,g),A=new Oh(S,x.stride);return A.uuid=x.uuid,t[v]=A,A}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new eL:new Ht,a=e.data.index;if(a!==void 0){const m=lc(a.type,a.array);o.setIndex(new un(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let _;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);_=new Pa(x,v.itemSize,v.offset,v.normalized)}else{const x=lc(v.type,v.array),g=v.isInstancedBufferAttribute?Yl:un;_=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),v.usage!==void 0&&_.setUsage(v.usage),o.setAttribute(m,_)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],_=[];for(let x=0,g=v.length;x<g;x++){const S=v[x];let A;if(S.isInterleavedBufferAttribute){const w=r(e.data,S.data);A=new Pa(w,S.itemSize,S.offset,S.normalized)}else{const w=lc(S.type,S.array);A=new un(w,S.itemSize,S.normalized)}S.name!==void 0&&(A.name=S.name),_.push(A)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const _=h[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(o.boundingSphere=new xi().fromJSON(p)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class U9 extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Or(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Or(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new kl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Fh().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new tL;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in YC?a=YC[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new sy;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Jc.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(d)}else return l.data?{data:lc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ew(t);s=new vh(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Ks(g.data,g.width,g.height)))}r[h.uuid]=new ga(m)}else{const m=a(h.url);r[h.uuid]=new ga(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:lc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new vh(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Ks(v.data,v.width,v.height)))}i[l.uuid]=new ga(d)}else{const d=await s(l.url);i[l.uuid]=new ga(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new Lh,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Ks:d=new Bn,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,k9)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],$C),d.wrapT=i(a.wrap[1],$C)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,eb)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,eb)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new FM,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ye(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Hv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new zv(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new In(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ts(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new QD(e.color,e.intensity);break;case"DirectionalLight":o=new rw(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new iw(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new qD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new nw(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new YD(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new $D().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new UM(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Qn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new kM(d,h,p),o.instanceMatrix=new Yl(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Yl(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),h=l(e.material),o=new SD(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(_=>{let x=null,g=null;return _.boundingBox!==void 0&&(x=new Ei().fromJSON(_.boundingBox)),_.boundingSphere!==void 0&&(g=new xi().fromJSON(_.boundingSphere)),{..._,boundingBox:x,boundingSphere:g}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new xi().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Ei().fromJSON(e.boundingBox));break;case"LOD":o=new _D;break;case"Line":o=new Fo(a(e.geometry),l(e.material));break;case"LineLoop":o=new zM(a(e.geometry),l(e.material));break;case"LineSegments":o=new Rs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new HM(a(e.geometry),l(e.material));break;case"Sprite":o=new xD(l(e.material));break;case"Group":o=new Ao;break;case"Bone":o=new Gv;break;default:o=new rn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],_=o.getObjectByProperty("uuid",v.object);_!==void 0&&o.addLevel(_,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new rn}})}}const k9={UVMapping:Rv,CubeReflectionMapping:Lo,CubeRefractionMapping:ba,EquirectangularReflectionMapping:lh,EquirectangularRefractionMapping:uh,CubeUVReflectionMapping:lf},$C={RepeatWrapping:Ra,ClampToEdgeWrapping:Cr,MirroredRepeatWrapping:Fc},eb={NearestFilter:vi,NearestMipmapNearestFilter:Pv,NearestMipmapLinearFilter:Cl,LinearFilter:Yn,LinearMipmapNearestFilter:Ac,LinearMipmapLinearFilter:is},I_=new WeakMap;class nL extends Wi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ws.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{if(I_.has(o)===!0)r&&r(I_.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Ws.add(`image-bitmap:${e}`,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),I_.set(l,u),Ws.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Ws.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let zm;class sw{static getContext(){return zm===void 0&&(zm=new(window.AudioContext||window.webkitAudioContext)),zm}static setContext(e){zm=e}}class z9 extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Or(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);sw.getContext().decodeAudioData(u,function(h){t(h)}).catch(a)}catch(u){a(u)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const tb=new Pt,nb=new Pt,nl=new Pt;class H9{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new In,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new In,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,nl.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Nl*t.fov*.5)/t.zoom;let a,l;nb.elements[12]=-r,tb.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,nl.elements[0]=2*t.near/(l-a),nl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(nl),a=-o*t.aspect-s,l=o*t.aspect-s,nl.elements[0]=2*t.near/(l-a),nl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(nl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(nb),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tb)}}class iL extends In{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class ow{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const il=new N,B_=new yi,G9=new N,rl=new N,sl=new N;class V9 extends rn{constructor(){super(),this.type="AudioListener",this.context=sw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ow}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(il,B_,G9),rl.set(0,0,-1).applyQuaternion(B_),sl.set(0,1,0).applyQuaternion(B_),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(il.x,i),t.positionY.linearRampToValueAtTime(il.y,i),t.positionZ.linearRampToValueAtTime(il.z,i),t.forwardX.linearRampToValueAtTime(rl.x,i),t.forwardY.linearRampToValueAtTime(rl.y,i),t.forwardZ.linearRampToValueAtTime(rl.z,i),t.upX.linearRampToValueAtTime(sl.x,i),t.upY.linearRampToValueAtTime(sl.y,i),t.upZ.linearRampToValueAtTime(sl.z,i)}else t.setPosition(il.x,il.y,il.z),t.setOrientation(rl.x,rl.y,rl.z,sl.x,sl.y,sl.z)}}class rL extends rn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ol=new N,ib=new yi,W9=new N,al=new N;class j9 extends rL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ol,ib,W9),al.set(0,0,1).applyQuaternion(ib);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ol.x,i),t.positionY.linearRampToValueAtTime(ol.y,i),t.positionZ.linearRampToValueAtTime(ol.z,i),t.orientationX.linearRampToValueAtTime(al.x,i),t.orientationY.linearRampToValueAtTime(al.y,i),t.orientationZ.linearRampToValueAtTime(al.z,i)}else t.setPosition(ol.x,ol.y,ol.z),t.setOrientation(al.x,al.y,al.z)}}class X9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class sL{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){yi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;yi.multiplyQuaternionsFlat(e,o,e,t,e,i),yi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const aw="\\[\\]\\.:\\/",J9=new RegExp("["+aw+"]","g"),lw="[^"+aw+"]",K9="[^"+aw.replace("\\.","")+"]",Y9=/((?:WC+[\/:])*)/.source.replace("WC",lw),Q9=/(WCOD+)?/.source.replace("WCOD",K9),q9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lw),Z9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lw),$9=new RegExp("^"+Y9+Q9+q9+Z9+"$"),e8=["material","materials","bones","map"];class t8{constructor(e,t,i){const r=i||sn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class sn{constructor(e,t,i){this.path=t,this.parsedPath=i||sn.parseTrackName(t),this.node=sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new sn.Composite(e,t,i):new sn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(J9,"")}static parseTrackName(e){const t=$9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);e8.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=sn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sn.Composite=t8;sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};sn.prototype.GetterByBindingType=[sn.prototype._getValue_direct,sn.prototype._getValue_array,sn.prototype._getValue_arrayElement,sn.prototype._getValue_toArray];sn.prototype.SetterByBindingTypeAndVersioning=[[sn.prototype._setValue_direct,sn.prototype._setValue_direct_setNeedsUpdate,sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_array,sn.prototype._setValue_array_setNeedsUpdate,sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_arrayElement,sn.prototype._setValue_arrayElement_setNeedsUpdate,sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_fromArray,sn.prototype._setValue_fromArray_setNeedsUpdate,sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class n8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ir(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new sn(p,i[_],r[_]))}else if(v<u){a=e[v];const _=--u,x=e[_];t[x.uuid]=v,e[v]=x,t[m]=_,e[_]=p;for(let g=0,S=o;g!==S;++g){const A=s[g],w=A[_];let C=A[v];A[v]=w,C===void 0&&(C=new sn(p,i[g],r[g])),A[_]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[u]=h,e[h]=l;for(let m=0,v=r;m!==v;++m){const _=i[m],x=_[h],g=_[d];_[d]=x,_[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],v=--o,_=e[v];t[m.uuid]=h,e[h]=m,t[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=r;x!==g;++x){const S=i[x],A=S[p],w=S[v];S[h]=A,S[p]=w,S.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,_=r;v!==_;++v){const x=i[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const v=l[p];h[p]=new sn(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class oL{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:bl,endingEnd:bl};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case CM:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case Nv:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===$B;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===qB){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Rl,r.endingEnd=Rl):(e?r.endingStart=this.zeroSlopeAtStart?Rl:bl:r.endingStart=ch,t?r.endingEnd=this.zeroSlopeAtEnd?Rl:bl:r.endingEnd=ch)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const i8=new Float32Array(1);class r8 extends $s{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const _=t&&t._propertyBindings[h].binding.parsedPath;v=new sL(sn.create(i,m,_),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new ZM(new Float32Array(2),new Float32Array(2),1,i8),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Jc.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Nv),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new oL(this,o,t,i);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Jc.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class s8 extends IM{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new kv(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class uw{constructor(e){this.value=e}clone(){return new uw(this.value.clone===void 0?this.value:this.value.clone())}}let o8=0;class a8 extends $s{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:o8++}),this.name="",this.usage=dh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class l8 extends Oh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class u8{constructor(e,t,i,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const rb=new Pt;class aL{constructor(e,t,i=0,r=1/0){this.ray=new su(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ul,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return rb.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(rb),this}intersectObject(e,t=!0,i=[]){return I1(e,this,i,t),i.sort(sb),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)I1(e[r],this,i,t);return i.sort(sb),i}}function sb(n,e){return n.distance-e.distance}function I1(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)I1(s[o],e,t,!0)}}class c8{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=f8.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function f8(){this._document.hidden===!1&&this.reset()}class B1{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Ft(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ft(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class d8{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class cw{constructor(e,t,i,r){cw.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const ob=new xe;class h8{constructor(e=new xe(1/0,1/0),t=new xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ob.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ob).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ab=new N,Hm=new N,Vu=new N,Wu=new N,D_=new N,p8=new N,m8=new N;class g8{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ab.subVectors(e,this.start),Hm.subVectors(this.end,this.start);const i=Hm.dot(Hm);let s=Hm.dot(ab)/i;return t&&(s=Ft(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=p8,i=m8){const r=10000000000000001e-32;let s,o;const a=this.start,l=e.start,u=this.end,d=e.end;Vu.subVectors(u,a),Wu.subVectors(d,l),D_.subVectors(a,l);const h=Vu.dot(Vu),p=Wu.dot(Wu),m=Wu.dot(D_);if(h<=r&&p<=r)return t.copy(a),i.copy(l),t.sub(i),t.dot(t);if(h<=r)s=0,o=m/p,o=Ft(o,0,1);else{const v=Vu.dot(D_);if(p<=r)o=0,s=Ft(-v/h,0,1);else{const _=Vu.dot(Wu),x=h*p-_*_;x!==0?s=Ft((_*m-v*p)/x,0,1):s=0,o=(_*s+m)/p,o<0?(o=0,s=Ft(-v/h,0,1)):o>1&&(o=1,s=Ft((_-v)/h,0,1))}}return t.copy(a).add(Vu.multiplyScalar(s)),i.copy(l).add(Wu.multiplyScalar(o)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const lb=new N;class v8 extends rn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Ht,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new vt(r,3));const s=new Vi({fog:!1,toneMapped:!1});this.cone=new Rs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),lb.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(lb),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ta=new N,Gm=new Pt,L_=new Pt;class y8 extends Rs{constructor(e){const t=lL(e),i=new Ht,r=[],s=[];for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}i.setAttribute("position",new vt(r,3)),i.setAttribute("color",new vt(s,3));const o=new Vi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new Ye(255),l=new Ye(65280);this.setColors(a,l)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");L_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Gm.multiplyMatrices(L_,a.matrixWorld),ta.setFromMatrixPosition(Gm),r.setXYZ(o,ta.x,ta.y,ta.z),Gm.multiplyMatrices(L_,a.parent.matrixWorld),ta.setFromMatrixPosition(Gm),r.setXYZ(o+1,ta.x,ta.y,ta.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let s=0;s<r.count;s+=2)r.setXYZ(s,e.r,e.g,e.b),r.setXYZ(s+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function lL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...lL(n.children[t]));return e}class x8 extends Qn{constructor(e,t,i){const r=new zh(t,4,2),s=new Rr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _8=new N,ub=new Ye,cb=new Ye;class S8 extends rn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new kh(t);r.rotateY(Math.PI*.5),this.material=new Rr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new un(o,3)),this.add(new Qn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ub.copy(this.light.color),cb.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?ub:cb;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_8.setFromMatrixPosition(this.light.matrixWorld).negate())}}class A8 extends Rs{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ye(i),r=new Ye(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const _=p===s?i:r;_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3}const d=new Ht;d.setAttribute("position",new vt(l,3)),d.setAttribute("color",new vt(u,3));const h=new Vi({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class M8 extends Rs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ye(s),o=new Ye(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const _=h&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let v=0;v<r;v++){let _=v/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(v+1)/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const u=new Ht;u.setAttribute("position",new vt(a,3)),u.setAttribute("color",new vt(l,3));const d=new Vi({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const fb=new N,Vm=new N,db=new N;class w8 extends rn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Ht;r.setAttribute("position",new vt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Vi({fog:!1,toneMapped:!1});this.lightPlane=new Fo(r,s),this.add(this.lightPlane),r=new Ht,r.setAttribute("position",new vt([0,0,0,0,0,1],3)),this.targetLine=new Fo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),fb.setFromMatrixPosition(this.light.matrixWorld),Vm.setFromMatrixPosition(this.light.target.matrixWorld),db.subVectors(Vm,fb),this.lightPlane.lookAt(Vm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vm),this.targetLine.scale.z=db.length()}}const Wm=new N,Gn=new Dh;class E8 extends Rs{constructor(e){const t=new Ht,i=new Vi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,_){l(v),l(_)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new vt(r,3)),t.setAttribute("color",new vt(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ye(16755200),d=new Ye(16711680),h=new Ye(43775),p=new Ye(16777215),m=new Ye(3355443);this.setColors(u,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;let s,o;if(Gn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===br)s=-1,o=1;else if(this.camera.coordinateSystem===Vc)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Xn("c",t,e,Gn,0,0,s),Xn("t",t,e,Gn,0,0,o),Xn("n1",t,e,Gn,-i,-r,s),Xn("n2",t,e,Gn,i,-r,s),Xn("n3",t,e,Gn,-i,r,s),Xn("n4",t,e,Gn,i,r,s),Xn("f1",t,e,Gn,-i,-r,o),Xn("f2",t,e,Gn,i,-r,o),Xn("f3",t,e,Gn,-i,r,o),Xn("f4",t,e,Gn,i,r,o),Xn("u1",t,e,Gn,i*.7,r*1.1,s),Xn("u2",t,e,Gn,-i*.7,r*1.1,s),Xn("u3",t,e,Gn,0,r*2,s),Xn("cf1",t,e,Gn,-i,0,o),Xn("cf2",t,e,Gn,i,0,o),Xn("cf3",t,e,Gn,0,-r,o),Xn("cf4",t,e,Gn,0,r,o),Xn("cn1",t,e,Gn,-i,0,s),Xn("cn2",t,e,Gn,i,0,s),Xn("cn3",t,e,Gn,0,-r,s),Xn("cn4",t,e,Gn,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xn(n,e,t,i,r,s,o){Wm.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],Wm.x,Wm.y,Wm.z)}}const jm=new Ei;class T8 extends Rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Ht;s.setIndex(new un(i,1)),s.setAttribute("position",new un(r,3)),super(s,new Vi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&jm.setFromObject(this.object),jm.isEmpty())return;const e=jm.min,t=jm.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class C8 extends Rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ht;s.setIndex(new un(i,1)),s.setAttribute("position",new vt(r,3)),super(s,new Vi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class b8 extends Fo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ht;o.setAttribute("position",new vt(s,3)),o.computeBoundingSphere(),super(o,new Vi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ht;l.setAttribute("position",new vt(a,3)),l.computeBoundingSphere(),this.add(new Qn(l,new Rr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hb=new N;let Xm,O_;class R8 extends rn{constructor(e=new N(0,0,1),t=new N(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Xm===void 0&&(Xm=new Ht,Xm.setAttribute("position",new vt([0,0,0,0,1,0],3)),O_=new Uh(.5,1,5,1),O_.translate(0,-.5,0)),this.position.copy(t),this.line=new Fo(Xm,new Vi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qn(O_,new Rr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hb.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(hb,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class P8 extends Rs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ht;r.setAttribute("position",new vt(t,3)),r.setAttribute("color",new vt(i,3));const s=new Vi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ye,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class I8{constructor(){this.type="ShapePath",this.color=new Ye,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new H0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const S=[];for(let A=0,w=g.length;A<w;A++){const C=g[A],P=new kl;P.curves=C.curves,S.push(P)}return S}function i(g,S){const A=S.length;let w=!1;for(let C=A-1,P=0;P<A;C=P++){let b=S[C],B=S[P],R=B.x-b.x,T=B.y-b.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(b=S[P],R=-R,B=S[C],T=-T),g.y<b.y||g.y>B.y)continue;if(g.y===b.y){if(g.x===b.x)return!0}else{const D=T*(g.x-b.x)-R*(g.y-b.y);if(D===0)return!0;if(D<0)continue;w=!w}}else{if(g.y!==b.y)continue;if(B.x<=g.x&&g.x<=b.x||b.x<=g.x&&g.x<=B.x)return!0}}return w}const r=Ms.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new kl,l.curves=a.curves,u.push(l),u;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],v=0,_;p[v]=void 0,m[v]=[];for(let g=0,S=s.length;g<S;g++)a=s[g],_=a.getPoints(),o=r(_),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new kl,p:_},p[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:_[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,S=0;for(let A=0,w=p.length;A<w;A++)h[A]=[];for(let A=0,w=p.length;A<w;A++){const C=m[A];for(let P=0;P<C.length;P++){const b=C[P];let B=!0;for(let R=0;R<p.length;R++)i(b.p,p[R].p)&&(A!==R&&S++,B?(B=!1,h[R].push(b)):g=!0);B&&h[A].push(b)}}S>0&&g===!1&&(m=h)}let x;for(let g=0,S=p.length;g<S;g++){l=p[g].s,u.push(l),x=m[g];for(let A=0,w=x.length;A<w;A++)l.holes.push(x[A].h)}return u}}class B8 extends $s{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function D8(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function L8(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function O8(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function D1(n,e,t,i){const r=F8(i);switch(t){case MM:return n*e;case Lv:return n*e/r.components*r.byteLength;case Bh:return n*e/r.components*r.byteLength;case EM:return n*e*2/r.components*r.byteLength;case Ov:return n*e*2/r.components*r.byteLength;case wM:return n*e*3/r.components*r.byteLength;case zi:return n*e*4/r.components*r.byteLength;case Fv:return n*e*4/r.components*r.byteLength;case Pd:case Id:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Bd:case Dd:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case d0:case p0:return Math.max(n,16)*Math.max(e,8)/4;case f0:case h0:return Math.max(n,8)*Math.max(e,8)/2;case m0:case g0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case v0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case y0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case x0:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case _0:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case S0:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case A0:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case M0:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case w0:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case E0:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case T0:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case C0:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case b0:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case R0:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case P0:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case I0:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Ld:case B0:case D0:return Math.ceil(n/4)*Math.ceil(e/4)*16;case TM:case L0:return Math.ceil(n/4)*Math.ceil(e/4)*8;case O0:case F0:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function F8(n){switch(n){case as:case _M:return{byteLength:1,components:1};case Nc:case SM:case uf:return{byteLength:2,components:1};case Bv:case Dv:return{byteLength:2,components:4};case Oo:case Iv:case pr:return{byteLength:4,components:1};case AM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class N8{static contain(e,t){return D8(e,t)}static cover(e,t){return L8(e,t)}static fill(e){return O8(e)}static getByteLength(e,t,i,r){return D1(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ph}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ph);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function uL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function U8(n){const e=new WeakMap;function t(a,l){const u=a.array,d=a.usage,h=u.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,u,d),a.onUploadCallback();let m;if(u instanceof Float32Array)m=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=n.HALF_FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=n.SHORT;else if(u instanceof Uint32Array)m=n.UNSIGNED_INT;else if(u instanceof Int32Array)m=n.INT;else if(u instanceof Int8Array)m=n.BYTE;else if(u instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:h}}function i(a,l,u){const d=l.array,h=l.updateRanges;if(n.bindBuffer(u,a),h.length===0)n.bufferSubData(u,0,d);else{h.sort((m,v)=>m.start-v.start);let p=0;for(let m=1;m<h.length;m++){const v=h[p],_=h[m];_.start<=v.start+v.count+1?v.count=Math.max(v.count,_.start+_.count-v.start):(++p,h[p]=_)}h.length=p+1;for(let m=0,v=h.length;m<v;m++){const _=h[m];n.bufferSubData(u,_.start*d.BYTES_PER_ELEMENT,d,_.start,_.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const u=e.get(a);if(u===void 0)e.set(a,t(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,a,l),u.version=a.version}}return{get:r,remove:s,update:o}}var k8=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,z8=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,H8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,G8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,V8=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,W8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,j8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,X8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,J8=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,K8=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Y8=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Q8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,q8=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Z8=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,$8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,eG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,tG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,iG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,rG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,oG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,aG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,lG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,uG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cG=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mG="gl_FragColor = linearToOutputTexel( gl_FragColor );",gG=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_G=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,SG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,AG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,MG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,wG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,EG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,TG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,CG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,bG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,RG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,PG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,IG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,BG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,LG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,OG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,FG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,NG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,UG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,kG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,zG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,HG=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,GG=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VG=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,WG=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,jG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,XG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,JG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,KG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,QG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,qG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ZG=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,$G=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,e6=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,t6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,n6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,i6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,r6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,o6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,a6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,l6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,u6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,c6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,f6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,d6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,h6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,p6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,m6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,g6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,v6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,y6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,x6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_6=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,S6=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,A6=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,M6=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,w6=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,E6=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,T6=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,C6=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,b6=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,R6=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,P6=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,I6=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,B6=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,D6=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,L6=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,O6=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,F6=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,N6=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const U6=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,k6=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,z6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,H6=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,G6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,V6=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,W6=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,j6=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,X6=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,J6=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,K6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Y6=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Q6=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,q6=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Z6=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,$6=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,iV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,oV=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,uV=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pV=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Xt={alphahash_fragment:k8,alphahash_pars_fragment:z8,alphamap_fragment:H8,alphamap_pars_fragment:G8,alphatest_fragment:V8,alphatest_pars_fragment:W8,aomap_fragment:j8,aomap_pars_fragment:X8,batching_pars_vertex:J8,batching_vertex:K8,begin_vertex:Y8,beginnormal_vertex:Q8,bsdfs:q8,iridescence_fragment:Z8,bumpmap_pars_fragment:$8,clipping_planes_fragment:eG,clipping_planes_pars_fragment:tG,clipping_planes_pars_vertex:nG,clipping_planes_vertex:iG,color_fragment:rG,color_pars_fragment:sG,color_pars_vertex:oG,color_vertex:aG,common:lG,cube_uv_reflection_fragment:uG,defaultnormal_vertex:cG,displacementmap_pars_vertex:fG,displacementmap_vertex:dG,emissivemap_fragment:hG,emissivemap_pars_fragment:pG,colorspace_fragment:mG,colorspace_pars_fragment:gG,envmap_fragment:vG,envmap_common_pars_fragment:yG,envmap_pars_fragment:xG,envmap_pars_vertex:_G,envmap_physical_pars_fragment:IG,envmap_vertex:SG,fog_vertex:AG,fog_pars_vertex:MG,fog_fragment:wG,fog_pars_fragment:EG,gradientmap_pars_fragment:TG,lightmap_pars_fragment:CG,lights_lambert_fragment:bG,lights_lambert_pars_fragment:RG,lights_pars_begin:PG,lights_toon_fragment:BG,lights_toon_pars_fragment:DG,lights_phong_fragment:LG,lights_phong_pars_fragment:OG,lights_physical_fragment:FG,lights_physical_pars_fragment:NG,lights_fragment_begin:UG,lights_fragment_maps:kG,lights_fragment_end:zG,logdepthbuf_fragment:HG,logdepthbuf_pars_fragment:GG,logdepthbuf_pars_vertex:VG,logdepthbuf_vertex:WG,map_fragment:jG,map_pars_fragment:XG,map_particle_fragment:JG,map_particle_pars_fragment:KG,metalnessmap_fragment:YG,metalnessmap_pars_fragment:QG,morphinstance_vertex:qG,morphcolor_vertex:ZG,morphnormal_vertex:$G,morphtarget_pars_vertex:e6,morphtarget_vertex:t6,normal_fragment_begin:n6,normal_fragment_maps:i6,normal_pars_fragment:r6,normal_pars_vertex:s6,normal_vertex:o6,normalmap_pars_fragment:a6,clearcoat_normal_fragment_begin:l6,clearcoat_normal_fragment_maps:u6,clearcoat_pars_fragment:c6,iridescence_pars_fragment:f6,opaque_fragment:d6,packing:h6,premultiplied_alpha_fragment:p6,project_vertex:m6,dithering_fragment:g6,dithering_pars_fragment:v6,roughnessmap_fragment:y6,roughnessmap_pars_fragment:x6,shadowmap_pars_fragment:_6,shadowmap_pars_vertex:S6,shadowmap_vertex:A6,shadowmask_pars_fragment:M6,skinbase_vertex:w6,skinning_pars_vertex:E6,skinning_vertex:T6,skinnormal_vertex:C6,specularmap_fragment:b6,specularmap_pars_fragment:R6,tonemapping_fragment:P6,tonemapping_pars_fragment:I6,transmission_fragment:B6,transmission_pars_fragment:D6,uv_pars_fragment:L6,uv_pars_vertex:O6,uv_vertex:F6,worldpos_vertex:N6,background_vert:U6,background_frag:k6,backgroundCube_vert:z6,backgroundCube_frag:H6,cube_vert:G6,cube_frag:V6,depth_vert:W6,depth_frag:j6,distanceRGBA_vert:X6,distanceRGBA_frag:J6,equirect_vert:K6,equirect_frag:Y6,linedashed_vert:Q6,linedashed_frag:q6,meshbasic_vert:Z6,meshbasic_frag:$6,meshlambert_vert:eV,meshlambert_frag:tV,meshmatcap_vert:nV,meshmatcap_frag:iV,meshnormal_vert:rV,meshnormal_frag:sV,meshphong_vert:oV,meshphong_frag:aV,meshphysical_vert:lV,meshphysical_frag:uV,meshtoon_vert:cV,meshtoon_frag:fV,points_vert:dV,points_frag:hV,shadow_vert:pV,shadow_frag:mV,sprite_vert:gV,sprite_frag:vV},Je={common:{diffuse:{value:new Ye(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Wt}},envmap:{envMap:{value:null},envMapRotation:{value:new Wt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Wt},normalScale:{value:new xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ye(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ye(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0},uvTransform:{value:new Wt}},sprite:{diffuse:{value:new Ye(16777215)},opacity:{value:1},center:{value:new xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}}},As={basic:{uniforms:Yi([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:Yi([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:Yi([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)},specular:{value:new Ye(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:Yi([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:Yi([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:Yi([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:Yi([Je.points,Je.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:Yi([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:Yi([Je.common,Je.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:Yi([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:Yi([Je.sprite,Je.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Wt}},vertexShader:Xt.backgroundCube_vert,fragmentShader:Xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:Yi([Je.common,Je.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:Yi([Je.lights,Je.fog,{color:{value:new Ye(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};As.physical={uniforms:Yi([As.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Wt},clearcoatNormalScale:{value:new xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Wt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Wt},sheen:{value:0},sheenColor:{value:new Ye(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Wt},transmissionSamplerSize:{value:new xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Wt},attenuationDistance:{value:0},attenuationColor:{value:new Ye(0)},specularColor:{value:new Ye(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Wt},anisotropyVector:{value:new xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Wt}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};const Jm={r:0,b:0,g:0},ll=new Lr,yV=new Pt;function xV(n,e,t,i,r,s,o){const a=new Ye(0);let l=s===!0?0:1,u,d,h=null,p=0,m=null;function v(A){let w=A.isScene===!0?A.background:null;return w&&w.isTexture&&(w=(A.backgroundBlurriness>0?t:e).get(w)),w}function _(A){let w=!1;const C=v(A);C===null?g(a,l):C&&C.isColor&&(g(C,1),w=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||w)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function x(A,w){const C=v(w);C&&(C.isCubeTexture||C.mapping===lf)?(d===void 0&&(d=new Qn(new ou(1,1,1),new bs({name:"BackgroundCubeMaterial",uniforms:jc(As.backgroundCube.uniforms),vertexShader:As.backgroundCube.vertexShader,fragmentShader:As.backgroundCube.fragmentShader,side:$i,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,b,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),ll.copy(w.backgroundRotation),ll.x*=-1,ll.y*=-1,ll.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(ll.y*=-1,ll.z*=-1),d.material.uniforms.envMap.value=C,d.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(yV.makeRotationFromEuler(ll)),d.material.toneMapped=on.getTransfer(C.colorSpace)!==mn,(h!==C||p!==C.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=C,p=C.version,m=n.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null)):C&&C.isTexture&&(u===void 0&&(u=new Qn(new ff(2,2),new bs({name:"BackgroundMaterial",uniforms:jc(As.background.uniforms),vertexShader:As.background.vertexShader,fragmentShader:As.background.fragmentShader,side:qs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=C,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=on.getTransfer(C.colorSpace)!==mn,C.matrixAutoUpdate===!0&&C.updateMatrix(),u.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||p!==C.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=C,p=C.version,m=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function g(A,w){A.getRGB(Jm,gD(n)),i.buffers.color.setClear(Jm.r,Jm.g,Jm.b,w,o)}function S(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return a},setClearColor:function(A,w=1){a.set(A),l=w,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,g(a,l)},render:_,addToRenderList:x,dispose:S}}function _V(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(T,D,z,V,J){let ne=!1;const ie=h(V,z,D);s!==ie&&(s=ie,u(s.object)),ne=m(T,V,z,J),ne&&v(T,V,z,J),J!==null&&e.update(J,n.ELEMENT_ARRAY_BUFFER),(ne||o)&&(o=!1,w(T,D,z,V),J!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(J).buffer))}function l(){return n.createVertexArray()}function u(T){return n.bindVertexArray(T)}function d(T){return n.deleteVertexArray(T)}function h(T,D,z){const V=z.wireframe===!0;let J=i[T.id];J===void 0&&(J={},i[T.id]=J);let ne=J[D.id];ne===void 0&&(ne={},J[D.id]=ne);let ie=ne[V];return ie===void 0&&(ie=p(l()),ne[V]=ie),ie}function p(T){const D=[],z=[],V=[];for(let J=0;J<t;J++)D[J]=0,z[J]=0,V[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:z,attributeDivisors:V,object:T,attributes:{},index:null}}function m(T,D,z,V){const J=s.attributes,ne=D.attributes;let ie=0;const re=z.getAttributes();for(const F in re)if(re[F].location>=0){const Y=J[F];let ae=ne[F];if(ae===void 0&&(F==="instanceMatrix"&&T.instanceMatrix&&(ae=T.instanceMatrix),F==="instanceColor"&&T.instanceColor&&(ae=T.instanceColor)),Y===void 0||Y.attribute!==ae||ae&&Y.data!==ae.data)return!0;ie++}return s.attributesNum!==ie||s.index!==V}function v(T,D,z,V){const J={},ne=D.attributes;let ie=0;const re=z.getAttributes();for(const F in re)if(re[F].location>=0){let Y=ne[F];Y===void 0&&(F==="instanceMatrix"&&T.instanceMatrix&&(Y=T.instanceMatrix),F==="instanceColor"&&T.instanceColor&&(Y=T.instanceColor));const ae={};ae.attribute=Y,Y&&Y.data&&(ae.data=Y.data),J[F]=ae,ie++}s.attributes=J,s.attributesNum=ie,s.index=V}function _(){const T=s.newAttributes;for(let D=0,z=T.length;D<z;D++)T[D]=0}function x(T){g(T,0)}function g(T,D){const z=s.newAttributes,V=s.enabledAttributes,J=s.attributeDivisors;z[T]=1,V[T]===0&&(n.enableVertexAttribArray(T),V[T]=1),J[T]!==D&&(n.vertexAttribDivisor(T,D),J[T]=D)}function S(){const T=s.newAttributes,D=s.enabledAttributes;for(let z=0,V=D.length;z<V;z++)D[z]!==T[z]&&(n.disableVertexAttribArray(z),D[z]=0)}function A(T,D,z,V,J,ne,ie){ie===!0?n.vertexAttribIPointer(T,D,z,J,ne):n.vertexAttribPointer(T,D,z,V,J,ne)}function w(T,D,z,V){_();const J=V.attributes,ne=z.getAttributes(),ie=D.defaultAttributeValues;for(const re in ne){const F=ne[re];if(F.location>=0){let K=J[re];if(K===void 0&&(re==="instanceMatrix"&&T.instanceMatrix&&(K=T.instanceMatrix),re==="instanceColor"&&T.instanceColor&&(K=T.instanceColor)),K!==void 0){const Y=K.normalized,ae=K.itemSize,_e=e.get(K);if(_e===void 0)continue;const De=_e.buffer,it=_e.type,se=_e.bytesPerElement,Te=it===n.INT||it===n.UNSIGNED_INT||K.gpuType===Iv;if(K.isInterleavedBufferAttribute){const Ce=K.data,ct=Ce.stride,st=K.offset;if(Ce.isInstancedInterleavedBuffer){for(let rt=0;rt<F.locationSize;rt++)g(F.location+rt,Ce.meshPerAttribute);T.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let rt=0;rt<F.locationSize;rt++)x(F.location+rt);n.bindBuffer(n.ARRAY_BUFFER,De);for(let rt=0;rt<F.locationSize;rt++)A(F.location+rt,ae/F.locationSize,it,Y,ct*se,(st+ae/F.locationSize*rt)*se,Te)}else{if(K.isInstancedBufferAttribute){for(let Ce=0;Ce<F.locationSize;Ce++)g(F.location+Ce,K.meshPerAttribute);T.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let Ce=0;Ce<F.locationSize;Ce++)x(F.location+Ce);n.bindBuffer(n.ARRAY_BUFFER,De);for(let Ce=0;Ce<F.locationSize;Ce++)A(F.location+Ce,ae/F.locationSize,it,Y,ae*se,ae/F.locationSize*Ce*se,Te)}}else if(ie!==void 0){const Y=ie[re];if(Y!==void 0)switch(Y.length){case 2:n.vertexAttrib2fv(F.location,Y);break;case 3:n.vertexAttrib3fv(F.location,Y);break;case 4:n.vertexAttrib4fv(F.location,Y);break;default:n.vertexAttrib1fv(F.location,Y)}}}}S()}function C(){B();for(const T in i){const D=i[T];for(const z in D){const V=D[z];for(const J in V)d(V[J].object),delete V[J];delete D[z]}delete i[T]}}function P(T){if(i[T.id]===void 0)return;const D=i[T.id];for(const z in D){const V=D[z];for(const J in V)d(V[J].object),delete V[J];delete D[z]}delete i[T.id]}function b(T){for(const D in i){const z=i[D];if(z[T.id]===void 0)continue;const V=z[T.id];for(const J in V)d(V[J].object),delete V[J];delete z[T.id]}}function B(){R(),o=!0,s!==r&&(s=r,u(s.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:B,resetDefaultState:R,dispose:C,releaseStatesOfGeometry:P,releaseStatesOfProgram:b,initAttributes:_,enableAttribute:x,disableUnusedAttributes:S}}function SV(n,e,t){let i;function r(u){i=u}function s(u,d){n.drawArrays(i,u,d),t.update(d,i,1)}function o(u,d,h){h!==0&&(n.drawArraysInstanced(i,u,d,h),t.update(d,i,h))}function a(u,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,d,0,h);let m=0;for(let v=0;v<h;v++)m+=d[v];t.update(m,i,1)}function l(u,d,h,p){if(h===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<u.length;v++)o(u[v],d[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(i,u,0,d,0,p,0,h);let v=0;for(let _=0;_<h;_++)v+=d[_]*p[_];t.update(v,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function AV(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const b=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(b){return!(b!==zi&&i.convert(b)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(b){const B=b===uf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(b!==as&&i.convert(b)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&b!==pr&&!B)}function l(b){if(b==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";b="mediump"}return b==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=l(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const h=t.logarithmicDepthBuffer===!0,p=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),S=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),C=v>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:h,reversedDepthBuffer:p,maxTextures:m,maxVertexTextures:v,maxTextureSize:_,maxCubemapSize:x,maxAttributes:g,maxVertexUniforms:S,maxVaryings:A,maxFragmentUniforms:w,vertexTextures:C,maxSamples:P}}function MV(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new vo,a=new Wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,_=h.clipIntersection,x=h.clipShadows,g=n.get(h);if(!r||v===null||v.length===0||s&&!x)s?d(null):u();else{const S=s?0:i,A=S*4;let w=g.clippingState||null;l.value=w,w=d(v,p,A,m);for(let C=0;C!==A;++C)w[C]=t[C];g.clippingState=w,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,v){const _=h!==null?h.length:0;let x=null;if(_!==0){if(x=l.value,v!==!0||x===null){const g=m+_*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(x===null||x.length<g)&&(x=new Float32Array(g));for(let A=0,w=m;A!==_;++A,w+=4)o.copy(h[A]).applyMatrix4(S,a),o.normal.toArray(x,w),x[w+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function wV(n){let e=new WeakMap;function t(o,a){return a===lh?o.mapping=Lo:a===uh&&(o.mapping=ba),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===lh||a===uh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new OM(l.height);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const uc=4,pb=[.125,.215,.35,.446,.526,.582],Al=20,F_=new Ts,mb=new Ye;let N_=null,U_=0,k_=0,z_=!1;const vl=(1+Math.sqrt(5))/2,ju=1/vl,gb=[new N(-vl,ju,0),new N(vl,ju,0),new N(-ju,0,vl),new N(ju,0,vl),new N(0,vl,-ju),new N(0,vl,ju),new N(-1,1,-1),new N(1,1,-1),new N(-1,1,1),new N(1,1,1)],EV=new N;class L1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:o=256,position:a=EV}=s;N_=this._renderer.getRenderTarget(),U_=this._renderer.getActiveCubeFace(),k_=this._renderer.getActiveMipmapLevel(),z_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,a),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=xb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(N_,U_,k_),this._renderer.xr.enabled=z_,e.scissorTest=!1,Km(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Lo||e.mapping===ba?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),N_=this._renderer.getRenderTarget(),U_=this._renderer.getActiveCubeFace(),k_=this._renderer.getActiveMipmapLevel(),z_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Yn,minFilter:Yn,generateMipmaps:!1,type:uf,format:zi,colorSpace:Kl,depthBuffer:!1},r=vb(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=vb(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=TV(s)),this._blurMaterial=CV(s,e,t)}return r}_compileMaterial(e){const t=new Qn(this._lodPlanes[0],e);this._renderer.compile(t,F_)}_sceneToCubeUV(e,t,i,r,s){const l=new In(90,1,t,i),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,m=h.toneMapping;h.getClearColor(mb),h.toneMapping=Js,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(r),h.clearDepth(),h.setRenderTarget(null));const _=new Rr({name:"PMREM.Background",side:$i,depthWrite:!1,depthTest:!1}),x=new Qn(new ou,_);let g=!1;const S=e.background;S?S.isColor&&(_.color.copy(S),e.background=null,g=!0):(_.color.copy(mb),g=!0);for(let A=0;A<6;A++){const w=A%3;w===0?(l.up.set(0,u[A],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[A],s.y,s.z)):w===1?(l.up.set(0,0,u[A]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[A],s.z)):(l.up.set(0,u[A],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[A]));const C=this._cubeSize;Km(r,w*C,A>2?C:0,C,C),h.setRenderTarget(r),g&&h.render(x,l),h.render(e,l)}x.geometry.dispose(),x.material.dispose(),h.toneMapping=m,h.autoClear=p,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Lo||e.mapping===ba;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=xb()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yb());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Qn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Km(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,F_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=gb[(r-s-1)%gb.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Qn(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Al-1),_=s/v,x=isFinite(s)?1+Math.floor(d*_):Al;x>Al&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Al}`);const g=[];let S=0;for(let b=0;b<Al;++b){const B=b/_,R=Math.exp(-B*B/2);g.push(R),b===0?S+=R:b<x&&(S+=2*R)}for(let b=0;b<g.length;b++)g[b]=g[b]/S;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=v,p.mipInt.value=A-i;const w=this._sizeLods[r],C=3*w*(r>A-uc?r-A+uc:0),P=4*(this._cubeSize-w);Km(t,C,P,3*w,2*w),l.setRenderTarget(t),l.render(h,F_)}}function TV(n){const e=[],t=[],i=[];let r=n;const s=n-uc+1+pb.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-uc?l=pb[o-n+uc-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),d=-u,h=1+u,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,v=6,_=3,x=2,g=1,S=new Float32Array(_*v*m),A=new Float32Array(x*v*m),w=new Float32Array(g*v*m);for(let P=0;P<m;P++){const b=P%3*2/3-1,B=P>2?0:-1,R=[b,B,0,b+2/3,B,0,b+2/3,B+1,0,b,B,0,b+2/3,B+1,0,b,B+1,0];S.set(R,_*v*P),A.set(p,x*v*P);const T=[P,P,P,P,P,P];w.set(T,g*v*P)}const C=new Ht;C.setAttribute("position",new un(S,_)),C.setAttribute("uv",new un(A,x)),C.setAttribute("faceIndex",new un(w,g)),e.push(C),r>uc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function vb(n,e,t){const i=new Zs(n,e,t);return i.texture.mapping=lf,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Km(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function CV(n,e,t){const i=new Float32Array(Al),r=new N(0,1,0);return new bs({name:"SphericalGaussianBlur",defines:{n:Al,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:fw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Eo,depthTest:!1,depthWrite:!1})}function yb(){return new bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Eo,depthTest:!1,depthWrite:!1})}function xb(){return new bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Eo,depthTest:!1,depthWrite:!1})}function fw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function bV(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===lh||l===uh,d=l===Lo||l===ba;if(u||d){let h=e.get(a);const p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new L1(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const m=a.image;return u&&m&&m.height>0||d&&m&&r(m)?(t===null&&(t=new L1(n)),h=u?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function r(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function RV(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Mc("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function PV(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const m in p)e.update(p[m],n.ARRAY_BUFFER)}function u(h){const p=[],m=h.index,v=h.attributes.position;let _=0;if(m!==null){const S=m.array;_=m.version;for(let A=0,w=S.length;A<w;A+=3){const C=S[A+0],P=S[A+1],b=S[A+2];p.push(C,P,P,b,b,C)}}else if(v!==void 0){const S=v.array;_=v.version;for(let A=0,w=S.length/3-1;A<w;A+=3){const C=A+0,P=A+1,b=A+2;p.push(C,P,P,b,b,C)}}else return;const x=new(dD(p)?DM:BM)(p,1);x.version=_;const g=s.get(h);g&&e.remove(g),s.set(h,x)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function IV(n,e,t){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){n.drawElements(i,m,s,p*o),t.update(m,i,1)}function u(p,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,p*o,v),t.update(m,i,v))}function d(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,s,p,0,v);let x=0;for(let g=0;g<v;g++)x+=m[g];t.update(x,i,1)}function h(p,m,v,_){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let g=0;g<p.length;g++)u(p[g]/o,m[g],_[g]);else{x.multiDrawElementsInstancedWEBGL(i,m,0,s,p,0,_,0,v);let g=0;for(let S=0;S<v;S++)g+=m[S]*_[S];t.update(g,i,1)}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function BV(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function DV(n,e,t){const i=new WeakMap,r=new an;function s(o,a,l){const u=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=d!==void 0?d.length:0;let p=i.get(a);if(p===void 0||p.count!==h){let T=function(){B.dispose(),i.delete(a),a.removeEventListener("dispose",T)};var m=T;p!==void 0&&p.texture.dispose();const v=a.morphAttributes.position!==void 0,_=a.morphAttributes.normal!==void 0,x=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],S=a.morphAttributes.normal||[],A=a.morphAttributes.color||[];let w=0;v===!0&&(w=1),_===!0&&(w=2),x===!0&&(w=3);let C=a.attributes.position.count*w,P=1;C>e.maxTextureSize&&(P=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const b=new Float32Array(C*P*4*h),B=new Uv(b,C,P,h);B.type=pr,B.needsUpdate=!0;const R=w*4;for(let D=0;D<h;D++){const z=g[D],V=S[D],J=A[D],ne=C*P*4*D;for(let ie=0;ie<z.count;ie++){const re=ie*R;v===!0&&(r.fromBufferAttribute(z,ie),b[ne+re+0]=r.x,b[ne+re+1]=r.y,b[ne+re+2]=r.z,b[ne+re+3]=0),_===!0&&(r.fromBufferAttribute(V,ie),b[ne+re+4]=r.x,b[ne+re+5]=r.y,b[ne+re+6]=r.z,b[ne+re+7]=0),x===!0&&(r.fromBufferAttribute(J,ie),b[ne+re+8]=r.x,b[ne+re+9]=r.y,b[ne+re+10]=r.z,b[ne+re+11]=J.itemSize===4?r.w:1)}}p={count:h,texture:B,size:new xe(C,P)},i.set(a,p),a.addEventListener("dispose",T)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let x=0;x<u.length;x++)v+=u[x];const _=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",_),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function LV(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,d=l.geometry,h=e.get(l,d);if(r.get(h)!==u&&(e.update(h),r.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==u&&(p.update(),r.set(p,u))}return h}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const cL=new Bn,_b=new GM(1,1),fL=new Uv,dL=new kv,hL=new Lh,Sb=[],Ab=[],Mb=new Float32Array(16),wb=new Float32Array(9),Eb=new Float32Array(4);function hf(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Sb[r];if(s===void 0&&(s=new Float32Array(r),Sb[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function li(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ui(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function oy(n,e){let t=Ab[e];t===void 0&&(t=new Int32Array(e),Ab[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function OV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function FV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2fv(this.addr,e),ui(t,e)}}function NV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(li(t,e))return;n.uniform3fv(this.addr,e),ui(t,e)}}function UV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4fv(this.addr,e),ui(t,e)}}function kV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(li(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ui(t,e)}else{if(li(t,i))return;Eb.set(i),n.uniformMatrix2fv(this.addr,!1,Eb),ui(t,i)}}function zV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(li(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ui(t,e)}else{if(li(t,i))return;wb.set(i),n.uniformMatrix3fv(this.addr,!1,wb),ui(t,i)}}function HV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(li(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ui(t,e)}else{if(li(t,i))return;Mb.set(i),n.uniformMatrix4fv(this.addr,!1,Mb),ui(t,i)}}function GV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function VV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2iv(this.addr,e),ui(t,e)}}function WV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(li(t,e))return;n.uniform3iv(this.addr,e),ui(t,e)}}function jV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4iv(this.addr,e),ui(t,e)}}function XV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function JV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2uiv(this.addr,e),ui(t,e)}}function KV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(li(t,e))return;n.uniform3uiv(this.addr,e),ui(t,e)}}function YV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4uiv(this.addr,e),ui(t,e)}}function QV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(_b.compareFunction=RM,s=_b):s=cL,t.setTexture2D(e||s,r)}function qV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||dL,r)}function ZV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||hL,r)}function $V(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||fL,r)}function e7(n){switch(n){case 5126:return OV;case 35664:return FV;case 35665:return NV;case 35666:return UV;case 35674:return kV;case 35675:return zV;case 35676:return HV;case 5124:case 35670:return GV;case 35667:case 35671:return VV;case 35668:case 35672:return WV;case 35669:case 35673:return jV;case 5125:return XV;case 36294:return JV;case 36295:return KV;case 36296:return YV;case 35678:case 36198:case 36298:case 36306:case 35682:return QV;case 35679:case 36299:case 36307:return qV;case 35680:case 36300:case 36308:case 36293:return ZV;case 36289:case 36303:case 36311:case 36292:return $V}}function t7(n,e){n.uniform1fv(this.addr,e)}function n7(n,e){const t=hf(e,this.size,2);n.uniform2fv(this.addr,t)}function i7(n,e){const t=hf(e,this.size,3);n.uniform3fv(this.addr,t)}function r7(n,e){const t=hf(e,this.size,4);n.uniform4fv(this.addr,t)}function s7(n,e){const t=hf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function o7(n,e){const t=hf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function a7(n,e){const t=hf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function l7(n,e){n.uniform1iv(this.addr,e)}function u7(n,e){n.uniform2iv(this.addr,e)}function c7(n,e){n.uniform3iv(this.addr,e)}function f7(n,e){n.uniform4iv(this.addr,e)}function d7(n,e){n.uniform1uiv(this.addr,e)}function h7(n,e){n.uniform2uiv(this.addr,e)}function p7(n,e){n.uniform3uiv(this.addr,e)}function m7(n,e){n.uniform4uiv(this.addr,e)}function g7(n,e,t){const i=this.cache,r=e.length,s=oy(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||cL,s[o])}function v7(n,e,t){const i=this.cache,r=e.length,s=oy(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||dL,s[o])}function y7(n,e,t){const i=this.cache,r=e.length,s=oy(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||hL,s[o])}function x7(n,e,t){const i=this.cache,r=e.length,s=oy(t,r);li(i,s)||(n.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||fL,s[o])}function _7(n){switch(n){case 5126:return t7;case 35664:return n7;case 35665:return i7;case 35666:return r7;case 35674:return s7;case 35675:return o7;case 35676:return a7;case 5124:case 35670:return l7;case 35667:case 35671:return u7;case 35668:case 35672:return c7;case 35669:case 35673:return f7;case 5125:return d7;case 36294:return h7;case 36295:return p7;case 36296:return m7;case 35678:case 36198:case 36298:case 36306:case 35682:return g7;case 35679:case 36299:case 36307:return v7;case 35680:case 36300:case 36308:case 36293:return y7;case 36289:case 36303:case 36311:case 36292:return x7}}class S7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=e7(t.type)}}class A7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=_7(t.type)}}class M7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const H_=/(\w+)(\])?(\[|\.)?/g;function Tb(n,e){n.seq.push(e),n.map[e.id]=e}function w7(n,e,t){const i=n.name,r=i.length;for(H_.lastIndex=0;;){const s=H_.exec(i),o=H_.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){Tb(t,u===void 0?new S7(a,n,e):new A7(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new M7(a),Tb(t,h)),t=h}}}class Ag{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);w7(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function Cb(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const E7=37297;let T7=0;function C7(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}const bb=new Wt;function b7(n){on._getMatrix(bb,on.workingColorSpace,n);const e=`mat3( ${bb.elements.map(t=>t.toFixed(4))} )`;switch(on.getTransfer(n)){case fh:return[e,"LinearTransferOETF"];case mn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Rb(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),s=(n.getShaderInfoLog(e)||"").trim();if(i&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+s+`

`+C7(n.getShaderSource(e),a)}else return s}function R7(n,e){const t=b7(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function P7(n,e){let t;switch(e){case WB:t="Linear";break;case jB:t="Reinhard";break;case XB:t="Cineon";break;case xM:t="ACESFilmic";break;case KB:t="AgX";break;case YB:t="Neutral";break;case JB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Ym=new N;function I7(){on.getLuminanceCoefficients(Ym);const n=Ym.x.toFixed(4),e=Ym.y.toFixed(4),t=Ym.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function B7(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(gd).join(`
`)}function D7(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function L7(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function gd(n){return n!==""}function Pb(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ib(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const O7=/^[ \t]*#include +<([\w\d./]+)>/gm;function O1(n){return n.replace(O7,N7)}const F7=new Map;function N7(n,e){let t=Xt[e];if(t===void 0){const i=F7.get(e);if(i!==void 0)t=Xt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return O1(t)}const U7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Bb(n){return n.replace(U7,k7)}function k7(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Db(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function z7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===bv?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Rd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ys&&(e="SHADOWMAP_TYPE_VSM"),e}function H7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Lo:case ba:e="ENVMAP_TYPE_CUBE";break;case lf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function G7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ba:e="ENVMAP_MODE_REFRACTION";break}return e}function V7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Ih:e="ENVMAP_BLENDING_MULTIPLY";break;case GB:e="ENVMAP_BLENDING_MIX";break;case VB:e="ENVMAP_BLENDING_ADD";break}return e}function W7(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function j7(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=z7(t),u=H7(t),d=G7(t),h=V7(t),p=W7(t),m=B7(t),v=D7(s),_=r.createProgram();let x,g,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(gd).join(`
`),x.length>0&&(x+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(gd).join(`
`),g.length>0&&(g+=`
`)):(x=[Db(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(gd).join(`
`),g=[Db(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Js?"#define TONE_MAPPING":"",t.toneMapping!==Js?Xt.tonemapping_pars_fragment:"",t.toneMapping!==Js?P7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Xt.colorspace_pars_fragment,R7("linearToOutputTexel",t.outputColorSpace),I7(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(gd).join(`
`)),o=O1(o),o=Pb(o,t),o=Ib(o,t),a=O1(a),a=Pb(a,t),a=Ib(a,t),o=Bb(o),a=Bb(a),t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===T1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===T1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const A=S+x+o,w=S+g+a,C=Cb(r,r.VERTEX_SHADER,A),P=Cb(r,r.FRAGMENT_SHADER,w);r.attachShader(_,C),r.attachShader(_,P),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_);function b(D){if(n.debug.checkShaderErrors){const z=r.getProgramInfoLog(_)||"",V=r.getShaderInfoLog(C)||"",J=r.getShaderInfoLog(P)||"",ne=z.trim(),ie=V.trim(),re=J.trim();let F=!0,K=!0;if(r.getProgramParameter(_,r.LINK_STATUS)===!1)if(F=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,_,C,P);else{const Y=Rb(r,C,"vertex"),ae=Rb(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+ne+`
`+Y+`
`+ae)}else ne!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ne):(ie===""||re==="")&&(K=!1);K&&(D.diagnostics={runnable:F,programLog:ne,vertexShader:{log:ie,prefix:x},fragmentShader:{log:re,prefix:g}})}r.deleteShader(C),r.deleteShader(P),B=new Ag(r,_),R=L7(r,_)}let B;this.getUniforms=function(){return B===void 0&&b(this),B};let R;this.getAttributes=function(){return R===void 0&&b(this),R};let T=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return T===!1&&(T=r.getProgramParameter(_,E7)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=T7++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=C,this.fragmentShader=P,this}let X7=0;class J7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new K7(e),t.set(e,i)),i}}class K7{constructor(e){this.id=X7++,this.code=e,this.usedTimes=0}}function Y7(n,e,t,i,r,s,o){const a=new Ul,l=new J7,u=new Set,d=[],h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(R){return u.add(R),R===0?"uv":`uv${R}`}function x(R,T,D,z,V){const J=z.fog,ne=V.geometry,ie=R.isMeshStandardMaterial?z.environment:null,re=(R.isMeshStandardMaterial?t:e).get(R.envMap||ie),F=re&&re.mapping===lf?re.image.height:null,K=v[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const Y=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,ae=Y!==void 0?Y.length:0;let _e=0;ne.morphAttributes.position!==void 0&&(_e=1),ne.morphAttributes.normal!==void 0&&(_e=2),ne.morphAttributes.color!==void 0&&(_e=3);let De,it,se,Te;if(K){const zt=As[K];De=zt.vertexShader,it=zt.fragmentShader}else De=R.vertexShader,it=R.fragmentShader,l.update(R),se=l.getVertexShaderID(R),Te=l.getFragmentShaderID(R);const Ce=n.getRenderTarget(),ct=n.state.buffers.depth.getReversed(),st=V.isInstancedMesh===!0,rt=V.isBatchedMesh===!0,ht=!!R.map,Qe=!!R.matcap,H=!!re,Ae=!!R.aoMap,ve=!!R.lightMap,Ee=!!R.bumpMap,ye=!!R.normalMap,ke=!!R.displacementMap,be=!!R.emissiveMap,Ne=!!R.metalnessMap,It=!!R.roughnessMap,Tt=R.anisotropy>0,U=R.clearcoat>0,L=R.dispersion>0,te=R.iridescence>0,de=R.sheen>0,Me=R.transmission>0,he=Tt&&!!R.anisotropyMap,$e=U&&!!R.clearcoatMap,Ue=U&&!!R.clearcoatNormalMap,ot=U&&!!R.clearcoatRoughnessMap,ft=te&&!!R.iridescenceMap,Pe=te&&!!R.iridescenceThicknessMap,je=de&&!!R.sheenColorMap,wt=de&&!!R.sheenRoughnessMap,W=!!R.specularMap,oe=!!R.specularColorMap,Oe=!!R.specularIntensityMap,j=Me&&!!R.transmissionMap,we=Me&&!!R.thicknessMap,Le=!!R.gradientMap,Xe=!!R.alphaMap,Be=R.alphaTest>0,Se=!!R.alphaHash,qe=!!R.extensions;let St=Js;R.toneMapped&&(Ce===null||Ce.isXRRenderTarget===!0)&&(St=n.toneMapping);const Jt={shaderID:K,shaderType:R.type,shaderName:R.name,vertexShader:De,fragmentShader:it,defines:R.defines,customVertexShaderID:se,customFragmentShaderID:Te,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:rt,batchingColor:rt&&V._colorsTexture!==null,instancing:st,instancingColor:st&&V.instanceColor!==null,instancingMorph:st&&V.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Ce===null?n.outputColorSpace:Ce.isXRRenderTarget===!0?Ce.texture.colorSpace:Kl,alphaToCoverage:!!R.alphaToCoverage,map:ht,matcap:Qe,envMap:H,envMapMode:H&&re.mapping,envMapCubeUVHeight:F,aoMap:Ae,lightMap:ve,bumpMap:Ee,normalMap:ye,displacementMap:p&&ke,emissiveMap:be,normalMapObjectSpace:ye&&R.normalMapType===iD,normalMapTangentSpace:ye&&R.normalMapType===Na,metalnessMap:Ne,roughnessMap:It,anisotropy:Tt,anisotropyMap:he,clearcoat:U,clearcoatMap:$e,clearcoatNormalMap:Ue,clearcoatRoughnessMap:ot,dispersion:L,iridescence:te,iridescenceMap:ft,iridescenceThicknessMap:Pe,sheen:de,sheenColorMap:je,sheenRoughnessMap:wt,specularMap:W,specularColorMap:oe,specularIntensityMap:Oe,transmission:Me,transmissionMap:j,thicknessMap:we,gradientMap:Le,opaque:R.transparent===!1&&R.blending===Fl&&R.alphaToCoverage===!1,alphaMap:Xe,alphaTest:Be,alphaHash:Se,combine:R.combine,mapUv:ht&&_(R.map.channel),aoMapUv:Ae&&_(R.aoMap.channel),lightMapUv:ve&&_(R.lightMap.channel),bumpMapUv:Ee&&_(R.bumpMap.channel),normalMapUv:ye&&_(R.normalMap.channel),displacementMapUv:ke&&_(R.displacementMap.channel),emissiveMapUv:be&&_(R.emissiveMap.channel),metalnessMapUv:Ne&&_(R.metalnessMap.channel),roughnessMapUv:It&&_(R.roughnessMap.channel),anisotropyMapUv:he&&_(R.anisotropyMap.channel),clearcoatMapUv:$e&&_(R.clearcoatMap.channel),clearcoatNormalMapUv:Ue&&_(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ot&&_(R.clearcoatRoughnessMap.channel),iridescenceMapUv:ft&&_(R.iridescenceMap.channel),iridescenceThicknessMapUv:Pe&&_(R.iridescenceThicknessMap.channel),sheenColorMapUv:je&&_(R.sheenColorMap.channel),sheenRoughnessMapUv:wt&&_(R.sheenRoughnessMap.channel),specularMapUv:W&&_(R.specularMap.channel),specularColorMapUv:oe&&_(R.specularColorMap.channel),specularIntensityMapUv:Oe&&_(R.specularIntensityMap.channel),transmissionMapUv:j&&_(R.transmissionMap.channel),thicknessMapUv:we&&_(R.thicknessMap.channel),alphaMapUv:Xe&&_(R.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(ye||Tt),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!ne.attributes.uv&&(ht||Xe),fog:!!J,useFog:R.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:R.flatShading===!0&&R.wireframe===!1,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:ct,skinning:V.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:_e,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:St,decodeVideoTexture:ht&&R.map.isVideoTexture===!0&&on.getTransfer(R.map.colorSpace)===mn,decodeVideoTextureEmissive:be&&R.emissiveMap.isVideoTexture===!0&&on.getTransfer(R.emissiveMap.colorSpace)===mn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===ts,flipSided:R.side===$i,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:qe&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(qe&&R.extensions.multiDraw===!0||rt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return Jt.vertexUv1s=u.has(1),Jt.vertexUv2s=u.has(2),Jt.vertexUv3s=u.has(3),u.clear(),Jt}function g(R){const T=[];if(R.shaderID?T.push(R.shaderID):(T.push(R.customVertexShaderID),T.push(R.customFragmentShaderID)),R.defines!==void 0)for(const D in R.defines)T.push(D),T.push(R.defines[D]);return R.isRawShaderMaterial===!1&&(S(T,R),A(T,R),T.push(n.outputColorSpace)),T.push(R.customProgramCacheKey),T.join()}function S(R,T){R.push(T.precision),R.push(T.outputColorSpace),R.push(T.envMapMode),R.push(T.envMapCubeUVHeight),R.push(T.mapUv),R.push(T.alphaMapUv),R.push(T.lightMapUv),R.push(T.aoMapUv),R.push(T.bumpMapUv),R.push(T.normalMapUv),R.push(T.displacementMapUv),R.push(T.emissiveMapUv),R.push(T.metalnessMapUv),R.push(T.roughnessMapUv),R.push(T.anisotropyMapUv),R.push(T.clearcoatMapUv),R.push(T.clearcoatNormalMapUv),R.push(T.clearcoatRoughnessMapUv),R.push(T.iridescenceMapUv),R.push(T.iridescenceThicknessMapUv),R.push(T.sheenColorMapUv),R.push(T.sheenRoughnessMapUv),R.push(T.specularMapUv),R.push(T.specularColorMapUv),R.push(T.specularIntensityMapUv),R.push(T.transmissionMapUv),R.push(T.thicknessMapUv),R.push(T.combine),R.push(T.fogExp2),R.push(T.sizeAttenuation),R.push(T.morphTargetsCount),R.push(T.morphAttributeCount),R.push(T.numDirLights),R.push(T.numPointLights),R.push(T.numSpotLights),R.push(T.numSpotLightMaps),R.push(T.numHemiLights),R.push(T.numRectAreaLights),R.push(T.numDirLightShadows),R.push(T.numPointLightShadows),R.push(T.numSpotLightShadows),R.push(T.numSpotLightShadowsWithMaps),R.push(T.numLightProbes),R.push(T.shadowMapType),R.push(T.toneMapping),R.push(T.numClippingPlanes),R.push(T.numClipIntersection),R.push(T.depthPacking)}function A(R,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),T.gradientMap&&a.enable(22),R.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.reversedDepthBuffer&&a.enable(4),T.skinning&&a.enable(5),T.morphTargets&&a.enable(6),T.morphNormals&&a.enable(7),T.morphColors&&a.enable(8),T.premultipliedAlpha&&a.enable(9),T.shadowMapEnabled&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.transmission&&a.enable(15),T.sheen&&a.enable(16),T.opaque&&a.enable(17),T.pointsUvs&&a.enable(18),T.decodeVideoTexture&&a.enable(19),T.decodeVideoTextureEmissive&&a.enable(20),T.alphaToCoverage&&a.enable(21),R.push(a.mask)}function w(R){const T=v[R.type];let D;if(T){const z=As[T];D=vD.clone(z.uniforms)}else D=R.uniforms;return D}function C(R,T){let D;for(let z=0,V=d.length;z<V;z++){const J=d[z];if(J.cacheKey===T){D=J,++D.usedTimes;break}}return D===void 0&&(D=new j7(n,T,R,s),d.push(D)),D}function P(R){if(--R.usedTimes===0){const T=d.indexOf(R);d[T]=d[d.length-1],d.pop(),R.destroy()}}function b(R){l.remove(R)}function B(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:w,acquireProgram:C,releaseProgram:P,releaseShaderCache:b,programs:d,dispose:B}}function Q7(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function i(o){n.delete(o)}function r(o,a,l){n.get(o)[a]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function q7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Lb(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Ob(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,v,_,x){let g=n[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:_,group:x},n[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=h.renderOrder,g.z=_,g.group=x),e++,g}function a(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function u(h,p){t.length>1&&t.sort(h||q7),i.length>1&&i.sort(p||Lb),r.length>1&&r.sort(p||Lb)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:u}}function Z7(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new Ob,n.set(i,[o])):r>=s.length?(o=new Ob,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function $7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new Ye};break;case"SpotLight":t={position:new N,direction:new N,color:new Ye,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new Ye,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new Ye,groundColor:new Ye};break;case"RectAreaLight":t={color:new Ye,position:new N,halfWidth:new N,halfHeight:new N};break}return n[e.id]=t,t}}}function eW(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let tW=0;function nW(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function iW(n){const e=new $7,t=eW(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new N);const r=new N,s=new Pt,o=new Pt;function a(u){let d=0,h=0,p=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let m=0,v=0,_=0,x=0,g=0,S=0,A=0,w=0,C=0,P=0,b=0;u.sort(nW);for(let R=0,T=u.length;R<T;R++){const D=u[R],z=D.color,V=D.intensity,J=D.distance,ne=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)d+=z.r*V,h+=z.g*V,p+=z.b*V;else if(D.isLightProbe){for(let ie=0;ie<9;ie++)i.probe[ie].addScaledVector(D.sh.coefficients[ie],V);b++}else if(D.isDirectionalLight){const ie=e.get(D);if(ie.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const re=D.shadow,F=t.get(D);F.shadowIntensity=re.intensity,F.shadowBias=re.bias,F.shadowNormalBias=re.normalBias,F.shadowRadius=re.radius,F.shadowMapSize=re.mapSize,i.directionalShadow[m]=F,i.directionalShadowMap[m]=ne,i.directionalShadowMatrix[m]=D.shadow.matrix,S++}i.directional[m]=ie,m++}else if(D.isSpotLight){const ie=e.get(D);ie.position.setFromMatrixPosition(D.matrixWorld),ie.color.copy(z).multiplyScalar(V),ie.distance=J,ie.coneCos=Math.cos(D.angle),ie.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),ie.decay=D.decay,i.spot[_]=ie;const re=D.shadow;if(D.map&&(i.spotLightMap[C]=D.map,C++,re.updateMatrices(D),D.castShadow&&P++),i.spotLightMatrix[_]=re.matrix,D.castShadow){const F=t.get(D);F.shadowIntensity=re.intensity,F.shadowBias=re.bias,F.shadowNormalBias=re.normalBias,F.shadowRadius=re.radius,F.shadowMapSize=re.mapSize,i.spotShadow[_]=F,i.spotShadowMap[_]=ne,w++}_++}else if(D.isRectAreaLight){const ie=e.get(D);ie.color.copy(z).multiplyScalar(V),ie.halfWidth.set(D.width*.5,0,0),ie.halfHeight.set(0,D.height*.5,0),i.rectArea[x]=ie,x++}else if(D.isPointLight){const ie=e.get(D);if(ie.color.copy(D.color).multiplyScalar(D.intensity),ie.distance=D.distance,ie.decay=D.decay,D.castShadow){const re=D.shadow,F=t.get(D);F.shadowIntensity=re.intensity,F.shadowBias=re.bias,F.shadowNormalBias=re.normalBias,F.shadowRadius=re.radius,F.shadowMapSize=re.mapSize,F.shadowCameraNear=re.camera.near,F.shadowCameraFar=re.camera.far,i.pointShadow[v]=F,i.pointShadowMap[v]=ne,i.pointShadowMatrix[v]=D.shadow.matrix,A++}i.point[v]=ie,v++}else if(D.isHemisphereLight){const ie=e.get(D);ie.skyColor.copy(D.color).multiplyScalar(V),ie.groundColor.copy(D.groundColor).multiplyScalar(V),i.hemi[g]=ie,g++}}x>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_FLOAT_1,i.rectAreaLTC2=Je.LTC_FLOAT_2):(i.rectAreaLTC1=Je.LTC_HALF_1,i.rectAreaLTC2=Je.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=p;const B=i.hash;(B.directionalLength!==m||B.pointLength!==v||B.spotLength!==_||B.rectAreaLength!==x||B.hemiLength!==g||B.numDirectionalShadows!==S||B.numPointShadows!==A||B.numSpotShadows!==w||B.numSpotMaps!==C||B.numLightProbes!==b)&&(i.directional.length=m,i.spot.length=_,i.rectArea.length=x,i.point.length=v,i.hemi.length=g,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=w+C-P,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=b,B.directionalLength=m,B.pointLength=v,B.spotLength=_,B.rectAreaLength=x,B.hemiLength=g,B.numDirectionalShadows=S,B.numPointShadows=A,B.numSpotShadows=w,B.numSpotMaps=C,B.numLightProbes=b,i.version=tW++)}function l(u,d){let h=0,p=0,m=0,v=0,_=0;const x=d.matrixWorldInverse;for(let g=0,S=u.length;g<S;g++){const A=u[g];if(A.isDirectionalLight){const w=i.directional[h];w.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(x),h++}else if(A.isSpotLight){const w=i.spot[m];w.position.setFromMatrixPosition(A.matrixWorld),w.position.applyMatrix4(x),w.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(x),m++}else if(A.isRectAreaLight){const w=i.rectArea[v];w.position.setFromMatrixPosition(A.matrixWorld),w.position.applyMatrix4(x),o.identity(),s.copy(A.matrixWorld),s.premultiply(x),o.extractRotation(s),w.halfWidth.set(A.width*.5,0,0),w.halfHeight.set(0,A.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),v++}else if(A.isPointLight){const w=i.point[p];w.position.setFromMatrixPosition(A.matrixWorld),w.position.applyMatrix4(x),p++}else if(A.isHemisphereLight){const w=i.hemi[_];w.direction.setFromMatrixPosition(A.matrixWorld),w.direction.transformDirection(x),_++}}}return{setup:a,setupView:l,state:i}}function Fb(n){const e=new iW(n),t=[],i=[];function r(d){u.camera=d,t.length=0,i.length=0}function s(d){t.push(d)}function o(d){i.push(d)}function a(){e.setup(t)}function l(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function rW(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new Fb(n),e.set(r,[a])):s>=o.length?(a=new Fb(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}const sW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function aW(n,e,t){let i=new cf;const r=new xe,s=new xe,o=new an,a=new YM({depthPacking:nD}),l=new QM,u={},d=t.maxTextureSize,h={[qs]:$i,[$i]:qs,[ts]:ts},p=new bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xe},radius:{value:4}},vertexShader:sW,fragmentShader:oW}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Ht;v.setAttribute("position",new un(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Qn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bv;let g=this.type;this.render=function(P,b,B){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||P.length===0)return;const R=n.getRenderTarget(),T=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),z=n.state;z.setBlending(Eo),z.buffers.depth.getReversed()?z.buffers.color.setClear(0,0,0,0):z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const V=g!==ys&&this.type===ys,J=g===ys&&this.type!==ys;for(let ne=0,ie=P.length;ne<ie;ne++){const re=P[ne],F=re.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;r.copy(F.mapSize);const K=F.getFrameExtents();if(r.multiply(K),s.copy(F.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/K.x),r.x=s.x*K.x,F.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/K.y),r.y=s.y*K.y,F.mapSize.y=s.y)),F.map===null||V===!0||J===!0){const ae=this.type!==ys?{minFilter:vi,magFilter:vi}:{};F.map!==null&&F.map.dispose(),F.map=new Zs(r.x,r.y,ae),F.map.texture.name=re.name+".shadowMap",F.camera.updateProjectionMatrix()}n.setRenderTarget(F.map),n.clear();const Y=F.getViewportCount();for(let ae=0;ae<Y;ae++){const _e=F.getViewport(ae);o.set(s.x*_e.x,s.y*_e.y,s.x*_e.z,s.y*_e.w),z.viewport(o),F.updateMatrices(re,ae),i=F.getFrustum(),w(b,B,F.camera,re,this.type)}F.isPointLightShadow!==!0&&this.type===ys&&S(F,B),F.needsUpdate=!1}g=this.type,x.needsUpdate=!1,n.setRenderTarget(R,T,D)};function S(P,b){const B=e.update(_);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,m.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Zs(r.x,r.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(b,null,B,p,_,null),m.uniforms.shadow_pass.value=P.mapPass.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(b,null,B,m,_,null)}function A(P,b,B,R){let T=null;const D=B.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(D!==void 0)T=D;else if(T=B.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0||b.alphaToCoverage===!0){const z=T.uuid,V=b.uuid;let J=u[z];J===void 0&&(J={},u[z]=J);let ne=J[V];ne===void 0&&(ne=T.clone(),J[V]=ne,b.addEventListener("dispose",C)),T=ne}if(T.visible=b.visible,T.wireframe=b.wireframe,R===ys?T.side=b.shadowSide!==null?b.shadowSide:b.side:T.side=b.shadowSide!==null?b.shadowSide:h[b.side],T.alphaMap=b.alphaMap,T.alphaTest=b.alphaToCoverage===!0?.5:b.alphaTest,T.map=b.map,T.clipShadows=b.clipShadows,T.clippingPlanes=b.clippingPlanes,T.clipIntersection=b.clipIntersection,T.displacementMap=b.displacementMap,T.displacementScale=b.displacementScale,T.displacementBias=b.displacementBias,T.wireframeLinewidth=b.wireframeLinewidth,T.linewidth=b.linewidth,B.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const z=n.properties.get(T);z.light=B}return T}function w(P,b,B,R,T){if(P.visible===!1)return;if(P.layers.test(b.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&T===ys)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,P.matrixWorld);const V=e.update(P),J=P.material;if(Array.isArray(J)){const ne=V.groups;for(let ie=0,re=ne.length;ie<re;ie++){const F=ne[ie],K=J[F.materialIndex];if(K&&K.visible){const Y=A(P,K,R,T);P.onBeforeShadow(n,P,b,B,V,Y,F),n.renderBufferDirect(B,null,V,Y,P,F),P.onAfterShadow(n,P,b,B,V,Y,F)}}}else if(J.visible){const ne=A(P,J,R,T);P.onBeforeShadow(n,P,b,B,V,ne,null),n.renderBufferDirect(B,null,V,ne,P,null),P.onAfterShadow(n,P,b,B,V,ne,null)}}const z=P.children;for(let V=0,J=z.length;V<J;V++)w(z[V],b,B,R,T)}function C(P){P.target.removeEventListener("dispose",C);for(const B in u){const R=u[B],T=P.target.uuid;T in R&&(R[T].dispose(),delete R[T])}}}const lW={[r0]:s0,[o0]:u0,[a0]:c0,[Jl]:l0,[s0]:r0,[u0]:o0,[c0]:a0,[l0]:Jl};function uW(n,e){function t(){let j=!1;const we=new an;let Le=null;const Xe=new an(0,0,0,0);return{setMask:function(Be){Le!==Be&&!j&&(n.colorMask(Be,Be,Be,Be),Le=Be)},setLocked:function(Be){j=Be},setClear:function(Be,Se,qe,St,Jt){Jt===!0&&(Be*=St,Se*=St,qe*=St),we.set(Be,Se,qe,St),Xe.equals(we)===!1&&(n.clearColor(Be,Se,qe,St),Xe.copy(we))},reset:function(){j=!1,Le=null,Xe.set(-1,0,0,0)}}}function i(){let j=!1,we=!1,Le=null,Xe=null,Be=null;return{setReversed:function(Se){if(we!==Se){const qe=e.get("EXT_clip_control");Se?qe.clipControlEXT(qe.LOWER_LEFT_EXT,qe.ZERO_TO_ONE_EXT):qe.clipControlEXT(qe.LOWER_LEFT_EXT,qe.NEGATIVE_ONE_TO_ONE_EXT),we=Se;const St=Be;Be=null,this.setClear(St)}},getReversed:function(){return we},setTest:function(Se){Se?Ce(n.DEPTH_TEST):ct(n.DEPTH_TEST)},setMask:function(Se){Le!==Se&&!j&&(n.depthMask(Se),Le=Se)},setFunc:function(Se){if(we&&(Se=lW[Se]),Xe!==Se){switch(Se){case r0:n.depthFunc(n.NEVER);break;case s0:n.depthFunc(n.ALWAYS);break;case o0:n.depthFunc(n.LESS);break;case Jl:n.depthFunc(n.LEQUAL);break;case a0:n.depthFunc(n.EQUAL);break;case l0:n.depthFunc(n.GEQUAL);break;case u0:n.depthFunc(n.GREATER);break;case c0:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Xe=Se}},setLocked:function(Se){j=Se},setClear:function(Se){Be!==Se&&(we&&(Se=1-Se),n.clearDepth(Se),Be=Se)},reset:function(){j=!1,Le=null,Xe=null,Be=null,we=!1}}}function r(){let j=!1,we=null,Le=null,Xe=null,Be=null,Se=null,qe=null,St=null,Jt=null;return{setTest:function(zt){j||(zt?Ce(n.STENCIL_TEST):ct(n.STENCIL_TEST))},setMask:function(zt){we!==zt&&!j&&(n.stencilMask(zt),we=zt)},setFunc:function(zt,qn,ii){(Le!==zt||Xe!==qn||Be!==ii)&&(n.stencilFunc(zt,qn,ii),Le=zt,Xe=qn,Be=ii)},setOp:function(zt,qn,ii){(Se!==zt||qe!==qn||St!==ii)&&(n.stencilOp(zt,qn,ii),Se=zt,qe=qn,St=ii)},setLocked:function(zt){j=zt},setClear:function(zt){Jt!==zt&&(n.clearStencil(zt),Jt=zt)},reset:function(){j=!1,we=null,Le=null,Xe=null,Be=null,Se=null,qe=null,St=null,Jt=null}}}const s=new t,o=new i,a=new r,l=new WeakMap,u=new WeakMap;let d={},h={},p=new WeakMap,m=[],v=null,_=!1,x=null,g=null,S=null,A=null,w=null,C=null,P=null,b=new Ye(0,0,0),B=0,R=!1,T=null,D=null,z=null,V=null,J=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ie=!1,re=0;const F=n.getParameter(n.VERSION);F.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(F)[1]),ie=re>=1):F.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),ie=re>=2);let K=null,Y={};const ae=n.getParameter(n.SCISSOR_BOX),_e=n.getParameter(n.VIEWPORT),De=new an().fromArray(ae),it=new an().fromArray(_e);function se(j,we,Le,Xe){const Be=new Uint8Array(4),Se=n.createTexture();n.bindTexture(j,Se),n.texParameteri(j,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(j,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let qe=0;qe<Le;qe++)j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY?n.texImage3D(we,0,n.RGBA,1,1,Xe,0,n.RGBA,n.UNSIGNED_BYTE,Be):n.texImage2D(we+qe,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Be);return Se}const Te={};Te[n.TEXTURE_2D]=se(n.TEXTURE_2D,n.TEXTURE_2D,1),Te[n.TEXTURE_CUBE_MAP]=se(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Te[n.TEXTURE_2D_ARRAY]=se(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Te[n.TEXTURE_3D]=se(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Ce(n.DEPTH_TEST),o.setFunc(Jl),Ee(!1),ye(_1),Ce(n.CULL_FACE),Ae(Eo);function Ce(j){d[j]!==!0&&(n.enable(j),d[j]=!0)}function ct(j){d[j]!==!1&&(n.disable(j),d[j]=!1)}function st(j,we){return h[j]!==we?(n.bindFramebuffer(j,we),h[j]=we,j===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=we),j===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=we),!0):!1}function rt(j,we){let Le=m,Xe=!1;if(j){Le=p.get(we),Le===void 0&&(Le=[],p.set(we,Le));const Be=j.textures;if(Le.length!==Be.length||Le[0]!==n.COLOR_ATTACHMENT0){for(let Se=0,qe=Be.length;Se<qe;Se++)Le[Se]=n.COLOR_ATTACHMENT0+Se;Le.length=Be.length,Xe=!0}}else Le[0]!==n.BACK&&(Le[0]=n.BACK,Xe=!0);Xe&&n.drawBuffers(Le)}function ht(j){return v!==j?(n.useProgram(j),v=j,!0):!1}const Qe={[da]:n.FUNC_ADD,[EB]:n.FUNC_SUBTRACT,[TB]:n.FUNC_REVERSE_SUBTRACT};Qe[CB]=n.MIN,Qe[bB]=n.MAX;const H={[RB]:n.ZERO,[PB]:n.ONE,[IB]:n.SRC_COLOR,[n0]:n.SRC_ALPHA,[NB]:n.SRC_ALPHA_SATURATE,[OB]:n.DST_COLOR,[DB]:n.DST_ALPHA,[BB]:n.ONE_MINUS_SRC_COLOR,[i0]:n.ONE_MINUS_SRC_ALPHA,[FB]:n.ONE_MINUS_DST_COLOR,[LB]:n.ONE_MINUS_DST_ALPHA,[UB]:n.CONSTANT_COLOR,[kB]:n.ONE_MINUS_CONSTANT_COLOR,[zB]:n.CONSTANT_ALPHA,[HB]:n.ONE_MINUS_CONSTANT_ALPHA};function Ae(j,we,Le,Xe,Be,Se,qe,St,Jt,zt){if(j===Eo){_===!0&&(ct(n.BLEND),_=!1);return}if(_===!1&&(Ce(n.BLEND),_=!0),j!==wB){if(j!==x||zt!==R){if((g!==da||w!==da)&&(n.blendEquation(n.FUNC_ADD),g=da,w=da),zt)switch(j){case Fl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case S1:n.blendFunc(n.ONE,n.ONE);break;case A1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case M1:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case Fl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case S1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case A1:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case M1:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}S=null,A=null,C=null,P=null,b.set(0,0,0),B=0,x=j,R=zt}return}Be=Be||we,Se=Se||Le,qe=qe||Xe,(we!==g||Be!==w)&&(n.blendEquationSeparate(Qe[we],Qe[Be]),g=we,w=Be),(Le!==S||Xe!==A||Se!==C||qe!==P)&&(n.blendFuncSeparate(H[Le],H[Xe],H[Se],H[qe]),S=Le,A=Xe,C=Se,P=qe),(St.equals(b)===!1||Jt!==B)&&(n.blendColor(St.r,St.g,St.b,Jt),b.copy(St),B=Jt),x=j,R=!1}function ve(j,we){j.side===ts?ct(n.CULL_FACE):Ce(n.CULL_FACE);let Le=j.side===$i;we&&(Le=!Le),Ee(Le),j.blending===Fl&&j.transparent===!1?Ae(Eo):Ae(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.blendColor,j.blendAlpha,j.premultipliedAlpha),o.setFunc(j.depthFunc),o.setTest(j.depthTest),o.setMask(j.depthWrite),s.setMask(j.colorWrite);const Xe=j.stencilWrite;a.setTest(Xe),Xe&&(a.setMask(j.stencilWriteMask),a.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),a.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),be(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Ce(n.SAMPLE_ALPHA_TO_COVERAGE):ct(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(j){T!==j&&(j?n.frontFace(n.CW):n.frontFace(n.CCW),T=j)}function ye(j){j!==SB?(Ce(n.CULL_FACE),j!==D&&(j===_1?n.cullFace(n.BACK):j===AB?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ct(n.CULL_FACE),D=j}function ke(j){j!==z&&(ie&&n.lineWidth(j),z=j)}function be(j,we,Le){j?(Ce(n.POLYGON_OFFSET_FILL),(V!==we||J!==Le)&&(n.polygonOffset(we,Le),V=we,J=Le)):ct(n.POLYGON_OFFSET_FILL)}function Ne(j){j?Ce(n.SCISSOR_TEST):ct(n.SCISSOR_TEST)}function It(j){j===void 0&&(j=n.TEXTURE0+ne-1),K!==j&&(n.activeTexture(j),K=j)}function Tt(j,we,Le){Le===void 0&&(K===null?Le=n.TEXTURE0+ne-1:Le=K);let Xe=Y[Le];Xe===void 0&&(Xe={type:void 0,texture:void 0},Y[Le]=Xe),(Xe.type!==j||Xe.texture!==we)&&(K!==Le&&(n.activeTexture(Le),K=Le),n.bindTexture(j,we||Te[j]),Xe.type=j,Xe.texture=we)}function U(){const j=Y[K];j!==void 0&&j.type!==void 0&&(n.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function L(){try{n.compressedTexImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function te(){try{n.compressedTexImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function de(){try{n.texSubImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Me(){try{n.texSubImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function he(){try{n.compressedTexSubImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function $e(){try{n.compressedTexSubImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ue(){try{n.texStorage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ot(){try{n.texStorage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ft(){try{n.texImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Pe(){try{n.texImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function je(j){De.equals(j)===!1&&(n.scissor(j.x,j.y,j.z,j.w),De.copy(j))}function wt(j){it.equals(j)===!1&&(n.viewport(j.x,j.y,j.z,j.w),it.copy(j))}function W(j,we){let Le=u.get(we);Le===void 0&&(Le=new WeakMap,u.set(we,Le));let Xe=Le.get(j);Xe===void 0&&(Xe=n.getUniformBlockIndex(we,j.name),Le.set(j,Xe))}function oe(j,we){const Xe=u.get(we).get(j);l.get(we)!==Xe&&(n.uniformBlockBinding(we,Xe,j.__bindingPointIndex),l.set(we,Xe))}function Oe(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},K=null,Y={},h={},p=new WeakMap,m=[],v=null,_=!1,x=null,g=null,S=null,A=null,w=null,C=null,P=null,b=new Ye(0,0,0),B=0,R=!1,T=null,D=null,z=null,V=null,J=null,De.set(0,0,n.canvas.width,n.canvas.height),it.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:Ce,disable:ct,bindFramebuffer:st,drawBuffers:rt,useProgram:ht,setBlending:Ae,setMaterial:ve,setFlipSided:Ee,setCullFace:ye,setLineWidth:ke,setPolygonOffset:be,setScissorTest:Ne,activeTexture:It,bindTexture:Tt,unbindTexture:U,compressedTexImage2D:L,compressedTexImage3D:te,texImage2D:ft,texImage3D:Pe,updateUBOMapping:W,uniformBlockBinding:oe,texStorage2D:Ue,texStorage3D:ot,texSubImage2D:de,texSubImage3D:Me,compressedTexSubImage2D:he,compressedTexSubImage3D:$e,scissor:je,viewport:wt,reset:Oe}}function cW(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new xe,d=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(U,L){return m?new OffscreenCanvas(U,L):hh("canvas")}function _(U,L,te){let de=1;const Me=Tt(U);if((Me.width>te||Me.height>te)&&(de=te/Math.max(Me.width,Me.height)),de<1)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap||typeof VideoFrame<"u"&&U instanceof VideoFrame){const he=Math.floor(de*Me.width),$e=Math.floor(de*Me.height);h===void 0&&(h=v(he,$e));const Ue=L?v(he,$e):h;return Ue.width=he,Ue.height=$e,Ue.getContext("2d").drawImage(U,0,0,he,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+he+"x"+$e+")."),Ue}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),U;return U}function x(U){return U.generateMipmaps}function g(U){n.generateMipmap(U)}function S(U){return U.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:U.isWebGL3DRenderTarget?n.TEXTURE_3D:U.isWebGLArrayRenderTarget||U.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function A(U,L,te,de,Me=!1){if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let he=L;if(L===n.RED&&(te===n.FLOAT&&(he=n.R32F),te===n.HALF_FLOAT&&(he=n.R16F),te===n.UNSIGNED_BYTE&&(he=n.R8)),L===n.RED_INTEGER&&(te===n.UNSIGNED_BYTE&&(he=n.R8UI),te===n.UNSIGNED_SHORT&&(he=n.R16UI),te===n.UNSIGNED_INT&&(he=n.R32UI),te===n.BYTE&&(he=n.R8I),te===n.SHORT&&(he=n.R16I),te===n.INT&&(he=n.R32I)),L===n.RG&&(te===n.FLOAT&&(he=n.RG32F),te===n.HALF_FLOAT&&(he=n.RG16F),te===n.UNSIGNED_BYTE&&(he=n.RG8)),L===n.RG_INTEGER&&(te===n.UNSIGNED_BYTE&&(he=n.RG8UI),te===n.UNSIGNED_SHORT&&(he=n.RG16UI),te===n.UNSIGNED_INT&&(he=n.RG32UI),te===n.BYTE&&(he=n.RG8I),te===n.SHORT&&(he=n.RG16I),te===n.INT&&(he=n.RG32I)),L===n.RGB_INTEGER&&(te===n.UNSIGNED_BYTE&&(he=n.RGB8UI),te===n.UNSIGNED_SHORT&&(he=n.RGB16UI),te===n.UNSIGNED_INT&&(he=n.RGB32UI),te===n.BYTE&&(he=n.RGB8I),te===n.SHORT&&(he=n.RGB16I),te===n.INT&&(he=n.RGB32I)),L===n.RGBA_INTEGER&&(te===n.UNSIGNED_BYTE&&(he=n.RGBA8UI),te===n.UNSIGNED_SHORT&&(he=n.RGBA16UI),te===n.UNSIGNED_INT&&(he=n.RGBA32UI),te===n.BYTE&&(he=n.RGBA8I),te===n.SHORT&&(he=n.RGBA16I),te===n.INT&&(he=n.RGBA32I)),L===n.RGB&&te===n.UNSIGNED_INT_5_9_9_9_REV&&(he=n.RGB9_E5),L===n.RGBA){const $e=Me?fh:on.getTransfer(de);te===n.FLOAT&&(he=n.RGBA32F),te===n.HALF_FLOAT&&(he=n.RGBA16F),te===n.UNSIGNED_BYTE&&(he=$e===mn?n.SRGB8_ALPHA8:n.RGBA8),te===n.UNSIGNED_SHORT_4_4_4_4&&(he=n.RGBA4),te===n.UNSIGNED_SHORT_5_5_5_1&&(he=n.RGB5_A1)}return(he===n.R16F||he===n.R32F||he===n.RG16F||he===n.RG32F||he===n.RGBA16F||he===n.RGBA32F)&&e.get("EXT_color_buffer_float"),he}function w(U,L){let te;return U?L===null||L===Oo||L===Uc?te=n.DEPTH24_STENCIL8:L===pr?te=n.DEPTH32F_STENCIL8:L===Nc&&(te=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):L===null||L===Oo||L===Uc?te=n.DEPTH_COMPONENT24:L===pr?te=n.DEPTH_COMPONENT32F:L===Nc&&(te=n.DEPTH_COMPONENT16),te}function C(U,L){return x(U)===!0||U.isFramebufferTexture&&U.minFilter!==vi&&U.minFilter!==Yn?Math.log2(Math.max(L.width,L.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?L.mipmaps.length:1}function P(U){const L=U.target;L.removeEventListener("dispose",P),B(L),L.isVideoTexture&&d.delete(L)}function b(U){const L=U.target;L.removeEventListener("dispose",b),T(L)}function B(U){const L=i.get(U);if(L.__webglInit===void 0)return;const te=U.source,de=p.get(te);if(de){const Me=de[L.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&R(U),Object.keys(de).length===0&&p.delete(te)}i.remove(U)}function R(U){const L=i.get(U);n.deleteTexture(L.__webglTexture);const te=U.source,de=p.get(te);delete de[L.__cacheKey],o.memory.textures--}function T(U){const L=i.get(U);if(U.depthTexture&&(U.depthTexture.dispose(),i.remove(U.depthTexture)),U.isWebGLCubeRenderTarget)for(let de=0;de<6;de++){if(Array.isArray(L.__webglFramebuffer[de]))for(let Me=0;Me<L.__webglFramebuffer[de].length;Me++)n.deleteFramebuffer(L.__webglFramebuffer[de][Me]);else n.deleteFramebuffer(L.__webglFramebuffer[de]);L.__webglDepthbuffer&&n.deleteRenderbuffer(L.__webglDepthbuffer[de])}else{if(Array.isArray(L.__webglFramebuffer))for(let de=0;de<L.__webglFramebuffer.length;de++)n.deleteFramebuffer(L.__webglFramebuffer[de]);else n.deleteFramebuffer(L.__webglFramebuffer);if(L.__webglDepthbuffer&&n.deleteRenderbuffer(L.__webglDepthbuffer),L.__webglMultisampledFramebuffer&&n.deleteFramebuffer(L.__webglMultisampledFramebuffer),L.__webglColorRenderbuffer)for(let de=0;de<L.__webglColorRenderbuffer.length;de++)L.__webglColorRenderbuffer[de]&&n.deleteRenderbuffer(L.__webglColorRenderbuffer[de]);L.__webglDepthRenderbuffer&&n.deleteRenderbuffer(L.__webglDepthRenderbuffer)}const te=U.textures;for(let de=0,Me=te.length;de<Me;de++){const he=i.get(te[de]);he.__webglTexture&&(n.deleteTexture(he.__webglTexture),o.memory.textures--),i.remove(te[de])}i.remove(U)}let D=0;function z(){D=0}function V(){const U=D;return U>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+r.maxTextures),D+=1,U}function J(U){const L=[];return L.push(U.wrapS),L.push(U.wrapT),L.push(U.wrapR||0),L.push(U.magFilter),L.push(U.minFilter),L.push(U.anisotropy),L.push(U.internalFormat),L.push(U.format),L.push(U.type),L.push(U.generateMipmaps),L.push(U.premultiplyAlpha),L.push(U.flipY),L.push(U.unpackAlignment),L.push(U.colorSpace),L.join()}function ne(U,L){const te=i.get(U);if(U.isVideoTexture&&Ne(U),U.isRenderTargetTexture===!1&&U.isExternalTexture!==!0&&U.version>0&&te.__version!==U.version){const de=U.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Te(te,U,L);return}}else U.isExternalTexture&&(te.__webglTexture=U.sourceTexture?U.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,te.__webglTexture,n.TEXTURE0+L)}function ie(U,L){const te=i.get(U);if(U.isRenderTargetTexture===!1&&U.version>0&&te.__version!==U.version){Te(te,U,L);return}t.bindTexture(n.TEXTURE_2D_ARRAY,te.__webglTexture,n.TEXTURE0+L)}function re(U,L){const te=i.get(U);if(U.isRenderTargetTexture===!1&&U.version>0&&te.__version!==U.version){Te(te,U,L);return}t.bindTexture(n.TEXTURE_3D,te.__webglTexture,n.TEXTURE0+L)}function F(U,L){const te=i.get(U);if(U.version>0&&te.__version!==U.version){Ce(te,U,L);return}t.bindTexture(n.TEXTURE_CUBE_MAP,te.__webglTexture,n.TEXTURE0+L)}const K={[Ra]:n.REPEAT,[Cr]:n.CLAMP_TO_EDGE,[Fc]:n.MIRRORED_REPEAT},Y={[vi]:n.NEAREST,[Pv]:n.NEAREST_MIPMAP_NEAREST,[Cl]:n.NEAREST_MIPMAP_LINEAR,[Yn]:n.LINEAR,[Ac]:n.LINEAR_MIPMAP_NEAREST,[is]:n.LINEAR_MIPMAP_LINEAR},ae={[rD]:n.NEVER,[cD]:n.ALWAYS,[sD]:n.LESS,[RM]:n.LEQUAL,[oD]:n.EQUAL,[uD]:n.GEQUAL,[aD]:n.GREATER,[lD]:n.NOTEQUAL};function _e(U,L){if(L.type===pr&&e.has("OES_texture_float_linear")===!1&&(L.magFilter===Yn||L.magFilter===Ac||L.magFilter===Cl||L.magFilter===is||L.minFilter===Yn||L.minFilter===Ac||L.minFilter===Cl||L.minFilter===is)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(U,n.TEXTURE_WRAP_S,K[L.wrapS]),n.texParameteri(U,n.TEXTURE_WRAP_T,K[L.wrapT]),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,K[L.wrapR]),n.texParameteri(U,n.TEXTURE_MAG_FILTER,Y[L.magFilter]),n.texParameteri(U,n.TEXTURE_MIN_FILTER,Y[L.minFilter]),L.compareFunction&&(n.texParameteri(U,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(U,n.TEXTURE_COMPARE_FUNC,ae[L.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(L.magFilter===vi||L.minFilter!==Cl&&L.minFilter!==is||L.type===pr&&e.has("OES_texture_float_linear")===!1)return;if(L.anisotropy>1||i.get(L).__currentAnisotropy){const te=e.get("EXT_texture_filter_anisotropic");n.texParameterf(U,te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy}}}function De(U,L){let te=!1;U.__webglInit===void 0&&(U.__webglInit=!0,L.addEventListener("dispose",P));const de=L.source;let Me=p.get(de);Me===void 0&&(Me={},p.set(de,Me));const he=J(L);if(he!==U.__cacheKey){Me[he]===void 0&&(Me[he]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,te=!0),Me[he].usedTimes++;const $e=Me[U.__cacheKey];$e!==void 0&&(Me[U.__cacheKey].usedTimes--,$e.usedTimes===0&&R(L)),U.__cacheKey=he,U.__webglTexture=Me[he].texture}return te}function it(U,L,te){return Math.floor(Math.floor(U/te)/L)}function se(U,L,te,de){const he=U.updateRanges;if(he.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,L.width,L.height,te,de,L.data);else{he.sort((Pe,je)=>Pe.start-je.start);let $e=0;for(let Pe=1;Pe<he.length;Pe++){const je=he[$e],wt=he[Pe],W=je.start+je.count,oe=it(wt.start,L.width,4),Oe=it(je.start,L.width,4);wt.start<=W+1&&oe===Oe&&it(wt.start+wt.count-1,L.width,4)===oe?je.count=Math.max(je.count,wt.start+wt.count-je.start):(++$e,he[$e]=wt)}he.length=$e+1;const Ue=n.getParameter(n.UNPACK_ROW_LENGTH),ot=n.getParameter(n.UNPACK_SKIP_PIXELS),ft=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,L.width);for(let Pe=0,je=he.length;Pe<je;Pe++){const wt=he[Pe],W=Math.floor(wt.start/4),oe=Math.ceil(wt.count/4),Oe=W%L.width,j=Math.floor(W/L.width),we=oe,Le=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Oe),n.pixelStorei(n.UNPACK_SKIP_ROWS,j),t.texSubImage2D(n.TEXTURE_2D,0,Oe,j,we,Le,te,de,L.data)}U.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Ue),n.pixelStorei(n.UNPACK_SKIP_PIXELS,ot),n.pixelStorei(n.UNPACK_SKIP_ROWS,ft)}}function Te(U,L,te){let de=n.TEXTURE_2D;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(de=n.TEXTURE_2D_ARRAY),L.isData3DTexture&&(de=n.TEXTURE_3D);const Me=De(U,L),he=L.source;t.bindTexture(de,U.__webglTexture,n.TEXTURE0+te);const $e=i.get(he);if(he.version!==$e.__version||Me===!0){t.activeTexture(n.TEXTURE0+te);const Ue=on.getPrimaries(on.workingColorSpace),ot=L.colorSpace===yo?null:on.getPrimaries(L.colorSpace),ft=L.colorSpace===yo||Ue===ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,L.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,L.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let Pe=_(L.image,!1,r.maxTextureSize);Pe=It(L,Pe);const je=s.convert(L.format,L.colorSpace),wt=s.convert(L.type);let W=A(L.internalFormat,je,wt,L.colorSpace,L.isVideoTexture);_e(de,L);let oe;const Oe=L.mipmaps,j=L.isVideoTexture!==!0,we=$e.__version===void 0||Me===!0,Le=he.dataReady,Xe=C(L,Pe);if(L.isDepthTexture)W=w(L.format===zc,L.type),we&&(j?t.texStorage2D(n.TEXTURE_2D,1,W,Pe.width,Pe.height):t.texImage2D(n.TEXTURE_2D,0,W,Pe.width,Pe.height,0,je,wt,null));else if(L.isDataTexture)if(Oe.length>0){j&&we&&t.texStorage2D(n.TEXTURE_2D,Xe,W,Oe[0].width,Oe[0].height);for(let Be=0,Se=Oe.length;Be<Se;Be++)oe=Oe[Be],j?Le&&t.texSubImage2D(n.TEXTURE_2D,Be,0,0,oe.width,oe.height,je,wt,oe.data):t.texImage2D(n.TEXTURE_2D,Be,W,oe.width,oe.height,0,je,wt,oe.data);L.generateMipmaps=!1}else j?(we&&t.texStorage2D(n.TEXTURE_2D,Xe,W,Pe.width,Pe.height),Le&&se(L,Pe,je,wt)):t.texImage2D(n.TEXTURE_2D,0,W,Pe.width,Pe.height,0,je,wt,Pe.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){j&&we&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xe,W,Oe[0].width,Oe[0].height,Pe.depth);for(let Be=0,Se=Oe.length;Be<Se;Be++)if(oe=Oe[Be],L.format!==zi)if(je!==null)if(j){if(Le)if(L.layerUpdates.size>0){const qe=D1(oe.width,oe.height,L.format,L.type);for(const St of L.layerUpdates){const Jt=oe.data.subarray(St*qe/oe.data.BYTES_PER_ELEMENT,(St+1)*qe/oe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,St,oe.width,oe.height,1,je,Jt)}L.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,0,oe.width,oe.height,Pe.depth,je,oe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Be,W,oe.width,oe.height,Pe.depth,0,oe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else j?Le&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,0,oe.width,oe.height,Pe.depth,je,wt,oe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Be,W,oe.width,oe.height,Pe.depth,0,je,wt,oe.data)}else{j&&we&&t.texStorage2D(n.TEXTURE_2D,Xe,W,Oe[0].width,Oe[0].height);for(let Be=0,Se=Oe.length;Be<Se;Be++)oe=Oe[Be],L.format!==zi?je!==null?j?Le&&t.compressedTexSubImage2D(n.TEXTURE_2D,Be,0,0,oe.width,oe.height,je,oe.data):t.compressedTexImage2D(n.TEXTURE_2D,Be,W,oe.width,oe.height,0,oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):j?Le&&t.texSubImage2D(n.TEXTURE_2D,Be,0,0,oe.width,oe.height,je,wt,oe.data):t.texImage2D(n.TEXTURE_2D,Be,W,oe.width,oe.height,0,je,wt,oe.data)}else if(L.isDataArrayTexture)if(j){if(we&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xe,W,Pe.width,Pe.height,Pe.depth),Le)if(L.layerUpdates.size>0){const Be=D1(Pe.width,Pe.height,L.format,L.type);for(const Se of L.layerUpdates){const qe=Pe.data.subarray(Se*Be/Pe.data.BYTES_PER_ELEMENT,(Se+1)*Be/Pe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Se,Pe.width,Pe.height,1,je,wt,qe)}L.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,je,wt,Pe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,W,Pe.width,Pe.height,Pe.depth,0,je,wt,Pe.data);else if(L.isData3DTexture)j?(we&&t.texStorage3D(n.TEXTURE_3D,Xe,W,Pe.width,Pe.height,Pe.depth),Le&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,je,wt,Pe.data)):t.texImage3D(n.TEXTURE_3D,0,W,Pe.width,Pe.height,Pe.depth,0,je,wt,Pe.data);else if(L.isFramebufferTexture){if(we)if(j)t.texStorage2D(n.TEXTURE_2D,Xe,W,Pe.width,Pe.height);else{let Be=Pe.width,Se=Pe.height;for(let qe=0;qe<Xe;qe++)t.texImage2D(n.TEXTURE_2D,qe,W,Be,Se,0,je,wt,null),Be>>=1,Se>>=1}}else if(Oe.length>0){if(j&&we){const Be=Tt(Oe[0]);t.texStorage2D(n.TEXTURE_2D,Xe,W,Be.width,Be.height)}for(let Be=0,Se=Oe.length;Be<Se;Be++)oe=Oe[Be],j?Le&&t.texSubImage2D(n.TEXTURE_2D,Be,0,0,je,wt,oe):t.texImage2D(n.TEXTURE_2D,Be,W,je,wt,oe);L.generateMipmaps=!1}else if(j){if(we){const Be=Tt(Pe);t.texStorage2D(n.TEXTURE_2D,Xe,W,Be.width,Be.height)}Le&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,je,wt,Pe)}else t.texImage2D(n.TEXTURE_2D,0,W,je,wt,Pe);x(L)&&g(de),$e.__version=he.version,L.onUpdate&&L.onUpdate(L)}U.__version=L.version}function Ce(U,L,te){if(L.image.length!==6)return;const de=De(U,L),Me=L.source;t.bindTexture(n.TEXTURE_CUBE_MAP,U.__webglTexture,n.TEXTURE0+te);const he=i.get(Me);if(Me.version!==he.__version||de===!0){t.activeTexture(n.TEXTURE0+te);const $e=on.getPrimaries(on.workingColorSpace),Ue=L.colorSpace===yo?null:on.getPrimaries(L.colorSpace),ot=L.colorSpace===yo||$e===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,L.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,L.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);const ft=L.isCompressedTexture||L.image[0].isCompressedTexture,Pe=L.image[0]&&L.image[0].isDataTexture,je=[];for(let Se=0;Se<6;Se++)!ft&&!Pe?je[Se]=_(L.image[Se],!0,r.maxCubemapSize):je[Se]=Pe?L.image[Se].image:L.image[Se],je[Se]=It(L,je[Se]);const wt=je[0],W=s.convert(L.format,L.colorSpace),oe=s.convert(L.type),Oe=A(L.internalFormat,W,oe,L.colorSpace),j=L.isVideoTexture!==!0,we=he.__version===void 0||de===!0,Le=Me.dataReady;let Xe=C(L,wt);_e(n.TEXTURE_CUBE_MAP,L);let Be;if(ft){j&&we&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Xe,Oe,wt.width,wt.height);for(let Se=0;Se<6;Se++){Be=je[Se].mipmaps;for(let qe=0;qe<Be.length;qe++){const St=Be[qe];L.format!==zi?W!==null?j?Le&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe,0,0,St.width,St.height,W,St.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe,Oe,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):j?Le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe,0,0,St.width,St.height,W,oe,St.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe,Oe,St.width,St.height,0,W,oe,St.data)}}}else{if(Be=L.mipmaps,j&&we){Be.length>0&&Xe++;const Se=Tt(je[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Xe,Oe,Se.width,Se.height)}for(let Se=0;Se<6;Se++)if(Pe){j?Le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,je[Se].width,je[Se].height,W,oe,je[Se].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Oe,je[Se].width,je[Se].height,0,W,oe,je[Se].data);for(let qe=0;qe<Be.length;qe++){const Jt=Be[qe].image[Se].image;j?Le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe+1,0,0,Jt.width,Jt.height,W,oe,Jt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe+1,Oe,Jt.width,Jt.height,0,W,oe,Jt.data)}}else{j?Le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,W,oe,je[Se]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Oe,W,oe,je[Se]);for(let qe=0;qe<Be.length;qe++){const St=Be[qe];j?Le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe+1,0,0,W,oe,St.image[Se]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,qe+1,Oe,W,oe,St.image[Se])}}}x(L)&&g(n.TEXTURE_CUBE_MAP),he.__version=Me.version,L.onUpdate&&L.onUpdate(L)}U.__version=L.version}function ct(U,L,te,de,Me,he){const $e=s.convert(te.format,te.colorSpace),Ue=s.convert(te.type),ot=A(te.internalFormat,$e,Ue,te.colorSpace),ft=i.get(L),Pe=i.get(te);if(Pe.__renderTarget=L,!ft.__hasExternalTextures){const je=Math.max(1,L.width>>he),wt=Math.max(1,L.height>>he);Me===n.TEXTURE_3D||Me===n.TEXTURE_2D_ARRAY?t.texImage3D(Me,he,ot,je,wt,L.depth,0,$e,Ue,null):t.texImage2D(Me,he,ot,je,wt,0,$e,Ue,null)}t.bindFramebuffer(n.FRAMEBUFFER,U),be(L)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,de,Me,Pe.__webglTexture,0,ke(L)):(Me===n.TEXTURE_2D||Me>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,de,Me,Pe.__webglTexture,he),t.bindFramebuffer(n.FRAMEBUFFER,null)}function st(U,L,te){if(n.bindRenderbuffer(n.RENDERBUFFER,U),L.depthBuffer){const de=L.depthTexture,Me=de&&de.isDepthTexture?de.type:null,he=w(L.stencilBuffer,Me),$e=L.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=ke(L);be(L)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ue,he,L.width,L.height):te?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,he,L.width,L.height):n.renderbufferStorage(n.RENDERBUFFER,he,L.width,L.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,$e,n.RENDERBUFFER,U)}else{const de=L.textures;for(let Me=0;Me<de.length;Me++){const he=de[Me],$e=s.convert(he.format,he.colorSpace),Ue=s.convert(he.type),ot=A(he.internalFormat,$e,Ue,he.colorSpace),ft=ke(L);te&&be(L)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,ot,L.width,L.height):be(L)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,ot,L.width,L.height):n.renderbufferStorage(n.RENDERBUFFER,ot,L.width,L.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function rt(U,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,U),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const de=i.get(L.depthTexture);de.__renderTarget=L,(!de.__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),ne(L.depthTexture,0);const Me=de.__webglTexture,he=ke(L);if(L.depthTexture.format===kc)be(L)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Me,0,he):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Me,0);else if(L.depthTexture.format===zc)be(L)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Me,0,he):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function ht(U){const L=i.get(U),te=U.isWebGLCubeRenderTarget===!0;if(L.__boundDepthTexture!==U.depthTexture){const de=U.depthTexture;if(L.__depthDisposeCallback&&L.__depthDisposeCallback(),de){const Me=()=>{delete L.__boundDepthTexture,delete L.__depthDisposeCallback,de.removeEventListener("dispose",Me)};de.addEventListener("dispose",Me),L.__depthDisposeCallback=Me}L.__boundDepthTexture=de}if(U.depthTexture&&!L.__autoAllocateDepthBuffer){if(te)throw new Error("target.depthTexture not supported in Cube render targets");const de=U.texture.mipmaps;de&&de.length>0?rt(L.__webglFramebuffer[0],U):rt(L.__webglFramebuffer,U)}else if(te){L.__webglDepthbuffer=[];for(let de=0;de<6;de++)if(t.bindFramebuffer(n.FRAMEBUFFER,L.__webglFramebuffer[de]),L.__webglDepthbuffer[de]===void 0)L.__webglDepthbuffer[de]=n.createRenderbuffer(),st(L.__webglDepthbuffer[de],U,!1);else{const Me=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,he=L.__webglDepthbuffer[de];n.bindRenderbuffer(n.RENDERBUFFER,he),n.framebufferRenderbuffer(n.FRAMEBUFFER,Me,n.RENDERBUFFER,he)}}else{const de=U.texture.mipmaps;if(de&&de.length>0?t.bindFramebuffer(n.FRAMEBUFFER,L.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,L.__webglFramebuffer),L.__webglDepthbuffer===void 0)L.__webglDepthbuffer=n.createRenderbuffer(),st(L.__webglDepthbuffer,U,!1);else{const Me=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,he=L.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,he),n.framebufferRenderbuffer(n.FRAMEBUFFER,Me,n.RENDERBUFFER,he)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(U,L,te){const de=i.get(U);L!==void 0&&ct(de.__webglFramebuffer,U,U.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),te!==void 0&&ht(U)}function H(U){const L=U.texture,te=i.get(U),de=i.get(L);U.addEventListener("dispose",b);const Me=U.textures,he=U.isWebGLCubeRenderTarget===!0,$e=Me.length>1;if($e||(de.__webglTexture===void 0&&(de.__webglTexture=n.createTexture()),de.__version=L.version,o.memory.textures++),he){te.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(L.mipmaps&&L.mipmaps.length>0){te.__webglFramebuffer[Ue]=[];for(let ot=0;ot<L.mipmaps.length;ot++)te.__webglFramebuffer[Ue][ot]=n.createFramebuffer()}else te.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(L.mipmaps&&L.mipmaps.length>0){te.__webglFramebuffer=[];for(let Ue=0;Ue<L.mipmaps.length;Ue++)te.__webglFramebuffer[Ue]=n.createFramebuffer()}else te.__webglFramebuffer=n.createFramebuffer();if($e)for(let Ue=0,ot=Me.length;Ue<ot;Ue++){const ft=i.get(Me[Ue]);ft.__webglTexture===void 0&&(ft.__webglTexture=n.createTexture(),o.memory.textures++)}if(U.samples>0&&be(U)===!1){te.__webglMultisampledFramebuffer=n.createFramebuffer(),te.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,te.__webglMultisampledFramebuffer);for(let Ue=0;Ue<Me.length;Ue++){const ot=Me[Ue];te.__webglColorRenderbuffer[Ue]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,te.__webglColorRenderbuffer[Ue]);const ft=s.convert(ot.format,ot.colorSpace),Pe=s.convert(ot.type),je=A(ot.internalFormat,ft,Pe,ot.colorSpace,U.isXRRenderTarget===!0),wt=ke(U);n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,je,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,te.__webglColorRenderbuffer[Ue])}n.bindRenderbuffer(n.RENDERBUFFER,null),U.depthBuffer&&(te.__webglDepthRenderbuffer=n.createRenderbuffer(),st(te.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(he){t.bindTexture(n.TEXTURE_CUBE_MAP,de.__webglTexture),_e(n.TEXTURE_CUBE_MAP,L);for(let Ue=0;Ue<6;Ue++)if(L.mipmaps&&L.mipmaps.length>0)for(let ot=0;ot<L.mipmaps.length;ot++)ct(te.__webglFramebuffer[Ue][ot],U,L,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,ot);else ct(te.__webglFramebuffer[Ue],U,L,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);x(L)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if($e){for(let Ue=0,ot=Me.length;Ue<ot;Ue++){const ft=Me[Ue],Pe=i.get(ft);let je=n.TEXTURE_2D;(U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(je=U.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(je,Pe.__webglTexture),_e(je,ft),ct(te.__webglFramebuffer,U,ft,n.COLOR_ATTACHMENT0+Ue,je,0),x(ft)&&g(je)}t.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(Ue=U.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ue,de.__webglTexture),_e(Ue,L),L.mipmaps&&L.mipmaps.length>0)for(let ot=0;ot<L.mipmaps.length;ot++)ct(te.__webglFramebuffer[ot],U,L,n.COLOR_ATTACHMENT0,Ue,ot);else ct(te.__webglFramebuffer,U,L,n.COLOR_ATTACHMENT0,Ue,0);x(L)&&g(Ue),t.unbindTexture()}U.depthBuffer&&ht(U)}function Ae(U){const L=U.textures;for(let te=0,de=L.length;te<de;te++){const Me=L[te];if(x(Me)){const he=S(U),$e=i.get(Me).__webglTexture;t.bindTexture(he,$e),g(he),t.unbindTexture()}}}const ve=[],Ee=[];function ye(U){if(U.samples>0){if(be(U)===!1){const L=U.textures,te=U.width,de=U.height;let Me=n.COLOR_BUFFER_BIT;const he=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,$e=i.get(U),Ue=L.length>1;if(Ue)for(let ft=0;ft<L.length;ft++)t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,$e.__webglMultisampledFramebuffer);const ot=U.texture.mipmaps;ot&&ot.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$e.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$e.__webglFramebuffer);for(let ft=0;ft<L.length;ft++){if(U.resolveDepthBuffer&&(U.depthBuffer&&(Me|=n.DEPTH_BUFFER_BIT),U.stencilBuffer&&U.resolveStencilBuffer&&(Me|=n.STENCIL_BUFFER_BIT)),Ue){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,$e.__webglColorRenderbuffer[ft]);const Pe=i.get(L[ft]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Pe,0)}n.blitFramebuffer(0,0,te,de,0,0,te,de,Me,n.NEAREST),l===!0&&(ve.length=0,Ee.length=0,ve.push(n.COLOR_ATTACHMENT0+ft),U.depthBuffer&&U.resolveDepthBuffer===!1&&(ve.push(he),Ee.push(he),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ee)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ve))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ue)for(let ft=0;ft<L.length;ft++){t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,$e.__webglColorRenderbuffer[ft]);const Pe=i.get(L[ft]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,Pe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$e.__webglMultisampledFramebuffer)}else if(U.depthBuffer&&U.resolveDepthBuffer===!1&&l){const L=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[L])}}}function ke(U){return Math.min(r.maxSamples,U.samples)}function be(U){const L=i.get(U);return U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function Ne(U){const L=o.render.frame;d.get(U)!==L&&(d.set(U,L),U.update())}function It(U,L){const te=U.colorSpace,de=U.format,Me=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||te!==Kl&&te!==yo&&(on.getTransfer(te)===mn?(de!==zi||Me!==as)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",te)),L}function Tt(U){return typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement?(u.width=U.naturalWidth||U.width,u.height=U.naturalHeight||U.height):typeof VideoFrame<"u"&&U instanceof VideoFrame?(u.width=U.displayWidth,u.height=U.displayHeight):(u.width=U.width,u.height=U.height),u}this.allocateTextureUnit=V,this.resetTextureUnits=z,this.setTexture2D=ne,this.setTexture2DArray=ie,this.setTexture3D=re,this.setTextureCube=F,this.rebindTextures=Qe,this.setupRenderTarget=H,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=ye,this.setupDepthRenderbuffer=ht,this.setupFrameBufferTexture=ct,this.useMultisampledRTT=be}function pL(n,e){function t(i,r=yo){let s;const o=on.getTransfer(r);if(i===as)return n.UNSIGNED_BYTE;if(i===Bv)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Dv)return n.UNSIGNED_SHORT_5_5_5_1;if(i===AM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===_M)return n.BYTE;if(i===SM)return n.SHORT;if(i===Nc)return n.UNSIGNED_SHORT;if(i===Iv)return n.INT;if(i===Oo)return n.UNSIGNED_INT;if(i===pr)return n.FLOAT;if(i===uf)return n.HALF_FLOAT;if(i===MM)return n.ALPHA;if(i===wM)return n.RGB;if(i===zi)return n.RGBA;if(i===kc)return n.DEPTH_COMPONENT;if(i===zc)return n.DEPTH_STENCIL;if(i===Lv)return n.RED;if(i===Bh)return n.RED_INTEGER;if(i===EM)return n.RG;if(i===Ov)return n.RG_INTEGER;if(i===Fv)return n.RGBA_INTEGER;if(i===Pd||i===Id||i===Bd||i===Dd)if(o===mn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Pd)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Id)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Bd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Dd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Pd)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Id)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Bd)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Dd)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===f0||i===d0||i===h0||i===p0)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===f0)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===d0)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===h0)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===p0)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===m0||i===g0||i===v0)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===m0||i===g0)return o===mn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===v0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===y0||i===x0||i===_0||i===S0||i===A0||i===M0||i===w0||i===E0||i===T0||i===C0||i===b0||i===R0||i===P0||i===I0)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===y0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===x0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===_0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===S0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===A0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===M0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===w0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===E0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===T0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===C0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===b0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===R0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===P0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===I0)return o===mn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ld||i===B0||i===D0)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Ld)return o===mn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===B0)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===D0)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===TM||i===L0||i===O0||i===F0)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Ld)return s.COMPRESSED_RED_RGTC1_EXT;if(i===L0)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===O0)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===F0)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Uc?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class mL extends Bn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const fW=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,dW=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class hW{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new mL(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new bs({vertexShader:fW,fragmentShader:dW,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Qn(new ff(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class pW extends $s{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,d=null,h=null,p=null,m=null,v=null;const _=new hW,x={},g=t.getContextAttributes();let S=null,A=null;const w=[],C=[],P=new xe;let b=null;const B=new In;B.viewport=new an;const R=new In;R.viewport=new an;const T=[B,R],D=new iL;let z=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let Te=w[se];return Te===void 0&&(Te=new Sg,w[se]=Te),Te.getTargetRaySpace()},this.getControllerGrip=function(se){let Te=w[se];return Te===void 0&&(Te=new Sg,w[se]=Te),Te.getGripSpace()},this.getHand=function(se){let Te=w[se];return Te===void 0&&(Te=new Sg,w[se]=Te),Te.getHandSpace()};function J(se){const Te=C.indexOf(se.inputSource);if(Te===-1)return;const Ce=w[Te];Ce!==void 0&&(Ce.update(se.inputSource,se.frame,u||o),Ce.dispatchEvent({type:se.type,data:se.inputSource}))}function ne(){r.removeEventListener("select",J),r.removeEventListener("selectstart",J),r.removeEventListener("selectend",J),r.removeEventListener("squeeze",J),r.removeEventListener("squeezestart",J),r.removeEventListener("squeezeend",J),r.removeEventListener("end",ne),r.removeEventListener("inputsourceschange",ie);for(let se=0;se<w.length;se++){const Te=C[se];Te!==null&&(C[se]=null,w[se].disconnect(Te))}z=null,V=null,_.reset();for(const se in x)delete x[se];e.setRenderTarget(S),m=null,p=null,h=null,r=null,A=null,it.stop(),i.isPresenting=!1,e.setPixelRatio(b),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(se){u=se},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(se){if(r=se,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",J),r.addEventListener("selectstart",J),r.addEventListener("selectend",J),r.addEventListener("squeeze",J),r.addEventListener("squeezestart",J),r.addEventListener("squeezeend",J),r.addEventListener("end",ne),r.addEventListener("inputsourceschange",ie),g.xrCompatible!==!0&&await t.makeXRCompatible(),b=e.getPixelRatio(),e.getSize(P),typeof XRWebGLBinding<"u"&&(h=new XRWebGLBinding(r,t)),h!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ce=null,ct=null,st=null;g.depth&&(st=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ce=g.stencil?zc:kc,ct=g.stencil?Uc:Oo);const rt={colorFormat:t.RGBA8,depthFormat:st,scaleFactor:s};p=h.createProjectionLayer(rt),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),A=new Zs(p.textureWidth,p.textureHeight,{format:zi,type:as,depthTexture:new GM(p.textureWidth,p.textureHeight,ct,void 0,void 0,void 0,void 0,void 0,void 0,Ce),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const Ce={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,Ce),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new Zs(m.framebufferWidth,m.framebufferHeight,{format:zi,type:as,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),it.setContext(r),it.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function ie(se){for(let Te=0;Te<se.removed.length;Te++){const Ce=se.removed[Te],ct=C.indexOf(Ce);ct>=0&&(C[ct]=null,w[ct].disconnect(Ce))}for(let Te=0;Te<se.added.length;Te++){const Ce=se.added[Te];let ct=C.indexOf(Ce);if(ct===-1){for(let rt=0;rt<w.length;rt++)if(rt>=C.length){C.push(Ce),ct=rt;break}else if(C[rt]===null){C[rt]=Ce,ct=rt;break}if(ct===-1)break}const st=w[ct];st&&st.connect(Ce)}}const re=new N,F=new N;function K(se,Te,Ce){re.setFromMatrixPosition(Te.matrixWorld),F.setFromMatrixPosition(Ce.matrixWorld);const ct=re.distanceTo(F),st=Te.projectionMatrix.elements,rt=Ce.projectionMatrix.elements,ht=st[14]/(st[10]-1),Qe=st[14]/(st[10]+1),H=(st[9]+1)/st[5],Ae=(st[9]-1)/st[5],ve=(st[8]-1)/st[0],Ee=(rt[8]+1)/rt[0],ye=ht*ve,ke=ht*Ee,be=ct/(-ve+Ee),Ne=be*-ve;if(Te.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(Ne),se.translateZ(be),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),st[10]===-1)se.projectionMatrix.copy(Te.projectionMatrix),se.projectionMatrixInverse.copy(Te.projectionMatrixInverse);else{const It=ht+be,Tt=Qe+be,U=ye-Ne,L=ke+(ct-Ne),te=H*Qe/Tt*It,de=Ae*Qe/Tt*It;se.projectionMatrix.makePerspective(U,L,te,de,It,Tt),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function Y(se,Te){Te===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(Te.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(r===null)return;let Te=se.near,Ce=se.far;_.texture!==null&&(_.depthNear>0&&(Te=_.depthNear),_.depthFar>0&&(Ce=_.depthFar)),D.near=R.near=B.near=Te,D.far=R.far=B.far=Ce,(z!==D.near||V!==D.far)&&(r.updateRenderState({depthNear:D.near,depthFar:D.far}),z=D.near,V=D.far),D.layers.mask=se.layers.mask|6,B.layers.mask=D.layers.mask&3,R.layers.mask=D.layers.mask&5;const ct=se.parent,st=D.cameras;Y(D,ct);for(let rt=0;rt<st.length;rt++)Y(st[rt],ct);st.length===2?K(D,B,R):D.projectionMatrix.copy(B.projectionMatrix),ae(se,D,ct)};function ae(se,Te,Ce){Ce===null?se.matrix.copy(Te.matrixWorld):(se.matrix.copy(Ce.matrixWorld),se.matrix.invert(),se.matrix.multiply(Te.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(Te.projectionMatrix),se.projectionMatrixInverse.copy(Te.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Wc*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(se){l=se,p!==null&&(p.fixedFoveation=se),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=se)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(D)},this.getCameraTexture=function(se){return x[se]};let _e=null;function De(se,Te){if(d=Te.getViewerPose(u||o),v=Te,d!==null){const Ce=d.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let ct=!1;Ce.length!==D.cameras.length&&(D.cameras.length=0,ct=!0);for(let Qe=0;Qe<Ce.length;Qe++){const H=Ce[Qe];let Ae=null;if(m!==null)Ae=m.getViewport(H);else{const Ee=h.getViewSubImage(p,H);Ae=Ee.viewport,Qe===0&&(e.setRenderTargetTextures(A,Ee.colorTexture,Ee.depthStencilTexture),e.setRenderTarget(A))}let ve=T[Qe];ve===void 0&&(ve=new In,ve.layers.enable(Qe),ve.viewport=new an,T[Qe]=ve),ve.matrix.fromArray(H.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(H.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(Ae.x,Ae.y,Ae.width,Ae.height),Qe===0&&(D.matrix.copy(ve.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),ct===!0&&D.cameras.push(ve)}const st=r.enabledFeatures;if(st&&st.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&h){const Qe=h.getDepthInformation(Ce[0]);Qe&&Qe.isValid&&Qe.texture&&_.init(Qe,r.renderState)}if(st&&st.includes("camera-access")&&(e.state.unbindTexture(),h))for(let Qe=0;Qe<Ce.length;Qe++){const H=Ce[Qe].camera;if(H){let Ae=x[H];Ae||(Ae=new mL,x[H]=Ae);const ve=h.getCameraImage(H);Ae.sourceTexture=ve}}}for(let Ce=0;Ce<w.length;Ce++){const ct=C[Ce],st=w[Ce];ct!==null&&st!==void 0&&st.update(ct,Te,u||o)}_e&&_e(se,Te),Te.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Te}),v=null}const it=new uL;it.setAnimationLoop(De),this.setAnimationLoop=function(se){_e=se},this.dispose=function(){}}}const ul=new Lr,mW=new Pt;function gW(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,gD(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,S,A,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),h(x,g)):g.isMeshPhongMaterial?(s(x,g),d(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,w)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,S,A):g.isSpriteMaterial?u(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===$i&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===$i&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const S=e.get(g),A=S.envMap,w=S.envMapRotation;A&&(x.envMap.value=A,ul.copy(w),ul.x*=-1,ul.y*=-1,ul.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(ul.y*=-1,ul.z*=-1),x.envMapRotation.value.setFromMatrix4(mW.makeRotationFromEuler(ul)),x.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap&&(x.lightMap.value=g.lightMap,x.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,x.lightMapTransform)),g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,S,A){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*S,x.scale.value=A*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function d(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function h(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),g.envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,S){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===$i&&x.clearcoatNormalScale.value.negate())),g.dispersion>0&&(x.dispersion.value=g.dispersion),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=S.texture,x.transmissionSamplerSize.value.set(S.width,S.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const S=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(S.matrixWorld),x.nearDistance.value=S.shadow.camera.near,x.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function vW(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,A){const w=A.program;i.uniformBlockBinding(S,w)}function u(S,A){let w=r[S.id];w===void 0&&(v(S),w=d(S),r[S.id]=w,S.addEventListener("dispose",x));const C=A.program;i.updateUBOMapping(S,C);const P=e.render.frame;s[S.id]!==P&&(p(S),s[S.id]=P)}function d(S){const A=h();S.__bindingPointIndex=A;const w=n.createBuffer(),C=S.__size,P=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,C,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,w),w}function h(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const A=r[S.id],w=S.uniforms,C=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let P=0,b=w.length;P<b;P++){const B=Array.isArray(w[P])?w[P]:[w[P]];for(let R=0,T=B.length;R<T;R++){const D=B[R];if(m(D,P,R,C)===!0){const z=D.__offset,V=Array.isArray(D.value)?D.value:[D.value];let J=0;for(let ne=0;ne<V.length;ne++){const ie=V[ne],re=_(ie);typeof ie=="number"||typeof ie=="boolean"?(D.__data[0]=ie,n.bufferSubData(n.UNIFORM_BUFFER,z+J,D.__data)):ie.isMatrix3?(D.__data[0]=ie.elements[0],D.__data[1]=ie.elements[1],D.__data[2]=ie.elements[2],D.__data[3]=0,D.__data[4]=ie.elements[3],D.__data[5]=ie.elements[4],D.__data[6]=ie.elements[5],D.__data[7]=0,D.__data[8]=ie.elements[6],D.__data[9]=ie.elements[7],D.__data[10]=ie.elements[8],D.__data[11]=0):(ie.toArray(D.__data,J),J+=re.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,D.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(S,A,w,C){const P=S.value,b=A+"_"+w;if(C[b]===void 0)return typeof P=="number"||typeof P=="boolean"?C[b]=P:C[b]=P.clone(),!0;{const B=C[b];if(typeof P=="number"||typeof P=="boolean"){if(B!==P)return C[b]=P,!0}else if(B.equals(P)===!1)return B.copy(P),!0}return!1}function v(S){const A=S.uniforms;let w=0;const C=16;for(let b=0,B=A.length;b<B;b++){const R=Array.isArray(A[b])?A[b]:[A[b]];for(let T=0,D=R.length;T<D;T++){const z=R[T],V=Array.isArray(z.value)?z.value:[z.value];for(let J=0,ne=V.length;J<ne;J++){const ie=V[J],re=_(ie),F=w%C,K=F%re.boundary,Y=F+K;w+=K,Y!==0&&C-Y<re.storage&&(w+=C-Y),z.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=w,w+=re.storage}}}const P=w%C;return P>0&&(w+=C-P),S.__size=w,S.__cache={},this}function _(S){const A={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(A.boundary=4,A.storage=4):S.isVector2?(A.boundary=8,A.storage=8):S.isVector3||S.isColor?(A.boundary=16,A.storage=12):S.isVector4?(A.boundary=16,A.storage=16):S.isMatrix3?(A.boundary=48,A.storage=48):S.isMatrix4?(A.boundary=64,A.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),A}function x(S){const A=S.target;A.removeEventListener("dispose",x);const w=o.indexOf(A.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function g(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}return{bind:l,update:u,dispose:g}}class gL{constructor(e={}){const{canvas:t=hD(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let m;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=i.getContextAttributes().alpha}else m=o;const v=new Uint32Array(4),_=new Int32Array(4);let x=null,g=null;const S=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Js,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const w=this;let C=!1;this._outputColorSpace=cr;let P=0,b=0,B=null,R=-1,T=null;const D=new an,z=new an;let V=null;const J=new Ye(0);let ne=0,ie=t.width,re=t.height,F=1,K=null,Y=null;const ae=new an(0,0,ie,re),_e=new an(0,0,ie,re);let De=!1;const it=new cf;let se=!1,Te=!1;const Ce=new Pt,ct=new N,st=new an,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ht=!1;function Qe(){return B===null?F:1}let H=i;function Ae(O,Z){return t.getContext(O,Z)}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ph}`),t.addEventListener("webglcontextlost",Le,!1),t.addEventListener("webglcontextrestored",Xe,!1),t.addEventListener("webglcontextcreationerror",Be,!1),H===null){const Z="webgl2";if(H=Ae(Z,O),H===null)throw Ae(Z)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let ve,Ee,ye,ke,be,Ne,It,Tt,U,L,te,de,Me,he,$e,Ue,ot,ft,Pe,je,wt,W,oe,Oe;function j(){ve=new RV(H),ve.init(),W=new pL(H,ve),Ee=new AV(H,ve,e,W),ye=new uW(H,ve),Ee.reversedDepthBuffer&&p&&ye.buffers.depth.setReversed(!0),ke=new BV(H),be=new Q7,Ne=new cW(H,ve,ye,be,Ee,W,ke),It=new wV(w),Tt=new bV(w),U=new U8(H),oe=new _V(H,U),L=new PV(H,U,ke,oe),te=new LV(H,L,U,ke),Pe=new DV(H,Ee,Ne),Ue=new MV(be),de=new Y7(w,It,Tt,ve,Ee,oe,Ue),Me=new gW(w,be),he=new Z7,$e=new rW(ve),ft=new xV(w,It,Tt,ye,te,m,l),ot=new aW(w,te,Ee),Oe=new vW(H,ke,Ee,ye),je=new SV(H,ve,ke),wt=new IV(H,ve,ke),ke.programs=de.programs,w.capabilities=Ee,w.extensions=ve,w.properties=be,w.renderLists=he,w.shadowMap=ot,w.state=ye,w.info=ke}j();const we=new pW(w,H);this.xr=we,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const O=ve.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=ve.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(O){O!==void 0&&(F=O,this.setSize(ie,re,!1))},this.getSize=function(O){return O.set(ie,re)},this.setSize=function(O,Z,ce=!0){if(we.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ie=O,re=Z,t.width=Math.floor(O*F),t.height=Math.floor(Z*F),ce===!0&&(t.style.width=O+"px",t.style.height=Z+"px"),this.setViewport(0,0,O,Z)},this.getDrawingBufferSize=function(O){return O.set(ie*F,re*F).floor()},this.setDrawingBufferSize=function(O,Z,ce){ie=O,re=Z,F=ce,t.width=Math.floor(O*ce),t.height=Math.floor(Z*ce),this.setViewport(0,0,O,Z)},this.getCurrentViewport=function(O){return O.copy(D)},this.getViewport=function(O){return O.copy(ae)},this.setViewport=function(O,Z,ce,le){O.isVector4?ae.set(O.x,O.y,O.z,O.w):ae.set(O,Z,ce,le),ye.viewport(D.copy(ae).multiplyScalar(F).round())},this.getScissor=function(O){return O.copy(_e)},this.setScissor=function(O,Z,ce,le){O.isVector4?_e.set(O.x,O.y,O.z,O.w):_e.set(O,Z,ce,le),ye.scissor(z.copy(_e).multiplyScalar(F).round())},this.getScissorTest=function(){return De},this.setScissorTest=function(O){ye.setScissorTest(De=O)},this.setOpaqueSort=function(O){K=O},this.setTransparentSort=function(O){Y=O},this.getClearColor=function(O){return O.copy(ft.getClearColor())},this.setClearColor=function(){ft.setClearColor(...arguments)},this.getClearAlpha=function(){return ft.getClearAlpha()},this.setClearAlpha=function(){ft.setClearAlpha(...arguments)},this.clear=function(O=!0,Z=!0,ce=!0){let le=0;if(O){let q=!1;if(B!==null){const Ie=B.texture.format;q=Ie===Fv||Ie===Ov||Ie===Bh}if(q){const Ie=B.texture.type,Ve=Ie===as||Ie===Oo||Ie===Nc||Ie===Uc||Ie===Bv||Ie===Dv,et=ft.getClearColor(),tt=ft.getClearAlpha(),At=et.r,He=et.g,Ge=et.b;Ve?(v[0]=At,v[1]=He,v[2]=Ge,v[3]=tt,H.clearBufferuiv(H.COLOR,0,v)):(_[0]=At,_[1]=He,_[2]=Ge,_[3]=tt,H.clearBufferiv(H.COLOR,0,_))}else le|=H.COLOR_BUFFER_BIT}Z&&(le|=H.DEPTH_BUFFER_BIT),ce&&(le|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Le,!1),t.removeEventListener("webglcontextrestored",Xe,!1),t.removeEventListener("webglcontextcreationerror",Be,!1),ft.dispose(),he.dispose(),$e.dispose(),be.dispose(),It.dispose(),Tt.dispose(),te.dispose(),oe.dispose(),Oe.dispose(),de.dispose(),we.dispose(),we.removeEventListener("sessionstart",ii),we.removeEventListener("sessionend",X),$.stop()};function Le(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const O=ke.autoReset,Z=ot.enabled,ce=ot.autoUpdate,le=ot.needsUpdate,q=ot.type;j(),ke.autoReset=O,ot.enabled=Z,ot.autoUpdate=ce,ot.needsUpdate=le,ot.type=q}function Be(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Se(O){const Z=O.target;Z.removeEventListener("dispose",Se),qe(Z)}function qe(O){St(O),be.remove(O)}function St(O){const Z=be.get(O).programs;Z!==void 0&&(Z.forEach(function(ce){de.releaseProgram(ce)}),O.isShaderMaterial&&de.releaseShaderCache(O))}this.renderBufferDirect=function(O,Z,ce,le,q,Ie){Z===null&&(Z=rt);const Ve=q.isMesh&&q.matrixWorld.determinant()<0,et=yt(O,Z,ce,le,q);ye.setMaterial(le,Ve);let tt=ce.index,At=1;if(le.wireframe===!0){if(tt=L.getWireframeAttribute(ce),tt===void 0)return;At=2}const He=ce.drawRange,Ge=ce.attributes.position;let ut=He.start*At,xt=(He.start+He.count)*At;Ie!==null&&(ut=Math.max(ut,Ie.start*At),xt=Math.min(xt,(Ie.start+Ie.count)*At)),tt!==null?(ut=Math.max(ut,0),xt=Math.min(xt,tt.count)):Ge!=null&&(ut=Math.max(ut,0),xt=Math.min(xt,Ge.count));const Ct=xt-ut;if(Ct<0||Ct===1/0)return;oe.setup(q,le,et,ce,tt);let Ot,kt=je;if(tt!==null&&(Ot=U.get(tt),kt=wt,kt.setIndex(Ot)),q.isMesh)le.wireframe===!0?(ye.setLineWidth(le.wireframeLinewidth*Qe()),kt.setMode(H.LINES)):kt.setMode(H.TRIANGLES);else if(q.isLine){let _t=le.linewidth;_t===void 0&&(_t=1),ye.setLineWidth(_t*Qe()),q.isLineSegments?kt.setMode(H.LINES):q.isLineLoop?kt.setMode(H.LINE_LOOP):kt.setMode(H.LINE_STRIP)}else q.isPoints?kt.setMode(H.POINTS):q.isSprite&&kt.setMode(H.TRIANGLES);if(q.isBatchedMesh)if(q._multiDrawInstances!==null)Mc("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),kt.renderMultiDrawInstances(q._multiDrawStarts,q._multiDrawCounts,q._multiDrawCount,q._multiDrawInstances);else if(ve.get("WEBGL_multi_draw"))kt.renderMultiDraw(q._multiDrawStarts,q._multiDrawCounts,q._multiDrawCount);else{const _t=q._multiDrawStarts,pn=q._multiDrawCounts,Nt=q._multiDrawCount,ci=tt?U.get(tt).bytesPerElement:1,eo=be.get(le).currentProgram.getUniforms();for(let Ci=0;Ci<Nt;Ci++)eo.setValue(H,"_gl_DrawID",Ci),kt.render(_t[Ci]/ci,pn[Ci])}else if(q.isInstancedMesh)kt.renderInstances(ut,Ct,q.count);else if(ce.isInstancedBufferGeometry){const _t=ce._maxInstanceCount!==void 0?ce._maxInstanceCount:1/0,pn=Math.min(ce.instanceCount,_t);kt.renderInstances(ut,Ct,pn)}else kt.render(ut,Ct)};function Jt(O,Z,ce){O.transparent===!0&&O.side===ts&&O.forceSinglePass===!1?(O.side=$i,O.needsUpdate=!0,at(O,Z,ce),O.side=qs,O.needsUpdate=!0,at(O,Z,ce),O.side=ts):at(O,Z,ce)}this.compile=function(O,Z,ce=null){ce===null&&(ce=O),g=$e.get(ce),g.init(Z),A.push(g),ce.traverseVisible(function(q){q.isLight&&q.layers.test(Z.layers)&&(g.pushLight(q),q.castShadow&&g.pushShadow(q))}),O!==ce&&O.traverseVisible(function(q){q.isLight&&q.layers.test(Z.layers)&&(g.pushLight(q),q.castShadow&&g.pushShadow(q))}),g.setupLights();const le=new Set;return O.traverse(function(q){if(!(q.isMesh||q.isPoints||q.isLine||q.isSprite))return;const Ie=q.material;if(Ie)if(Array.isArray(Ie))for(let Ve=0;Ve<Ie.length;Ve++){const et=Ie[Ve];Jt(et,ce,q),le.add(et)}else Jt(Ie,ce,q),le.add(Ie)}),g=A.pop(),le},this.compileAsync=function(O,Z,ce=null){const le=this.compile(O,Z,ce);return new Promise(q=>{function Ie(){if(le.forEach(function(Ve){be.get(Ve).currentProgram.isReady()&&le.delete(Ve)}),le.size===0){q(O);return}setTimeout(Ie,10)}ve.get("KHR_parallel_shader_compile")!==null?Ie():setTimeout(Ie,10)})};let zt=null;function qn(O){zt&&zt(O)}function ii(){$.stop()}function X(){$.start()}const $=new uL;$.setAnimationLoop(qn),typeof self<"u"&&$.setContext(self),this.setAnimationLoop=function(O){zt=O,we.setAnimationLoop(O),O===null?$.stop():$.start()},we.addEventListener("sessionstart",ii),we.addEventListener("sessionend",X),this.render=function(O,Z){if(Z!==void 0&&Z.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),Z.parent===null&&Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),we.enabled===!0&&we.isPresenting===!0&&(we.cameraAutoUpdate===!0&&we.updateCamera(Z),Z=we.getCamera()),O.isScene===!0&&O.onBeforeRender(w,O,Z,B),g=$e.get(O,A.length),g.init(Z),A.push(g),Ce.multiplyMatrices(Z.projectionMatrix,Z.matrixWorldInverse),it.setFromProjectionMatrix(Ce,br,Z.reversedDepth),Te=this.localClippingEnabled,se=Ue.init(this.clippingPlanes,Te),x=he.get(O,S.length),x.init(),S.push(x),we.enabled===!0&&we.isPresenting===!0){const Ie=w.xr.getDepthSensingMesh();Ie!==null&&fe(Ie,Z,-1/0,w.sortObjects)}fe(O,Z,0,w.sortObjects),x.finish(),w.sortObjects===!0&&x.sort(K,Y),ht=we.enabled===!1||we.isPresenting===!1||we.hasDepthSensing()===!1,ht&&ft.addToRenderList(x,O),this.info.render.frame++,se===!0&&Ue.beginShadows();const ce=g.state.shadowsArray;ot.render(ce,O,Z),se===!0&&Ue.endShadows(),this.info.autoReset===!0&&this.info.reset();const le=x.opaque,q=x.transmissive;if(g.setupLights(),Z.isArrayCamera){const Ie=Z.cameras;if(q.length>0)for(let Ve=0,et=Ie.length;Ve<et;Ve++){const tt=Ie[Ve];We(le,q,O,tt)}ht&&ft.render(O);for(let Ve=0,et=Ie.length;Ve<et;Ve++){const tt=Ie[Ve];Re(x,O,tt,tt.viewport)}}else q.length>0&&We(le,q,O,Z),ht&&ft.render(O),Re(x,O,Z);B!==null&&b===0&&(Ne.updateMultisampleRenderTarget(B),Ne.updateRenderTargetMipmap(B)),O.isScene===!0&&O.onAfterRender(w,O,Z),oe.resetDefaultState(),R=-1,T=null,A.pop(),A.length>0?(g=A[A.length-1],se===!0&&Ue.setGlobalState(w.clippingPlanes,g.state.camera)):g=null,S.pop(),S.length>0?x=S[S.length-1]:x=null};function fe(O,Z,ce,le){if(O.visible===!1)return;if(O.layers.test(Z.layers)){if(O.isGroup)ce=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(Z);else if(O.isLight)g.pushLight(O),O.castShadow&&g.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||it.intersectsSprite(O)){le&&st.setFromMatrixPosition(O.matrixWorld).applyMatrix4(Ce);const Ve=te.update(O),et=O.material;et.visible&&x.push(O,Ve,et,ce,st.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||it.intersectsObject(O))){const Ve=te.update(O),et=O.material;if(le&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),st.copy(O.boundingSphere.center)):(Ve.boundingSphere===null&&Ve.computeBoundingSphere(),st.copy(Ve.boundingSphere.center)),st.applyMatrix4(O.matrixWorld).applyMatrix4(Ce)),Array.isArray(et)){const tt=Ve.groups;for(let At=0,He=tt.length;At<He;At++){const Ge=tt[At],ut=et[Ge.materialIndex];ut&&ut.visible&&x.push(O,Ve,ut,ce,st.z,Ge)}}else et.visible&&x.push(O,Ve,et,ce,st.z,null)}}const Ie=O.children;for(let Ve=0,et=Ie.length;Ve<et;Ve++)fe(Ie[Ve],Z,ce,le)}function Re(O,Z,ce,le){const q=O.opaque,Ie=O.transmissive,Ve=O.transparent;g.setupLightsView(ce),se===!0&&Ue.setGlobalState(w.clippingPlanes,ce),le&&ye.viewport(D.copy(le)),q.length>0&&pt(q,Z,ce),Ie.length>0&&pt(Ie,Z,ce),Ve.length>0&&pt(Ve,Z,ce),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function We(O,Z,ce,le){if((ce.isScene===!0?ce.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[le.id]===void 0&&(g.state.transmissionRenderTarget[le.id]=new Zs(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")||ve.has("EXT_color_buffer_float")?uf:as,minFilter:is,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:on.workingColorSpace}));const Ie=g.state.transmissionRenderTarget[le.id],Ve=le.viewport||D;Ie.setSize(Ve.z*w.transmissionResolutionScale,Ve.w*w.transmissionResolutionScale);const et=w.getRenderTarget(),tt=w.getActiveCubeFace(),At=w.getActiveMipmapLevel();w.setRenderTarget(Ie),w.getClearColor(J),ne=w.getClearAlpha(),ne<1&&w.setClearColor(16777215,.5),w.clear(),ht&&ft.render(ce);const He=w.toneMapping;w.toneMapping=Js;const Ge=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),g.setupLightsView(le),se===!0&&Ue.setGlobalState(w.clippingPlanes,le),pt(O,ce,le),Ne.updateMultisampleRenderTarget(Ie),Ne.updateRenderTargetMipmap(Ie),ve.has("WEBGL_multisampled_render_to_texture")===!1){let ut=!1;for(let xt=0,Ct=Z.length;xt<Ct;xt++){const Ot=Z[xt],kt=Ot.object,_t=Ot.geometry,pn=Ot.material,Nt=Ot.group;if(pn.side===ts&&kt.layers.test(le.layers)){const ci=pn.side;pn.side=$i,pn.needsUpdate=!0,Bt(kt,ce,le,_t,pn,Nt),pn.side=ci,pn.needsUpdate=!0,ut=!0}}ut===!0&&(Ne.updateMultisampleRenderTarget(Ie),Ne.updateRenderTargetMipmap(Ie))}w.setRenderTarget(et,tt,At),w.setClearColor(J,ne),Ge!==void 0&&(le.viewport=Ge),w.toneMapping=He}function pt(O,Z,ce){const le=Z.isScene===!0?Z.overrideMaterial:null;for(let q=0,Ie=O.length;q<Ie;q++){const Ve=O[q],et=Ve.object,tt=Ve.geometry,At=Ve.group;let He=Ve.material;He.allowOverride===!0&&le!==null&&(He=le),et.layers.test(ce.layers)&&Bt(et,Z,ce,tt,He,At)}}function Bt(O,Z,ce,le,q,Ie){O.onBeforeRender(w,Z,ce,le,q,Ie),O.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),q.onBeforeRender(w,Z,ce,le,O,Ie),q.transparent===!0&&q.side===ts&&q.forceSinglePass===!1?(q.side=$i,q.needsUpdate=!0,w.renderBufferDirect(ce,Z,le,q,O,Ie),q.side=qs,q.needsUpdate=!0,w.renderBufferDirect(ce,Z,le,q,O,Ie),q.side=ts):w.renderBufferDirect(ce,Z,le,q,O,Ie),O.onAfterRender(w,Z,ce,le,q,Ie)}function at(O,Z,ce){Z.isScene!==!0&&(Z=rt);const le=be.get(O),q=g.state.lights,Ie=g.state.shadowsArray,Ve=q.state.version,et=de.getParameters(O,q.state,Ie,Z,ce),tt=de.getProgramCacheKey(et);let At=le.programs;le.environment=O.isMeshStandardMaterial?Z.environment:null,le.fog=Z.fog,le.envMap=(O.isMeshStandardMaterial?Tt:It).get(O.envMap||le.environment),le.envMapRotation=le.environment!==null&&O.envMap===null?Z.environmentRotation:O.envMapRotation,At===void 0&&(O.addEventListener("dispose",Se),At=new Map,le.programs=At);let He=At.get(tt);if(He!==void 0){if(le.currentProgram===He&&le.lightsStateVersion===Ve)return lt(O,et),He}else et.uniforms=de.getUniforms(O),O.onBeforeCompile(et,w),He=de.acquireProgram(et,tt),At.set(tt,He),le.uniforms=et.uniforms;const Ge=le.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(Ge.clippingPlanes=Ue.uniform),lt(O,et),le.needsLights=Qt(O),le.lightsStateVersion=Ve,le.needsLights&&(Ge.ambientLightColor.value=q.state.ambient,Ge.lightProbe.value=q.state.probe,Ge.directionalLights.value=q.state.directional,Ge.directionalLightShadows.value=q.state.directionalShadow,Ge.spotLights.value=q.state.spot,Ge.spotLightShadows.value=q.state.spotShadow,Ge.rectAreaLights.value=q.state.rectArea,Ge.ltc_1.value=q.state.rectAreaLTC1,Ge.ltc_2.value=q.state.rectAreaLTC2,Ge.pointLights.value=q.state.point,Ge.pointLightShadows.value=q.state.pointShadow,Ge.hemisphereLights.value=q.state.hemi,Ge.directionalShadowMap.value=q.state.directionalShadowMap,Ge.directionalShadowMatrix.value=q.state.directionalShadowMatrix,Ge.spotShadowMap.value=q.state.spotShadowMap,Ge.spotLightMatrix.value=q.state.spotLightMatrix,Ge.spotLightMap.value=q.state.spotLightMap,Ge.pointShadowMap.value=q.state.pointShadowMap,Ge.pointShadowMatrix.value=q.state.pointShadowMatrix),le.currentProgram=He,le.uniformsList=null,He}function mt(O){if(O.uniformsList===null){const Z=O.currentProgram.getUniforms();O.uniformsList=Ag.seqWithValue(Z.seq,O.uniforms)}return O.uniformsList}function lt(O,Z){const ce=be.get(O);ce.outputColorSpace=Z.outputColorSpace,ce.batching=Z.batching,ce.batchingColor=Z.batchingColor,ce.instancing=Z.instancing,ce.instancingColor=Z.instancingColor,ce.instancingMorph=Z.instancingMorph,ce.skinning=Z.skinning,ce.morphTargets=Z.morphTargets,ce.morphNormals=Z.morphNormals,ce.morphColors=Z.morphColors,ce.morphTargetsCount=Z.morphTargetsCount,ce.numClippingPlanes=Z.numClippingPlanes,ce.numIntersection=Z.numClipIntersection,ce.vertexAlphas=Z.vertexAlphas,ce.vertexTangents=Z.vertexTangents,ce.toneMapping=Z.toneMapping}function yt(O,Z,ce,le,q){Z.isScene!==!0&&(Z=rt),Ne.resetTextureUnits();const Ie=Z.fog,Ve=le.isMeshStandardMaterial?Z.environment:null,et=B===null?w.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:Kl,tt=(le.isMeshStandardMaterial?Tt:It).get(le.envMap||Ve),At=le.vertexColors===!0&&!!ce.attributes.color&&ce.attributes.color.itemSize===4,He=!!ce.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Ge=!!ce.morphAttributes.position,ut=!!ce.morphAttributes.normal,xt=!!ce.morphAttributes.color;let Ct=Js;le.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(Ct=w.toneMapping);const Ot=ce.morphAttributes.position||ce.morphAttributes.normal||ce.morphAttributes.color,kt=Ot!==void 0?Ot.length:0,_t=be.get(le),pn=g.state.lights;if(se===!0&&(Te===!0||O!==T)){const _i=O===T&&le.id===R;Ue.setState(le,O,_i)}let Nt=!1;le.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==pn.state.version||_t.outputColorSpace!==et||q.isBatchedMesh&&_t.batching===!1||!q.isBatchedMesh&&_t.batching===!0||q.isBatchedMesh&&_t.batchingColor===!0&&q.colorTexture===null||q.isBatchedMesh&&_t.batchingColor===!1&&q.colorTexture!==null||q.isInstancedMesh&&_t.instancing===!1||!q.isInstancedMesh&&_t.instancing===!0||q.isSkinnedMesh&&_t.skinning===!1||!q.isSkinnedMesh&&_t.skinning===!0||q.isInstancedMesh&&_t.instancingColor===!0&&q.instanceColor===null||q.isInstancedMesh&&_t.instancingColor===!1&&q.instanceColor!==null||q.isInstancedMesh&&_t.instancingMorph===!0&&q.morphTexture===null||q.isInstancedMesh&&_t.instancingMorph===!1&&q.morphTexture!==null||_t.envMap!==tt||le.fog===!0&&_t.fog!==Ie||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==Ue.numPlanes||_t.numIntersection!==Ue.numIntersection)||_t.vertexAlphas!==At||_t.vertexTangents!==He||_t.morphTargets!==Ge||_t.morphNormals!==ut||_t.morphColors!==xt||_t.toneMapping!==Ct||_t.morphTargetsCount!==kt)&&(Nt=!0):(Nt=!0,_t.__version=le.version);let ci=_t.currentProgram;Nt===!0&&(ci=at(le,Z,q));let eo=!1,Ci=!1,Is=!1;const xn=ci.getUniforms(),En=_t.uniforms;if(ye.useProgram(ci.program)&&(eo=!0,Ci=!0,Is=!0),le.id!==R&&(R=le.id,Ci=!0),eo||T!==O){ye.buffers.depth.getReversed()&&O.reversedDepth!==!0&&(O._reversedDepth=!0,O.updateProjectionMatrix()),xn.setValue(H,"projectionMatrix",O.projectionMatrix),xn.setValue(H,"viewMatrix",O.matrixWorldInverse);const bi=xn.map.cameraPosition;bi!==void 0&&bi.setValue(H,ct.setFromMatrixPosition(O.matrixWorld)),Ee.logarithmicDepthBuffer&&xn.setValue(H,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&xn.setValue(H,"isOrthographic",O.isOrthographicCamera===!0),T!==O&&(T=O,Ci=!0,Is=!0)}if(q.isSkinnedMesh){xn.setOptional(H,q,"bindMatrix"),xn.setOptional(H,q,"bindMatrixInverse");const _i=q.skeleton;_i&&(_i.boneTexture===null&&_i.computeBoneTexture(),xn.setValue(H,"boneTexture",_i.boneTexture,Ne))}q.isBatchedMesh&&(xn.setOptional(H,q,"batchingTexture"),xn.setValue(H,"batchingTexture",q._matricesTexture,Ne),xn.setOptional(H,q,"batchingIdTexture"),xn.setValue(H,"batchingIdTexture",q._indirectTexture,Ne),xn.setOptional(H,q,"batchingColorTexture"),q._colorsTexture!==null&&xn.setValue(H,"batchingColorTexture",q._colorsTexture,Ne));const nr=ce.morphAttributes;if((nr.position!==void 0||nr.normal!==void 0||nr.color!==void 0)&&Pe.update(q,ce,ci),(Ci||_t.receiveShadow!==q.receiveShadow)&&(_t.receiveShadow=q.receiveShadow,xn.setValue(H,"receiveShadow",q.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(En.envMap.value=tt,En.flipEnvMap.value=tt.isCubeTexture&&tt.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&Z.environment!==null&&(En.envMapIntensity.value=Z.environmentIntensity),Ci&&(xn.setValue(H,"toneMappingExposure",w.toneMappingExposure),_t.needsLights&&Ut(En,Is),Ie&&le.fog===!0&&Me.refreshFogUniforms(En,Ie),Me.refreshMaterialUniforms(En,le,F,re,g.state.transmissionRenderTarget[O.id]),Ag.upload(H,mt(_t),En,Ne)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Ag.upload(H,mt(_t),En,Ne),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&xn.setValue(H,"center",q.center),xn.setValue(H,"modelViewMatrix",q.modelViewMatrix),xn.setValue(H,"normalMatrix",q.normalMatrix),xn.setValue(H,"modelMatrix",q.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const _i=le.uniformsGroups;for(let bi=0,ko=_i.length;bi<ko;bi++){const kr=_i[bi];Oe.update(kr,ci),Oe.bind(kr,ci)}}return ci}function Ut(O,Z){O.ambientLightColor.needsUpdate=Z,O.lightProbe.needsUpdate=Z,O.directionalLights.needsUpdate=Z,O.directionalLightShadows.needsUpdate=Z,O.pointLights.needsUpdate=Z,O.pointLightShadows.needsUpdate=Z,O.spotLights.needsUpdate=Z,O.spotLightShadows.needsUpdate=Z,O.rectAreaLights.needsUpdate=Z,O.hemisphereLights.needsUpdate=Z}function Qt(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(O,Z,ce){const le=be.get(O);le.__autoAllocateDepthBuffer=O.resolveDepthBuffer===!1,le.__autoAllocateDepthBuffer===!1&&(le.__useRenderToTexture=!1),be.get(O.texture).__webglTexture=Z,be.get(O.depthTexture).__webglTexture=le.__autoAllocateDepthBuffer?void 0:ce,le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(O,Z){const ce=be.get(O);ce.__webglFramebuffer=Z,ce.__useDefaultFramebuffer=Z===void 0};const zn=H.createFramebuffer();this.setRenderTarget=function(O,Z=0,ce=0){B=O,P=Z,b=ce;let le=!0,q=null,Ie=!1,Ve=!1;if(O){const tt=be.get(O);if(tt.__useDefaultFramebuffer!==void 0)ye.bindFramebuffer(H.FRAMEBUFFER,null),le=!1;else if(tt.__webglFramebuffer===void 0)Ne.setupRenderTarget(O);else if(tt.__hasExternalTextures)Ne.rebindTextures(O,be.get(O.texture).__webglTexture,be.get(O.depthTexture).__webglTexture);else if(O.depthBuffer){const Ge=O.depthTexture;if(tt.__boundDepthTexture!==Ge){if(Ge!==null&&be.has(Ge)&&(O.width!==Ge.image.width||O.height!==Ge.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ne.setupDepthRenderbuffer(O)}}const At=O.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(Ve=!0);const He=be.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(He[Z])?q=He[Z][ce]:q=He[Z],Ie=!0):O.samples>0&&Ne.useMultisampledRTT(O)===!1?q=be.get(O).__webglMultisampledFramebuffer:Array.isArray(He)?q=He[ce]:q=He,D.copy(O.viewport),z.copy(O.scissor),V=O.scissorTest}else D.copy(ae).multiplyScalar(F).floor(),z.copy(_e).multiplyScalar(F).floor(),V=De;if(ce!==0&&(q=zn),ye.bindFramebuffer(H.FRAMEBUFFER,q)&&le&&ye.drawBuffers(O,q),ye.viewport(D),ye.scissor(z),ye.setScissorTest(V),Ie){const tt=be.get(O.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+Z,tt.__webglTexture,ce)}else if(Ve){const tt=Z;for(let At=0;At<O.textures.length;At++){const He=be.get(O.textures[At]);H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0+At,He.__webglTexture,ce,tt)}}else if(O!==null&&ce!==0){const tt=be.get(O.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,tt.__webglTexture,ce)}R=-1},this.readRenderTargetPixels=function(O,Z,ce,le,q,Ie,Ve,et=0){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let tt=be.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Ve!==void 0&&(tt=tt[Ve]),tt){ye.bindFramebuffer(H.FRAMEBUFFER,tt);try{const At=O.textures[et],He=At.format,Ge=At.type;if(!Ee.textureFormatReadable(He)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ee.textureTypeReadable(Ge)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Z>=0&&Z<=O.width-le&&ce>=0&&ce<=O.height-q&&(O.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+et),H.readPixels(Z,ce,le,q,W.convert(He),W.convert(Ge),Ie))}finally{const At=B!==null?be.get(B).__webglFramebuffer:null;ye.bindFramebuffer(H.FRAMEBUFFER,At)}}},this.readRenderTargetPixelsAsync=async function(O,Z,ce,le,q,Ie,Ve,et=0){if(!(O&&O.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let tt=be.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Ve!==void 0&&(tt=tt[Ve]),tt)if(Z>=0&&Z<=O.width-le&&ce>=0&&ce<=O.height-q){ye.bindFramebuffer(H.FRAMEBUFFER,tt);const At=O.textures[et],He=At.format,Ge=At.type;if(!Ee.textureFormatReadable(He))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ee.textureTypeReadable(Ge))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ut=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,ut),H.bufferData(H.PIXEL_PACK_BUFFER,Ie.byteLength,H.STREAM_READ),O.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+et),H.readPixels(Z,ce,le,q,W.convert(He),W.convert(Ge),0);const xt=B!==null?be.get(B).__webglFramebuffer:null;ye.bindFramebuffer(H.FRAMEBUFFER,xt);const Ct=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),await rH(H,Ct,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,ut),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,Ie),H.deleteBuffer(ut),H.deleteSync(Ct),Ie}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(O,Z=null,ce=0){const le=Math.pow(2,-ce),q=Math.floor(O.image.width*le),Ie=Math.floor(O.image.height*le),Ve=Z!==null?Z.x:0,et=Z!==null?Z.y:0;Ne.setTexture2D(O,0),H.copyTexSubImage2D(H.TEXTURE_2D,ce,0,0,Ve,et,q,Ie),ye.unbindTexture()};const hn=H.createFramebuffer(),nn=H.createFramebuffer();this.copyTextureToTexture=function(O,Z,ce=null,le=null,q=0,Ie=null){Ie===null&&(q!==0?(Mc("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ie=q,q=0):Ie=0);let Ve,et,tt,At,He,Ge,ut,xt,Ct;const Ot=O.isCompressedTexture?O.mipmaps[Ie]:O.image;if(ce!==null)Ve=ce.max.x-ce.min.x,et=ce.max.y-ce.min.y,tt=ce.isBox3?ce.max.z-ce.min.z:1,At=ce.min.x,He=ce.min.y,Ge=ce.isBox3?ce.min.z:0;else{const nr=Math.pow(2,-q);Ve=Math.floor(Ot.width*nr),et=Math.floor(Ot.height*nr),O.isDataArrayTexture?tt=Ot.depth:O.isData3DTexture?tt=Math.floor(Ot.depth*nr):tt=1,At=0,He=0,Ge=0}le!==null?(ut=le.x,xt=le.y,Ct=le.z):(ut=0,xt=0,Ct=0);const kt=W.convert(Z.format),_t=W.convert(Z.type);let pn;Z.isData3DTexture?(Ne.setTexture3D(Z,0),pn=H.TEXTURE_3D):Z.isDataArrayTexture||Z.isCompressedArrayTexture?(Ne.setTexture2DArray(Z,0),pn=H.TEXTURE_2D_ARRAY):(Ne.setTexture2D(Z,0),pn=H.TEXTURE_2D),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Z.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Z.unpackAlignment);const Nt=H.getParameter(H.UNPACK_ROW_LENGTH),ci=H.getParameter(H.UNPACK_IMAGE_HEIGHT),eo=H.getParameter(H.UNPACK_SKIP_PIXELS),Ci=H.getParameter(H.UNPACK_SKIP_ROWS),Is=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,Ot.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Ot.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,At),H.pixelStorei(H.UNPACK_SKIP_ROWS,He),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Ge);const xn=O.isDataArrayTexture||O.isData3DTexture,En=Z.isDataArrayTexture||Z.isData3DTexture;if(O.isDepthTexture){const nr=be.get(O),_i=be.get(Z),bi=be.get(nr.__renderTarget),ko=be.get(_i.__renderTarget);ye.bindFramebuffer(H.READ_FRAMEBUFFER,bi.__webglFramebuffer),ye.bindFramebuffer(H.DRAW_FRAMEBUFFER,ko.__webglFramebuffer);for(let kr=0;kr<tt;kr++)xn&&(H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,be.get(O).__webglTexture,q,Ge+kr),H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,be.get(Z).__webglTexture,Ie,Ct+kr)),H.blitFramebuffer(At,He,Ve,et,ut,xt,Ve,et,H.DEPTH_BUFFER_BIT,H.NEAREST);ye.bindFramebuffer(H.READ_FRAMEBUFFER,null),ye.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else if(q!==0||O.isRenderTargetTexture||be.has(O)){const nr=be.get(O),_i=be.get(Z);ye.bindFramebuffer(H.READ_FRAMEBUFFER,hn),ye.bindFramebuffer(H.DRAW_FRAMEBUFFER,nn);for(let bi=0;bi<tt;bi++)xn?H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,nr.__webglTexture,q,Ge+bi):H.framebufferTexture2D(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,nr.__webglTexture,q),En?H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,_i.__webglTexture,Ie,Ct+bi):H.framebufferTexture2D(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,_i.__webglTexture,Ie),q!==0?H.blitFramebuffer(At,He,Ve,et,ut,xt,Ve,et,H.COLOR_BUFFER_BIT,H.NEAREST):En?H.copyTexSubImage3D(pn,Ie,ut,xt,Ct+bi,At,He,Ve,et):H.copyTexSubImage2D(pn,Ie,ut,xt,At,He,Ve,et);ye.bindFramebuffer(H.READ_FRAMEBUFFER,null),ye.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else En?O.isDataTexture||O.isData3DTexture?H.texSubImage3D(pn,Ie,ut,xt,Ct,Ve,et,tt,kt,_t,Ot.data):Z.isCompressedArrayTexture?H.compressedTexSubImage3D(pn,Ie,ut,xt,Ct,Ve,et,tt,kt,Ot.data):H.texSubImage3D(pn,Ie,ut,xt,Ct,Ve,et,tt,kt,_t,Ot):O.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,Ie,ut,xt,Ve,et,kt,_t,Ot.data):O.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,Ie,ut,xt,Ot.width,Ot.height,kt,Ot.data):H.texSubImage2D(H.TEXTURE_2D,Ie,ut,xt,Ve,et,kt,_t,Ot);H.pixelStorei(H.UNPACK_ROW_LENGTH,Nt),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,ci),H.pixelStorei(H.UNPACK_SKIP_PIXELS,eo),H.pixelStorei(H.UNPACK_SKIP_ROWS,Ci),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Is),Ie===0&&Z.generateMipmaps&&H.generateMipmap(pn),ye.unbindTexture()},this.copyTextureToTexture3D=function(O,Z,ce=null,le=null,q=0){return Mc('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(O,Z,ce,le,q)},this.initRenderTarget=function(O){be.get(O).__webglFramebuffer===void 0&&Ne.setupRenderTarget(O)},this.initTexture=function(O){O.isCubeTexture?Ne.setTextureCube(O,0):O.isData3DTexture?Ne.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?Ne.setTexture2DArray(O,0):Ne.setTexture2D(O,0),ye.unbindTexture()},this.resetState=function(){P=0,b=0,B=null,ye.reset(),oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return br}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=on._getDrawingBufferColorSpace(e),t.unpackColorSpace=on._getUnpackColorSpace()}}const yW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:xM,AddEquation:da,AddOperation:VB,AdditiveAnimationBlendMode:CM,AdditiveBlending:S1,AgXToneMapping:KB,AlphaFormat:MM,AlwaysCompare:cD,AlwaysDepth:s0,AlwaysStencilFunc:E1,AmbientLight:QD,AnimationAction:oL,AnimationClip:Jc,AnimationLoader:I9,AnimationMixer:r8,AnimationObjectGroup:n8,AnimationUtils:C9,ArcCurve:wD,ArrayCamera:iL,ArrowHelper:R8,AttachedBindMode:w1,Audio:rL,AudioAnalyser:X9,AudioContext:sw,AudioListener:V9,AudioLoader:z9,AxesHelper:P8,BackSide:$i,BasicDepthPacking:tD,BasicShadowMap:MB,BatchedMesh:SD,Bone:Gv,BooleanKeyframeTrack:au,Box2:h8,Box3:Ei,Box3Helper:C8,BoxGeometry:ou,BoxHelper:T8,BufferAttribute:un,BufferGeometry:Ht,BufferGeometryLoader:tL,ByteType:_M,Cache:Ws,Camera:Dh,CameraHelper:E8,CanvasTexture:QH,CapsuleGeometry:Xv,CatmullRomCurve3:ED,CineonToneMapping:XB,CircleGeometry:Jv,ClampToEdgeWrapping:Cr,Clock:ow,Color:Ye,ColorKeyframeTrack:$M,ColorManagement:on,CompressedArrayTexture:KH,CompressedCubeTexture:YH,CompressedTexture:jv,CompressedTextureLoader:B9,ConeGeometry:Uh,ConstantAlphaFactor:zB,ConstantColorFactor:UB,Controls:B8,CubeCamera:LM,CubeReflectionMapping:Lo,CubeRefractionMapping:ba,CubeTexture:Lh,CubeTextureLoader:D9,CubeUVReflectionMapping:lf,CubicBezierCurve:WM,CubicBezierCurve3:TD,CubicInterpolant:WD,CullFaceBack:_1,CullFaceFront:AB,CullFaceFrontBack:az,CullFaceNone:SB,Curve:Ps,CurvePath:bD,CustomBlending:wB,CustomToneMapping:JB,CylinderGeometry:Nh,Cylindrical:d8,Data3DTexture:kv,DataArrayTexture:Uv,DataTexture:Ks,DataTextureLoader:L9,DataUtils:xH,DecrementStencilOp:yz,DecrementWrapStencilOp:_z,DefaultLoadingManager:JD,DepthFormat:kc,DepthStencilFormat:zc,DepthTexture:GM,DetachedBindMode:QB,DirectionalLight:rw,DirectionalLightHelper:w8,DiscreteInterpolant:jD,DodecahedronGeometry:Kv,DoubleSide:ts,DstAlphaFactor:DB,DstColorFactor:OB,DynamicCopyUsage:Oz,DynamicDrawUsage:Rz,DynamicReadUsage:Bz,EdgesGeometry:MD,EllipseCurve:Yv,EqualCompare:oD,EqualDepth:a0,EqualStencilFunc:wz,EquirectangularReflectionMapping:lh,EquirectangularRefractionMapping:uh,Euler:Lr,EventDispatcher:$s,ExtrudeGeometry:Qv,FileLoader:Or,Float16BufferAttribute:TH,Float32BufferAttribute:vt,FloatType:pr,Fog:Hv,FogExp2:zv,FramebufferTexture:JH,FrontSide:qs,Frustum:cf,FrustumArray:Vv,GLBufferAttribute:u8,GLSL1:Nz,GLSL3:T1,GreaterCompare:aD,GreaterDepth:u0,GreaterEqualCompare:uD,GreaterEqualDepth:l0,GreaterEqualStencilFunc:bz,GreaterStencilFunc:Tz,GridHelper:A8,Group:Ao,HalfFloatType:uf,HemisphereLight:YD,HemisphereLightHelper:S8,IcosahedronGeometry:qv,ImageBitmapLoader:nL,ImageLoader:vh,ImageUtils:pD,IncrementStencilOp:vz,IncrementWrapStencilOp:xz,InstancedBufferAttribute:Yl,InstancedBufferGeometry:eL,InstancedInterleavedBuffer:l8,InstancedMesh:kM,Int16BufferAttribute:wH,Int32BufferAttribute:EH,Int8BufferAttribute:SH,IntType:Iv,InterleavedBuffer:Oh,InterleavedBufferAttribute:Pa,Interpolant:df,InterpolateDiscrete:Hc,InterpolateLinear:Gc,InterpolateSmooth:_g,InterpolationSamplingMode:zz,InterpolationSamplingType:kz,InvertStencilOp:Sz,KeepStencilOp:gl,KeyframeTrack:us,LOD:_D,LatheGeometry:Zv,Layers:Ul,LessCompare:sD,LessDepth:o0,LessEqualCompare:RM,LessEqualDepth:Jl,LessEqualStencilFunc:Ez,LessStencilFunc:Mz,Light:ka,LightProbe:$D,Line:Fo,Line3:g8,LineBasicMaterial:Vi,LineCurve:jM,LineCurve3:CD,LineDashedMaterial:HD,LineLoop:zM,LineSegments:Rs,LinearFilter:Yn,LinearInterpolant:ZM,LinearMipMapLinearFilter:fz,LinearMipMapNearestFilter:cz,LinearMipmapLinearFilter:is,LinearMipmapNearestFilter:Ac,LinearSRGBColorSpace:Kl,LinearToneMapping:WB,LinearTransfer:fh,Loader:Wi,LoaderUtils:Ea,LoadingManager:ew,LoopOnce:qB,LoopPingPong:$B,LoopRepeat:ZB,MOUSE:pl,Material:ai,MaterialLoader:sy,MathUtils:fD,Matrix2:cw,Matrix3:Wt,Matrix4:Pt,MaxEquation:bB,Mesh:Qn,MeshBasicMaterial:Rr,MeshDepthMaterial:YM,MeshDistanceMaterial:QM,MeshLambertMaterial:kD,MeshMatcapMaterial:zD,MeshNormalMaterial:UD,MeshPhongMaterial:FD,MeshPhysicalMaterial:ls,MeshStandardMaterial:Hh,MeshToonMaterial:ND,MinEquation:CB,MirroredRepeatWrapping:Fc,MixOperation:GB,MultiplyBlending:M1,MultiplyOperation:Ih,NearestFilter:vi,NearestMipMapLinearFilter:uz,NearestMipMapNearestFilter:lz,NearestMipmapLinearFilter:Cl,NearestMipmapNearestFilter:Pv,NeutralToneMapping:YB,NeverCompare:rD,NeverDepth:r0,NeverStencilFunc:Az,NoBlending:Eo,NoColorSpace:yo,NoToneMapping:Js,NormalAnimationBlendMode:Nv,NormalBlending:Fl,NotEqualCompare:lD,NotEqualDepth:c0,NotEqualStencilFunc:Cz,NumberKeyframeTrack:ql,Object3D:rn,ObjectLoader:U9,ObjectSpaceNormalMap:iD,OctahedronGeometry:kh,OneFactor:PB,OneMinusConstantAlphaFactor:HB,OneMinusConstantColorFactor:kB,OneMinusDstAlphaFactor:LB,OneMinusDstColorFactor:FB,OneMinusSrcAlphaFactor:i0,OneMinusSrcColorFactor:BB,OrthographicCamera:Ts,PCFShadowMap:bv,PCFSoftShadowMap:Rd,PMREMGenerator:L1,Path:H0,PerspectiveCamera:In,Plane:vo,PlaneGeometry:ff,PlaneHelper:b8,PointLight:iw,PointLightHelper:x8,Points:HM,PointsMaterial:Wv,PolarGridHelper:M8,PolyhedronGeometry:Ua,PositionalAudio:j9,PropertyBinding:sn,PropertyMixer:sL,QuadraticBezierCurve:XM,QuadraticBezierCurve3:JM,Quaternion:yi,QuaternionKeyframeTrack:Zl,QuaternionLinearInterpolant:XD,RED_GREEN_RGTC2_Format:O0,RED_RGTC1_Format:TM,REVISION:Ph,RGBADepthPacking:nD,RGBAFormat:zi,RGBAIntegerFormat:Fv,RGBA_ASTC_10x10_Format:R0,RGBA_ASTC_10x5_Format:T0,RGBA_ASTC_10x6_Format:C0,RGBA_ASTC_10x8_Format:b0,RGBA_ASTC_12x10_Format:P0,RGBA_ASTC_12x12_Format:I0,RGBA_ASTC_4x4_Format:y0,RGBA_ASTC_5x4_Format:x0,RGBA_ASTC_5x5_Format:_0,RGBA_ASTC_6x5_Format:S0,RGBA_ASTC_6x6_Format:A0,RGBA_ASTC_8x5_Format:M0,RGBA_ASTC_8x6_Format:w0,RGBA_ASTC_8x8_Format:E0,RGBA_BPTC_Format:Ld,RGBA_ETC2_EAC_Format:v0,RGBA_PVRTC_2BPPV1_Format:p0,RGBA_PVRTC_4BPPV1_Format:h0,RGBA_S3TC_DXT1_Format:Id,RGBA_S3TC_DXT3_Format:Bd,RGBA_S3TC_DXT5_Format:Dd,RGBDepthPacking:hz,RGBFormat:wM,RGBIntegerFormat:dz,RGB_BPTC_SIGNED_Format:B0,RGB_BPTC_UNSIGNED_Format:D0,RGB_ETC1_Format:m0,RGB_ETC2_Format:g0,RGB_PVRTC_2BPPV1_Format:d0,RGB_PVRTC_4BPPV1_Format:f0,RGB_S3TC_DXT1_Format:Pd,RGDepthPacking:pz,RGFormat:EM,RGIntegerFormat:Ov,RawShaderMaterial:OD,Ray:su,Raycaster:aL,RectAreaLight:qD,RedFormat:Lv,RedIntegerFormat:Bh,ReinhardToneMapping:jB,RenderTarget:IM,RenderTarget3D:s8,RepeatWrapping:Ra,ReplaceStencilOp:gz,ReverseSubtractEquation:TB,RingGeometry:$v,SIGNED_RED_GREEN_RGTC2_Format:F0,SIGNED_RED_RGTC1_Format:L0,SRGBColorSpace:cr,SRGBTransfer:mn,Scene:FM,ShaderChunk:Xt,ShaderLib:As,ShaderMaterial:bs,ShadowMaterial:LD,Shape:kl,ShapeGeometry:ey,ShapePath:I8,ShapeUtils:Ms,ShortType:SM,Skeleton:Fh,SkeletonHelper:y8,SkinnedMesh:UM,Source:ga,Sphere:xi,SphereGeometry:zh,Spherical:B1,SphericalHarmonics3:ZD,SplineCurve:KM,SpotLight:nw,SpotLightHelper:v8,Sprite:xD,SpriteMaterial:NM,SrcAlphaFactor:n0,SrcAlphaSaturateFactor:NB,SrcColorFactor:IB,StaticCopyUsage:Lz,StaticDrawUsage:dh,StaticReadUsage:Iz,StereoCamera:H9,StreamCopyUsage:Fz,StreamDrawUsage:Pz,StreamReadUsage:Dz,StringKeyframeTrack:lu,SubtractEquation:EB,SubtractiveBlending:A1,TOUCH:ml,TangentSpaceNormalMap:Na,TetrahedronGeometry:ty,Texture:Bn,TextureLoader:KD,TextureUtils:N8,Timer:c8,TimestampQuery:Uz,TorusGeometry:ny,TorusKnotGeometry:iy,Triangle:dr,TriangleFanDrawMode:N0,TriangleStripDrawMode:bM,TrianglesDrawMode:eD,TubeGeometry:ry,UVMapping:Rv,Uint16BufferAttribute:BM,Uint32BufferAttribute:DM,Uint8BufferAttribute:AH,Uint8ClampedBufferAttribute:MH,Uniform:uw,UniformsGroup:a8,UniformsLib:Je,UniformsUtils:vD,UnsignedByteType:as,UnsignedInt248Type:Uc,UnsignedInt5999Type:AM,UnsignedIntType:Oo,UnsignedShort4444Type:Bv,UnsignedShort5551Type:Dv,UnsignedShortType:Nc,VSMShadowMap:ys,Vector2:xe,Vector3:N,Vector4:an,VectorKeyframeTrack:$l,VideoFrameTexture:XH,VideoTexture:AD,WebGL3DRenderTarget:uH,WebGLArrayRenderTarget:lH,WebGLCoordinateSystem:br,WebGLCubeRenderTarget:OM,WebGLRenderTarget:Zs,WebGLRenderer:gL,WebGLUtils:pL,WebGPUCoordinateSystem:Vc,WebXRController:Sg,WireframeGeometry:DD,WrapAroundEnding:ch,ZeroCurvatureEnding:bl,ZeroFactor:RB,ZeroSlopeEnding:Rl,ZeroStencilOp:mz,createCanvasElement:hD},Symbol.toStringTag,{value:"Module"}));var vL={exports:{}},uu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */uu.ConcurrentRoot=1;uu.ContinuousEventPriority=4;uu.DefaultEventPriority=16;uu.DiscreteEventPriority=1;uu.IdleEventPriority=536870912;uu.LegacyRoot=0;vL.exports=uu;var cc=vL.exports;function xW(n){let e;const t=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const v=d(e);if(!h(p,v)){const _=p;u(p=v,_)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,d,h)=>d||h?s(u,d,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const _W=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Nb=_W?G.useEffect:G.useLayoutEffect;function SW(n){const e=typeof n=="function"?xW(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=G.useReducer(x=>x+1,0),o=e.getState(),a=G.useRef(o),l=G.useRef(i),u=G.useRef(r),d=G.useRef(!1),h=G.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),Nb(()=>{m&&(h.current=p),a.current=o,l.current=i,u.current=r,d.current=!1});const v=G.useRef(o);Nb(()=>{const x=()=>{try{const S=e.getState(),A=l.current(S);u.current(h.current,A)||(a.current=S,h.current=A,s())}catch{d.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const _=m?p:h.current;return G.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const AW=n=>typeof n=="object"&&typeof n.then=="function",Il=[];function yL(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function xL(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Il)if(yL(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Il.indexOf(r);s!==-1&&Il.splice(s,1)},promise:(AW(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Il.push(r),!t)throw r.promise}const MW=(n,e,t)=>xL(n,e,!1,t),wW=(n,e,t)=>void xL(n,e,!0,t),EW=n=>{if(n===void 0||n.length===0)Il.splice(0,Il.length);else{const e=Il.find(t=>yL(n,t.keys,t.equal));e&&e.remove()}};var _L={exports:{}},SL={exports:{}},AL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,K){var Y=F.length;F.push(K);e:for(;0<Y;){var ae=Y-1>>>1,_e=F[ae];if(0<r(_e,K))F[ae]=K,F[Y]=_e,Y=ae;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],Y=F.pop();if(Y!==K){F[0]=Y;e:for(var ae=0,_e=F.length,De=_e>>>1;ae<De;){var it=2*(ae+1)-1,se=F[it],Te=it+1,Ce=F[Te];if(0>r(se,Y))Te<_e&&0>r(Ce,se)?(F[ae]=Ce,F[Te]=Y,ae=Te):(F[ae]=se,F[it]=Y,ae=it);else if(Te<_e&&0>r(Ce,Y))F[ae]=Ce,F[Te]=Y,ae=Te;else break e}}return K}function r(F,K){var Y=F.sortIndex-K.sortIndex;return Y!==0?Y:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var K=t(u);K!==null;){if(K.callback===null)i(u);else if(K.startTime<=F)i(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(u)}}function w(F){if(_=!1,A(F),!v)if(t(l)!==null)v=!0,ie(C);else{var K=t(u);K!==null&&re(w,K.startTime-F)}}function C(F,K){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var Y=p;try{for(A(K),h=t(l);h!==null&&(!(h.expirationTime>K)||F&&!D());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var _e=ae(h.expirationTime<=K);K=n.unstable_now(),typeof _e=="function"?h.callback=_e:h===t(l)&&i(l),A(K)}else i(l);h=t(l)}if(h!==null)var De=!0;else{var it=t(u);it!==null&&re(w,it.startTime-K),De=!1}return De}finally{h=null,p=Y,m=!1}}var P=!1,b=null,B=-1,R=5,T=-1;function D(){return!(n.unstable_now()-T<R)}function z(){if(b!==null){var F=n.unstable_now();T=F;var K=!0;try{K=b(!0,F)}finally{K?V():(P=!1,b=null)}}else P=!1}var V;if(typeof S=="function")V=function(){S(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=z,V=function(){ne.postMessage(null)}}else V=function(){x(z,0)};function ie(F){b=F,P||(P=!0,V())}function re(F,K){B=x(function(){F(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Y=p;p=K;try{return F()}finally{p=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=p;p=F;try{return K()}finally{p=Y}},n.unstable_scheduleCallback=function(F,K,Y){var ae=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,F){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=Y+_e,F={id:d++,callback:K,priorityLevel:F,startTime:Y,expirationTime:_e,sortIndex:-1},Y>ae?(F.sortIndex=Y,e(u,F),t(l)===null&&F===t(u)&&(_?(g(B),B=-1):_=!0,re(w,Y-ae))):(F.sortIndex=_e,e(l,F),v||m||(v=!0,ie(C))),F},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(F){var K=p;return function(){var Y=p;p=K;try{return F.apply(this,arguments)}finally{p=Y}}}})(AL);SL.exports=AL;var F1=SL.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TW=function(e){var t={},i=G,r=F1,s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=C&&c[C]||c["@@iterator"],typeof c=="function"?c:null)}function b(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case _:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return f=c.displayName||null,f!==null?f:b(c.type)||"Memo";case A:f=c._payload,c=c._init;try{return b(c(f))}catch{}}return null}function B(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function T(c){if(R(c)!==c)throw Error(o(188))}function D(c){var f=c.alternate;if(!f){if(f=R(c),f===null)throw Error(o(188));return f!==c?null:c}for(var y=c,M=f;;){var E=y.return;if(E===null)break;var I=E.alternate;if(I===null){if(M=E.return,M!==null){y=M;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===y)return T(E),c;if(I===M)return T(E),f;I=I.sibling}throw Error(o(188))}if(y.return!==M.return)y=E,M=I;else{for(var k=!1,Q=E.child;Q;){if(Q===y){k=!0,y=E,M=I;break}if(Q===M){k=!0,M=E,y=I;break}Q=Q.sibling}if(!k){for(Q=I.child;Q;){if(Q===y){k=!0,y=I,M=E;break}if(Q===M){k=!0,M=I,y=E;break}Q=Q.sibling}if(!k)throw Error(o(189))}}if(y.alternate!==M)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?c:f}function z(c){return c=D(c),c!==null?V(c):null}function V(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=V(c);if(f!==null)return f;c=c.sibling}return null}function J(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=J(c);if(f!==null)return f}c=c.sibling}return null}var ne=Array.isArray,ie=e.getPublicInstance,re=e.getRootHostContext,F=e.getChildHostContext,K=e.prepareForCommit,Y=e.resetAfterCommit,ae=e.createInstance,_e=e.appendInitialChild,De=e.finalizeInitialChildren,it=e.prepareUpdate,se=e.shouldSetTextContent,Te=e.createTextInstance,Ce=e.scheduleTimeout,ct=e.cancelTimeout,st=e.noTimeout,rt=e.isPrimaryRenderer,ht=e.supportsMutation,Qe=e.supportsPersistence,H=e.supportsHydration,Ae=e.getInstanceFromNode,ve=e.preparePortalMount,Ee=e.getCurrentEventPriority,ye=e.detachDeletedInstance,ke=e.supportsMicrotasks,be=e.scheduleMicrotask,Ne=e.supportsTestSelectors,It=e.findFiberRoot,Tt=e.getBoundingRect,U=e.getTextContent,L=e.isHiddenSubtree,te=e.matchAccessibilityRole,de=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,he=e.appendChild,$e=e.appendChildToContainer,Ue=e.commitTextUpdate,ot=e.commitMount,ft=e.commitUpdate,Pe=e.insertBefore,je=e.insertInContainerBefore,wt=e.removeChild,W=e.removeChildFromContainer,oe=e.resetTextContent,Oe=e.hideInstance,j=e.hideTextInstance,we=e.unhideInstance,Le=e.unhideTextInstance,Xe=e.clearContainer,Be=e.cloneInstance,Se=e.createContainerChildSet,qe=e.appendChildToContainerChildSet,St=e.finalizeContainerChildren,Jt=e.replaceContainerChildren,zt=e.cloneHiddenInstance,qn=e.cloneHiddenTextInstance,ii=e.canHydrateInstance,X=e.canHydrateTextInstance,$=e.canHydrateSuspenseInstance,fe=e.isSuspenseInstancePending,Re=e.isSuspenseInstanceFallback,We=e.registerSuspenseInstanceRetry,pt=e.getNextHydratableSibling,Bt=e.getFirstHydratableChild,at=e.getFirstHydratableChildWithinContainer,mt=e.getFirstHydratableChildWithinSuspenseInstance,lt=e.hydrateInstance,yt=e.hydrateTextInstance,Ut=e.hydrateSuspenseInstance,Qt=e.getNextHydratableInstanceAfterSuspenseInstance,zn=e.commitHydratedContainer,hn=e.commitHydratedSuspenseInstance,nn=e.clearSuspenseBoundary,O=e.clearSuspenseBoundaryFromContainer,Z=e.shouldDeleteUnhydratedTailInstances,ce=e.didNotMatchHydratedContainerTextInstance,le=e.didNotMatchHydratedTextInstance,q;function Ie(c){if(q===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);q=f&&f[1]||""}return`
`+q+c}var Ve=!1;function et(c,f){if(!c||Ve)return"";Ve=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(ze){var M=ze}Reflect.construct(c,[],f)}else{try{f.call()}catch(ze){M=ze}c.call(f.prototype)}else{try{throw Error()}catch(ze){M=ze}c()}}catch(ze){if(ze&&M&&typeof ze.stack=="string"){for(var E=ze.stack.split(`
`),I=M.stack.split(`
`),k=E.length-1,Q=I.length-1;1<=k&&0<=Q&&E[k]!==I[Q];)Q--;for(;1<=k&&0<=Q;k--,Q--)if(E[k]!==I[Q]){if(k!==1||Q!==1)do if(k--,Q--,0>Q||E[k]!==I[Q]){var ge=`
`+E[k].replace(" at new "," at ");return c.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",c.displayName)),ge}while(1<=k&&0<=Q);break}}}finally{Ve=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?Ie(c):""}var tt=Object.prototype.hasOwnProperty,At=[],He=-1;function Ge(c){return{current:c}}function ut(c){0>He||(c.current=At[He],At[He]=null,He--)}function xt(c,f){He++,At[He]=c.current,c.current=f}var Ct={},Ot=Ge(Ct),kt=Ge(!1),_t=Ct;function pn(c,f){var y=c.type.contextTypes;if(!y)return Ct;var M=c.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var E={},I;for(I in y)E[I]=f[I];return M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=E),E}function Nt(c){return c=c.childContextTypes,c!=null}function ci(){ut(kt),ut(Ot)}function eo(c,f,y){if(Ot.current!==Ct)throw Error(o(168));xt(Ot,f),xt(kt,y)}function Ci(c,f,y){var M=c.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return y;M=M.getChildContext();for(var E in M)if(!(E in f))throw Error(o(108,B(c)||"Unknown",E));return s({},y,M)}function Is(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ct,_t=Ot.current,xt(Ot,c),xt(kt,kt.current),!0}function xn(c,f,y){var M=c.stateNode;if(!M)throw Error(o(169));y?(c=Ci(c,f,_t),M.__reactInternalMemoizedMergedChildContext=c,ut(kt),ut(Ot),xt(Ot,c)):ut(kt),xt(kt,y)}var En=Math.clz32?Math.clz32:bi,nr=Math.log,_i=Math.LN2;function bi(c){return c>>>=0,c===0?32:31-(nr(c)/_i|0)|0}var ko=64,kr=4194304;function vf(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Qh(c,f){var y=c.pendingLanes;if(y===0)return 0;var M=0,E=c.suspendedLanes,I=c.pingedLanes,k=y&268435455;if(k!==0){var Q=k&~E;Q!==0?M=vf(Q):(I&=k,I!==0&&(M=vf(I)))}else k=y&~E,k!==0?M=vf(k):I!==0&&(M=vf(I));if(M===0)return 0;if(f!==0&&f!==M&&!(f&E)&&(E=M&-M,I=f&-f,E>=I||E===16&&(I&4194240)!==0))return f;if(M&4&&(M|=y&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=M;0<f;)y=31-En(f),E=1<<y,M|=c[y],f&=~E;return M}function cN(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fN(c,f){for(var y=c.suspendedLanes,M=c.pingedLanes,E=c.expirationTimes,I=c.pendingLanes;0<I;){var k=31-En(I),Q=1<<k,ge=E[k];ge===-1?(!(Q&y)||Q&M)&&(E[k]=cN(Q,f)):ge<=f&&(c.expiredLanes|=Q),I&=~Q}}function xy(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function _y(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function yf(c,f,y){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-En(f),c[f]=y}function dN(c,f){var y=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var M=c.eventTimes;for(c=c.expirationTimes;0<y;){var E=31-En(y),I=1<<E;f[E]=0,M[E]=-1,c[E]=-1,y&=~I}}function Sy(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var M=31-En(y),E=1<<M;E&f|c[M]&f&&(c[M]|=f),y&=~E}}var cn=0;function $w(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Ay=r.unstable_scheduleCallback,eE=r.unstable_cancelCallback,hN=r.unstable_shouldYield,pN=r.unstable_requestPaint,fi=r.unstable_now,My=r.unstable_ImmediatePriority,mN=r.unstable_UserBlockingPriority,wy=r.unstable_NormalPriority,gN=r.unstable_IdlePriority,qh=null,Bs=null;function vN(c){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(qh,c,void 0,(c.current.flags&128)===128)}catch{}}function yN(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Ds=typeof Object.is=="function"?Object.is:yN,to=null,Zh=!1,Ey=!1;function tE(c){to===null?to=[c]:to.push(c)}function xN(c){Zh=!0,tE(c)}function Ls(){if(!Ey&&to!==null){Ey=!0;var c=0,f=cn;try{var y=to;for(cn=1;c<y.length;c++){var M=y[c];do M=M(!0);while(M!==null)}to=null,Zh=!1}catch(E){throw to!==null&&(to=to.slice(c+1)),Ay(My,Ls),E}finally{cn=f,Ey=!1}}return null}var _N=a.ReactCurrentBatchConfig;function $h(c,f){if(Ds(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),M=Object.keys(f);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var E=y[M];if(!tt.call(f,E)||!Ds(c[E],f[E]))return!1}return!0}function SN(c){switch(c.tag){case 5:return Ie(c.type);case 16:return Ie("Lazy");case 13:return Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 2:case 15:return c=et(c.type,!1),c;case 11:return c=et(c.type.render,!1),c;case 1:return c=et(c.type,!0),c;default:return""}}function cs(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var y in c)f[y]===void 0&&(f[y]=c[y]);return f}return f}var ep=Ge(null),tp=null,fu=null,Ty=null;function Cy(){Ty=fu=tp=null}function nE(c,f,y){rt?(xt(ep,f._currentValue),f._currentValue=y):(xt(ep,f._currentValue2),f._currentValue2=y)}function by(c){var f=ep.current;ut(ep),rt?c._currentValue=f:c._currentValue2=f}function Ry(c,f,y){for(;c!==null;){var M=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),c===y)break;c=c.return}}function du(c,f){tp=c,Ty=fu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(_r=!0),c.firstContext=null)}function zr(c){var f=rt?c._currentValue:c._currentValue2;if(Ty!==c)if(c={context:c,memoizedValue:f,next:null},fu===null){if(tp===null)throw Error(o(308));fu=c,tp.dependencies={lanes:0,firstContext:c}}else fu=fu.next=c;return f}var Os=null,zo=!1;function Py(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iE(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function no(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Ho(c,f){var y=c.updateQueue;y!==null&&(y=y.shared,Zn!==null&&c.mode&1&&!(Yt&2)?(c=y.interleaved,c===null?(f.next=f,Os===null?Os=[y]:Os.push(y)):(f.next=c.next,c.next=f),y.interleaved=f):(c=y.pending,c===null?f.next=f:(f.next=c.next,c.next=f),y.pending=f))}function np(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var M=f.lanes;M&=c.pendingLanes,y|=M,f.lanes=y,Sy(c,y)}}function rE(c,f){var y=c.updateQueue,M=c.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var E=null,I=null;if(y=y.firstBaseUpdate,y!==null){do{var k={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};I===null?E=I=k:I=I.next=k,y=y.next}while(y!==null);I===null?E=I=f:I=I.next=f}else E=I=f;y={baseState:M.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:M.shared,effects:M.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function ip(c,f,y,M){var E=c.updateQueue;zo=!1;var I=E.firstBaseUpdate,k=E.lastBaseUpdate,Q=E.shared.pending;if(Q!==null){E.shared.pending=null;var ge=Q,ze=ge.next;ge.next=null,k===null?I=ze:k.next=ze,k=ge;var gt=c.alternate;gt!==null&&(gt=gt.updateQueue,Q=gt.lastBaseUpdate,Q!==k&&(Q===null?gt.firstBaseUpdate=ze:Q.next=ze,gt.lastBaseUpdate=ge))}if(I!==null){var Gt=E.baseState;k=0,gt=ze=ge=null,Q=I;do{var bt=Q.lane,yn=Q.eventTime;if((M&bt)===bt){gt!==null&&(gt=gt.next={eventTime:yn,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Et=c,Bi=Q;switch(bt=f,yn=y,Bi.tag){case 1:if(Et=Bi.payload,typeof Et=="function"){Gt=Et.call(yn,Gt,bt);break e}Gt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Bi.payload,bt=typeof Et=="function"?Et.call(yn,Gt,bt):Et,bt==null)break e;Gt=s({},Gt,bt);break e;case 2:zo=!0}}Q.callback!==null&&Q.lane!==0&&(c.flags|=64,bt=E.effects,bt===null?E.effects=[Q]:bt.push(Q))}else yn={eventTime:yn,lane:bt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},gt===null?(ze=gt=yn,ge=Gt):gt=gt.next=yn,k|=bt;if(Q=Q.next,Q===null){if(Q=E.shared.pending,Q===null)break;bt=Q,Q=bt.next,bt.next=null,E.lastBaseUpdate=bt,E.shared.pending=null}}while(!0);if(gt===null&&(ge=Gt),E.baseState=ge,E.firstBaseUpdate=ze,E.lastBaseUpdate=gt,f=E.shared.interleaved,f!==null){E=f;do k|=E.lane,E=E.next;while(E!==f)}else I===null&&(E.shared.lanes=0);Su|=k,c.lanes=k,c.memoizedState=Gt}}function sE(c,f,y){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var M=c[f],E=M.callback;if(E!==null){if(M.callback=null,M=y,typeof E!="function")throw Error(o(191,E));E.call(M)}}}var oE=new i.Component().refs;function Iy(c,f,y,M){f=c.memoizedState,y=y(M,f),y=y==null?f:s({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var rp={isMounted:function(c){return(c=c._reactInternals)?R(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var M=Xi(),E=Wo(c),I=no(M,E);I.payload=f,y!=null&&(I.callback=y),Ho(c,I),f=jr(c,E,M),f!==null&&np(f,c,E)},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var M=Xi(),E=Wo(c),I=no(M,E);I.tag=1,I.payload=f,y!=null&&(I.callback=y),Ho(c,I),f=jr(c,E,M),f!==null&&np(f,c,E)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=Xi(),M=Wo(c),E=no(y,M);E.tag=2,f!=null&&(E.callback=f),Ho(c,E),f=jr(c,M,y),f!==null&&np(f,c,M)}};function aE(c,f,y,M,E,I,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(M,I,k):f.prototype&&f.prototype.isPureReactComponent?!$h(y,M)||!$h(E,I):!0}function lE(c,f,y){var M=!1,E=Ct,I=f.contextType;return typeof I=="object"&&I!==null?I=zr(I):(E=Nt(f)?_t:Ot.current,M=f.contextTypes,I=(M=M!=null)?pn(c,E):Ct),f=new f(y,I),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rp,c.stateNode=f,f._reactInternals=c,M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=I),f}function uE(c,f,y,M){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,M),f.state!==c&&rp.enqueueReplaceState(f,f.state,null)}function By(c,f,y,M){var E=c.stateNode;E.props=y,E.state=c.memoizedState,E.refs=oE,Py(c);var I=f.contextType;typeof I=="object"&&I!==null?E.context=zr(I):(I=Nt(f)?_t:Ot.current,E.context=pn(c,I)),E.state=c.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(Iy(c,f,I,y),E.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&rp.enqueueReplaceState(E,E.state,null),ip(c,y,E,M),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}var hu=[],pu=0,sp=null,op=0,Hr=[],Gr=0,Ha=null,io=1,ro="";function Ga(c,f){hu[pu++]=op,hu[pu++]=sp,sp=c,op=f}function cE(c,f,y){Hr[Gr++]=io,Hr[Gr++]=ro,Hr[Gr++]=Ha,Ha=c;var M=io;c=ro;var E=32-En(M)-1;M&=~(1<<E),y+=1;var I=32-En(f)+E;if(30<I){var k=E-E%5;I=(M&(1<<k)-1).toString(32),M>>=k,E-=k,io=1<<32-En(f)+E|y<<E|M,ro=I+c}else io=1<<I|y<<E|M,ro=c}function Dy(c){c.return!==null&&(Ga(c,1),cE(c,1,0))}function Ly(c){for(;c===sp;)sp=hu[--pu],hu[pu]=null,op=hu[--pu],hu[pu]=null;for(;c===Ha;)Ha=Hr[--Gr],Hr[Gr]=null,ro=Hr[--Gr],Hr[Gr]=null,io=Hr[--Gr],Hr[Gr]=null}var yr=null,xr=null,Tn=!1,xf=!1,fs=null;function fE(c,f){var y=Xr(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=c,f=c.deletions,f===null?(c.deletions=[y],c.flags|=16):f.push(y)}function dE(c,f){switch(c.tag){case 5:return f=ii(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,yr=c,xr=Bt(f),!0):!1;case 6:return f=X(f,c.pendingProps),f!==null?(c.stateNode=f,yr=c,xr=null,!0):!1;case 13:if(f=$(f),f!==null){var y=Ha!==null?{id:io,overflow:ro}:null;return c.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=Xr(18,null,null,0),y.stateNode=f,y.return=c,c.child=y,yr=c,xr=null,!0}return!1;default:return!1}}function Oy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Fy(c){if(Tn){var f=xr;if(f){var y=f;if(!dE(c,f)){if(Oy(c))throw Error(o(418));f=pt(y);var M=yr;f&&dE(c,f)?fE(M,y):(c.flags=c.flags&-4097|2,Tn=!1,yr=c)}}else{if(Oy(c))throw Error(o(418));c.flags=c.flags&-4097|2,Tn=!1,yr=c}}}function hE(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;yr=c}function _f(c){if(!H||c!==yr)return!1;if(!Tn)return hE(c),Tn=!0,!1;if(c.tag!==3&&(c.tag!==5||Z(c.type)&&!se(c.type,c.memoizedProps))){var f=xr;if(f){if(Oy(c)){for(c=xr;c;)c=pt(c);throw Error(o(418))}for(;f;)fE(c,f),f=pt(f)}}if(hE(c),c.tag===13){if(!H)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));xr=Qt(c)}else xr=yr?pt(c.stateNode):null;return!0}function mu(){H&&(xr=yr=null,xf=Tn=!1)}function Ny(c){fs===null?fs=[c]:fs.push(c)}function Sf(c,f,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var M=y.stateNode}if(!M)throw Error(o(147,c));var E=M,I=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===I?f.ref:(f=function(k){var Q=E.refs;Q===oE&&(Q=E.refs={}),k===null?delete Q[I]:Q[I]=k},f._stringRef=I,f)}if(typeof c!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,c))}return c}function ap(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function pE(c){var f=c._init;return f(c._payload)}function mE(c){function f(ue,ee){if(c){var pe=ue.deletions;pe===null?(ue.deletions=[ee],ue.flags|=16):pe.push(ee)}}function y(ue,ee){if(!c)return null;for(;ee!==null;)f(ue,ee),ee=ee.sibling;return null}function M(ue,ee){for(ue=new Map;ee!==null;)ee.key!==null?ue.set(ee.key,ee):ue.set(ee.index,ee),ee=ee.sibling;return ue}function E(ue,ee){return ue=Xo(ue,ee),ue.index=0,ue.sibling=null,ue}function I(ue,ee,pe){return ue.index=pe,c?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<ee?(ue.flags|=2,ee):pe):(ue.flags|=2,ee)):(ue.flags|=1048576,ee)}function k(ue){return c&&ue.alternate===null&&(ue.flags|=2),ue}function Q(ue,ee,pe,nt){return ee===null||ee.tag!==6?(ee=_x(pe,ue.mode,nt),ee.return=ue,ee):(ee=E(ee,pe),ee.return=ue,ee)}function ge(ue,ee,pe,nt){var Mt=pe.type;return Mt===d?gt(ue,ee,pe.props.children,nt,pe.key):ee!==null&&(ee.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===A&&pE(Mt)===ee.type)?(nt=E(ee,pe.props),nt.ref=Sf(ue,ee,pe),nt.return=ue,nt):(nt=Up(pe.type,pe.key,pe.props,null,ue.mode,nt),nt.ref=Sf(ue,ee,pe),nt.return=ue,nt)}function ze(ue,ee,pe,nt){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==pe.containerInfo||ee.stateNode.implementation!==pe.implementation?(ee=Sx(pe,ue.mode,nt),ee.return=ue,ee):(ee=E(ee,pe.children||[]),ee.return=ue,ee)}function gt(ue,ee,pe,nt,Mt){return ee===null||ee.tag!==7?(ee=Ya(pe,ue.mode,nt,Mt),ee.return=ue,ee):(ee=E(ee,pe),ee.return=ue,ee)}function Gt(ue,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=_x(""+ee,ue.mode,pe),ee.return=ue,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:return pe=Up(ee.type,ee.key,ee.props,null,ue.mode,pe),pe.ref=Sf(ue,null,ee),pe.return=ue,pe;case u:return ee=Sx(ee,ue.mode,pe),ee.return=ue,ee;case A:var nt=ee._init;return Gt(ue,nt(ee._payload),pe)}if(ne(ee)||P(ee))return ee=Ya(ee,ue.mode,pe,null),ee.return=ue,ee;ap(ue,ee)}return null}function bt(ue,ee,pe,nt){var Mt=ee!==null?ee.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Mt!==null?null:Q(ue,ee,""+pe,nt);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return pe.key===Mt?ge(ue,ee,pe,nt):null;case u:return pe.key===Mt?ze(ue,ee,pe,nt):null;case A:return Mt=pe._init,bt(ue,ee,Mt(pe._payload),nt)}if(ne(pe)||P(pe))return Mt!==null?null:gt(ue,ee,pe,nt,null);ap(ue,pe)}return null}function yn(ue,ee,pe,nt,Mt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return ue=ue.get(pe)||null,Q(ee,ue,""+nt,Mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case l:return ue=ue.get(nt.key===null?pe:nt.key)||null,ge(ee,ue,nt,Mt);case u:return ue=ue.get(nt.key===null?pe:nt.key)||null,ze(ee,ue,nt,Mt);case A:var Kt=nt._init;return yn(ue,ee,pe,Kt(nt._payload),Mt)}if(ne(nt)||P(nt))return ue=ue.get(pe)||null,gt(ee,ue,nt,Mt,null);ap(ee,nt)}return null}function Et(ue,ee,pe,nt){for(var Mt=null,Kt=null,Vt=ee,fn=ee=0,hi=null;Vt!==null&&fn<pe.length;fn++){Vt.index>fn?(hi=Vt,Vt=null):hi=Vt.sibling;var dn=bt(ue,Vt,pe[fn],nt);if(dn===null){Vt===null&&(Vt=hi);break}c&&Vt&&dn.alternate===null&&f(ue,Vt),ee=I(dn,ee,fn),Kt===null?Mt=dn:Kt.sibling=dn,Kt=dn,Vt=hi}if(fn===pe.length)return y(ue,Vt),Tn&&Ga(ue,fn),Mt;if(Vt===null){for(;fn<pe.length;fn++)Vt=Gt(ue,pe[fn],nt),Vt!==null&&(ee=I(Vt,ee,fn),Kt===null?Mt=Vt:Kt.sibling=Vt,Kt=Vt);return Tn&&Ga(ue,fn),Mt}for(Vt=M(ue,Vt);fn<pe.length;fn++)hi=yn(Vt,ue,fn,pe[fn],nt),hi!==null&&(c&&hi.alternate!==null&&Vt.delete(hi.key===null?fn:hi.key),ee=I(hi,ee,fn),Kt===null?Mt=hi:Kt.sibling=hi,Kt=hi);return c&&Vt.forEach(function(Jo){return f(ue,Jo)}),Tn&&Ga(ue,fn),Mt}function Bi(ue,ee,pe,nt){var Mt=P(pe);if(typeof Mt!="function")throw Error(o(150));if(pe=Mt.call(pe),pe==null)throw Error(o(151));for(var Kt=Mt=null,Vt=ee,fn=ee=0,hi=null,dn=pe.next();Vt!==null&&!dn.done;fn++,dn=pe.next()){Vt.index>fn?(hi=Vt,Vt=null):hi=Vt.sibling;var Jo=bt(ue,Vt,dn.value,nt);if(Jo===null){Vt===null&&(Vt=hi);break}c&&Vt&&Jo.alternate===null&&f(ue,Vt),ee=I(Jo,ee,fn),Kt===null?Mt=Jo:Kt.sibling=Jo,Kt=Jo,Vt=hi}if(dn.done)return y(ue,Vt),Tn&&Ga(ue,fn),Mt;if(Vt===null){for(;!dn.done;fn++,dn=pe.next())dn=Gt(ue,dn.value,nt),dn!==null&&(ee=I(dn,ee,fn),Kt===null?Mt=dn:Kt.sibling=dn,Kt=dn);return Tn&&Ga(ue,fn),Mt}for(Vt=M(ue,Vt);!dn.done;fn++,dn=pe.next())dn=yn(Vt,ue,fn,dn.value,nt),dn!==null&&(c&&dn.alternate!==null&&Vt.delete(dn.key===null?fn:dn.key),ee=I(dn,ee,fn),Kt===null?Mt=dn:Kt.sibling=dn,Kt=dn);return c&&Vt.forEach(function(qN){return f(ue,qN)}),Tn&&Ga(ue,fn),Mt}function Jr(ue,ee,pe,nt){if(typeof pe=="object"&&pe!==null&&pe.type===d&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:e:{for(var Mt=pe.key,Kt=ee;Kt!==null;){if(Kt.key===Mt){if(Mt=pe.type,Mt===d){if(Kt.tag===7){y(ue,Kt.sibling),ee=E(Kt,pe.props.children),ee.return=ue,ue=ee;break e}}else if(Kt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===A&&pE(Mt)===Kt.type){y(ue,Kt.sibling),ee=E(Kt,pe.props),ee.ref=Sf(ue,Kt,pe),ee.return=ue,ue=ee;break e}y(ue,Kt);break}else f(ue,Kt);Kt=Kt.sibling}pe.type===d?(ee=Ya(pe.props.children,ue.mode,nt,pe.key),ee.return=ue,ue=ee):(nt=Up(pe.type,pe.key,pe.props,null,ue.mode,nt),nt.ref=Sf(ue,ee,pe),nt.return=ue,ue=nt)}return k(ue);case u:e:{for(Kt=pe.key;ee!==null;){if(ee.key===Kt)if(ee.tag===4&&ee.stateNode.containerInfo===pe.containerInfo&&ee.stateNode.implementation===pe.implementation){y(ue,ee.sibling),ee=E(ee,pe.children||[]),ee.return=ue,ue=ee;break e}else{y(ue,ee);break}else f(ue,ee);ee=ee.sibling}ee=Sx(pe,ue.mode,nt),ee.return=ue,ue=ee}return k(ue);case A:return Kt=pe._init,Jr(ue,ee,Kt(pe._payload),nt)}if(ne(pe))return Et(ue,ee,pe,nt);if(P(pe))return Bi(ue,ee,pe,nt);ap(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ee!==null&&ee.tag===6?(y(ue,ee.sibling),ee=E(ee,pe),ee.return=ue,ue=ee):(y(ue,ee),ee=_x(pe,ue.mode,nt),ee.return=ue,ue=ee),k(ue)):y(ue,ee)}return Jr}var gu=mE(!0),gE=mE(!1),Af={},Vr=Ge(Af),Mf=Ge(Af),vu=Ge(Af);function Fs(c){if(c===Af)throw Error(o(174));return c}function Uy(c,f){xt(vu,f),xt(Mf,c),xt(Vr,Af),c=re(f),ut(Vr),xt(Vr,c)}function yu(){ut(Vr),ut(Mf),ut(vu)}function vE(c){var f=Fs(vu.current),y=Fs(Vr.current);f=F(y,c.type,f),y!==f&&(xt(Mf,c),xt(Vr,f))}function ky(c){Mf.current===c&&(ut(Vr),ut(Mf))}var Dn=Ge(0);function lp(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||fe(y)||Re(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var zy=[];function Hy(){for(var c=0;c<zy.length;c++){var f=zy[c];rt?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}zy.length=0}var up=a.ReactCurrentDispatcher,Wr=a.ReactCurrentBatchConfig,xu=0,Hn=null,Ri=null,di=null,cp=!1,wf=!1,Ef=0,AN=0;function Pi(){throw Error(o(321))}function Gy(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!Ds(c[y],f[y]))return!1;return!0}function Vy(c,f,y,M,E,I){if(xu=I,Hn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,up.current=c===null||c.memoizedState===null?TN:CN,c=y(M,E),wf){I=0;do{if(wf=!1,Ef=0,25<=I)throw Error(o(301));I+=1,di=Ri=null,f.updateQueue=null,up.current=bN,c=y(M,E)}while(wf)}if(up.current=mp,f=Ri!==null&&Ri.next!==null,xu=0,di=Ri=Hn=null,cp=!1,f)throw Error(o(300));return c}function Wy(){var c=Ef!==0;return Ef=0,c}function so(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?Hn.memoizedState=di=c:di=di.next=c,di}function Ns(){if(Ri===null){var c=Hn.alternate;c=c!==null?c.memoizedState:null}else c=Ri.next;var f=di===null?Hn.memoizedState:di.next;if(f!==null)di=f,Ri=c;else{if(c===null)throw Error(o(310));Ri=c,c={memoizedState:Ri.memoizedState,baseState:Ri.baseState,baseQueue:Ri.baseQueue,queue:Ri.queue,next:null},di===null?Hn.memoizedState=di=c:di=di.next=c}return di}function Va(c,f){return typeof f=="function"?f(c):f}function fp(c){var f=Ns(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var M=Ri,E=M.baseQueue,I=y.pending;if(I!==null){if(E!==null){var k=E.next;E.next=I.next,I.next=k}M.baseQueue=E=I,y.pending=null}if(E!==null){I=E.next,M=M.baseState;var Q=k=null,ge=null,ze=I;do{var gt=ze.lane;if((xu&gt)===gt)ge!==null&&(ge=ge.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),M=ze.hasEagerState?ze.eagerState:c(M,ze.action);else{var Gt={lane:gt,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};ge===null?(Q=ge=Gt,k=M):ge=ge.next=Gt,Hn.lanes|=gt,Su|=gt}ze=ze.next}while(ze!==null&&ze!==I);ge===null?k=M:ge.next=Q,Ds(M,f.memoizedState)||(_r=!0),f.memoizedState=M,f.baseState=k,f.baseQueue=ge,y.lastRenderedState=M}if(c=y.interleaved,c!==null){E=c;do I=E.lane,Hn.lanes|=I,Su|=I,E=E.next;while(E!==c)}else E===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function dp(c){var f=Ns(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var M=y.dispatch,E=y.pending,I=f.memoizedState;if(E!==null){y.pending=null;var k=E=E.next;do I=c(I,k.action),k=k.next;while(k!==E);Ds(I,f.memoizedState)||(_r=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),y.lastRenderedState=I}return[I,M]}function yE(){}function xE(c,f){var y=Hn,M=Ns(),E=f(),I=!Ds(M.memoizedState,E);if(I&&(M.memoizedState=E,_r=!0),M=M.queue,Cf(AE.bind(null,y,M,c),[c]),M.getSnapshot!==f||I||di!==null&&di.memoizedState.tag&1){if(y.flags|=2048,Tf(9,SE.bind(null,y,M,E,f),void 0,null),Zn===null)throw Error(o(349));xu&30||_E(y,f,E)}return E}function _E(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=Hn.updateQueue,f===null?(f={lastEffect:null,stores:null},Hn.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function SE(c,f,y,M){f.value=y,f.getSnapshot=M,ME(f)&&jr(c,1,-1)}function AE(c,f,y){return y(function(){ME(f)&&jr(c,1,-1)})}function ME(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!Ds(c,y)}catch{return!0}}function jy(c){var f=so();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:c},f.queue=c,c=c.dispatch=EN.bind(null,Hn,c),[f.memoizedState,c]}function Tf(c,f,y,M){return c={tag:c,create:f,destroy:y,deps:M,next:null},f=Hn.updateQueue,f===null?(f={lastEffect:null,stores:null},Hn.updateQueue=f,f.lastEffect=c.next=c):(y=f.lastEffect,y===null?f.lastEffect=c.next=c:(M=y.next,y.next=c,c.next=M,f.lastEffect=c)),c}function wE(){return Ns().memoizedState}function hp(c,f,y,M){var E=so();Hn.flags|=c,E.memoizedState=Tf(1|f,y,void 0,M===void 0?null:M)}function pp(c,f,y,M){var E=Ns();M=M===void 0?null:M;var I=void 0;if(Ri!==null){var k=Ri.memoizedState;if(I=k.destroy,M!==null&&Gy(M,k.deps)){E.memoizedState=Tf(f,y,I,M);return}}Hn.flags|=c,E.memoizedState=Tf(1|f,y,I,M)}function Xy(c,f){return hp(8390656,8,c,f)}function Cf(c,f){return pp(2048,8,c,f)}function EE(c,f){return pp(4,2,c,f)}function TE(c,f){return pp(4,4,c,f)}function CE(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function bE(c,f,y){return y=y!=null?y.concat([c]):null,pp(4,4,CE.bind(null,f,c),y)}function Jy(){}function RE(c,f){var y=Ns();f=f===void 0?null:f;var M=y.memoizedState;return M!==null&&f!==null&&Gy(f,M[1])?M[0]:(y.memoizedState=[c,f],c)}function PE(c,f){var y=Ns();f=f===void 0?null:f;var M=y.memoizedState;return M!==null&&f!==null&&Gy(f,M[1])?M[0]:(c=c(),y.memoizedState=[c,f],c)}function MN(c,f){var y=cn;cn=y!==0&&4>y?y:4,c(!0);var M=Wr.transition;Wr.transition={};try{c(!1),f()}finally{cn=y,Wr.transition=M}}function IE(){return Ns().memoizedState}function wN(c,f,y){var M=Wo(c);y={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null},BE(c)?DE(f,y):(LE(c,f,y),y=Xi(),c=jr(c,M,y),c!==null&&OE(c,f,M))}function EN(c,f,y){var M=Wo(c),E={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null};if(BE(c))DE(f,E);else{LE(c,f,E);var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var k=f.lastRenderedState,Q=I(k,y);if(E.hasEagerState=!0,E.eagerState=Q,Ds(Q,k))return}catch{}finally{}y=Xi(),c=jr(c,M,y),c!==null&&OE(c,f,M)}}function BE(c){var f=c.alternate;return c===Hn||f!==null&&f===Hn}function DE(c,f){wf=cp=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function LE(c,f,y){Zn!==null&&c.mode&1&&!(Yt&2)?(c=f.interleaved,c===null?(y.next=y,Os===null?Os=[f]:Os.push(f)):(y.next=c.next,c.next=y),f.interleaved=y):(c=f.pending,c===null?y.next=y:(y.next=c.next,c.next=y),f.pending=y)}function OE(c,f,y){if(y&4194240){var M=f.lanes;M&=c.pendingLanes,y|=M,f.lanes=y,Sy(c,y)}}var mp={readContext:zr,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},TN={readContext:zr,useCallback:function(c,f){return so().memoizedState=[c,f===void 0?null:f],c},useContext:zr,useEffect:Xy,useImperativeHandle:function(c,f,y){return y=y!=null?y.concat([c]):null,hp(4194308,4,CE.bind(null,f,c),y)},useLayoutEffect:function(c,f){return hp(4194308,4,c,f)},useInsertionEffect:function(c,f){return hp(4,2,c,f)},useMemo:function(c,f){var y=so();return f=f===void 0?null:f,c=c(),y.memoizedState=[c,f],c},useReducer:function(c,f,y){var M=so();return f=y!==void 0?y(f):f,M.memoizedState=M.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},M.queue=c,c=c.dispatch=wN.bind(null,Hn,c),[M.memoizedState,c]},useRef:function(c){var f=so();return c={current:c},f.memoizedState=c},useState:jy,useDebugValue:Jy,useDeferredValue:function(c){var f=jy(c),y=f[0],M=f[1];return Xy(function(){var E=Wr.transition;Wr.transition={};try{M(c)}finally{Wr.transition=E}},[c]),y},useTransition:function(){var c=jy(!1),f=c[0];return c=MN.bind(null,c[1]),so().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,y){var M=Hn,E=so();if(Tn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),Zn===null)throw Error(o(349));xu&30||_E(M,f,y)}E.memoizedState=y;var I={value:y,getSnapshot:f};return E.queue=I,Xy(AE.bind(null,M,I,c),[c]),M.flags|=2048,Tf(9,SE.bind(null,M,I,y,f),void 0,null),y},useId:function(){var c=so(),f=Zn.identifierPrefix;if(Tn){var y=ro,M=io;y=(M&~(1<<32-En(M)-1)).toString(32)+y,f=":"+f+"R"+y,y=Ef++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=AN++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},CN={readContext:zr,useCallback:RE,useContext:zr,useEffect:Cf,useImperativeHandle:bE,useInsertionEffect:EE,useLayoutEffect:TE,useMemo:PE,useReducer:fp,useRef:wE,useState:function(){return fp(Va)},useDebugValue:Jy,useDeferredValue:function(c){var f=fp(Va),y=f[0],M=f[1];return Cf(function(){var E=Wr.transition;Wr.transition={};try{M(c)}finally{Wr.transition=E}},[c]),y},useTransition:function(){var c=fp(Va)[0],f=Ns().memoizedState;return[c,f]},useMutableSource:yE,useSyncExternalStore:xE,useId:IE,unstable_isNewReconciler:!1},bN={readContext:zr,useCallback:RE,useContext:zr,useEffect:Cf,useImperativeHandle:bE,useInsertionEffect:EE,useLayoutEffect:TE,useMemo:PE,useReducer:dp,useRef:wE,useState:function(){return dp(Va)},useDebugValue:Jy,useDeferredValue:function(c){var f=dp(Va),y=f[0],M=f[1];return Cf(function(){var E=Wr.transition;Wr.transition={};try{M(c)}finally{Wr.transition=E}},[c]),y},useTransition:function(){var c=dp(Va)[0],f=Ns().memoizedState;return[c,f]},useMutableSource:yE,useSyncExternalStore:xE,useId:IE,unstable_isNewReconciler:!1};function Ky(c,f){try{var y="",M=f;do y+=SN(M),M=M.return;while(M);var E=y}catch(I){E=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:f,stack:E}}function Yy(c,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var RN=typeof WeakMap=="function"?WeakMap:Map;function FE(c,f,y){y=no(-1,y),y.tag=3,y.payload={element:null};var M=f.value;return y.callback=function(){Ip||(Ip=!0,hx=M),Yy(c,f)},y}function NE(c,f,y){y=no(-1,y),y.tag=3;var M=c.type.getDerivedStateFromError;if(typeof M=="function"){var E=f.value;y.payload=function(){return M(E)},y.callback=function(){Yy(c,f)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(y.callback=function(){Yy(c,f),typeof M!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})}),y}function UE(c,f,y){var M=c.pingCache;if(M===null){M=c.pingCache=new RN;var E=new Set;M.set(f,E)}else E=M.get(f),E===void 0&&(E=new Set,M.set(f,E));E.has(y)||(E.add(y),c=VN.bind(null,c,f,y),f.then(c,c))}function kE(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function zE(c,f,y,M,E){return c.mode&1?(c.flags|=65536,c.lanes=E,c):(c===f?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=no(-1,1),f.tag=2,Ho(y,f))),y.lanes|=1),c)}function Us(c){c.flags|=4}function HE(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var bf,Rf,gp,vp;if(ht)bf=function(c,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)_e(c,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Rf=function(){},gp=function(c,f,y,M,E){if(c=c.memoizedProps,c!==M){var I=f.stateNode,k=Fs(Vr.current);y=it(I,y,c,M,E,k),(f.updateQueue=y)&&Us(f)}},vp=function(c,f,y,M){y!==M&&Us(f)};else if(Qe){bf=function(c,f,y,M){for(var E=f.child;E!==null;){if(E.tag===5){var I=E.stateNode;y&&M&&(I=zt(I,E.type,E.memoizedProps,E)),_e(c,I)}else if(E.tag===6)I=E.stateNode,y&&M&&(I=qn(I,E.memoizedProps,E)),_e(c,I);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)I=E.child,I!==null&&(I.return=E),bf(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var GE=function(c,f,y,M){for(var E=f.child;E!==null;){if(E.tag===5){var I=E.stateNode;y&&M&&(I=zt(I,E.type,E.memoizedProps,E)),qe(c,I)}else if(E.tag===6)I=E.stateNode,y&&M&&(I=qn(I,E.memoizedProps,E)),qe(c,I);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)I=E.child,I!==null&&(I.return=E),GE(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Rf=function(c,f){var y=f.stateNode;if(!HE(c,f)){c=y.containerInfo;var M=Se(c);GE(M,f,!1,!1),y.pendingChildren=M,Us(f),St(c,M)}},gp=function(c,f,y,M,E){var I=c.stateNode,k=c.memoizedProps;if((c=HE(c,f))&&k===M)f.stateNode=I;else{var Q=f.stateNode,ge=Fs(Vr.current),ze=null;k!==M&&(ze=it(Q,y,k,M,E,ge)),c&&ze===null?f.stateNode=I:(I=Be(I,ze,y,k,M,f,c,Q),De(I,y,M,E,ge)&&Us(f),f.stateNode=I,c?Us(f):bf(I,f,!1,!1))}},vp=function(c,f,y,M){y!==M?(c=Fs(vu.current),y=Fs(Vr.current),f.stateNode=Te(M,c,y,f),Us(f)):f.stateNode=c.stateNode}}else Rf=function(){},gp=function(){},vp=function(){};function Pf(c,f){if(!Tn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:M.sibling=null}}function Ii(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,M=0;if(f)for(var E=c.child;E!==null;)y|=E.lanes|E.childLanes,M|=E.subtreeFlags&14680064,M|=E.flags&14680064,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)y|=E.lanes|E.childLanes,M|=E.subtreeFlags,M|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=M,c.childLanes=y,f}function PN(c,f,y){var M=f.pendingProps;switch(Ly(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(f),null;case 1:return Nt(f.type)&&ci(),Ii(f),null;case 3:return M=f.stateNode,yu(),ut(kt),ut(Ot),Hy(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(c===null||c.child===null)&&(_f(f)?Us(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,fs!==null&&(gx(fs),fs=null))),Rf(c,f),Ii(f),null;case 5:ky(f),y=Fs(vu.current);var E=f.type;if(c!==null&&f.stateNode!=null)gp(c,f,E,M,y),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(o(166));return Ii(f),null}if(c=Fs(Vr.current),_f(f)){if(!H)throw Error(o(175));c=lt(f.stateNode,f.type,f.memoizedProps,y,c,f,!xf),f.updateQueue=c,c!==null&&Us(f)}else{var I=ae(E,M,y,c,f);bf(I,f,!1,!1),f.stateNode=I,De(I,E,M,y,c)&&Us(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Ii(f),null;case 6:if(c&&f.stateNode!=null)vp(c,f,c.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(o(166));if(c=Fs(vu.current),y=Fs(Vr.current),_f(f)){if(!H)throw Error(o(176));if(c=f.stateNode,M=f.memoizedProps,(y=yt(c,M,f,!xf))&&(E=yr,E!==null))switch(I=(E.mode&1)!==0,E.tag){case 3:ce(E.stateNode.containerInfo,c,M,I);break;case 5:le(E.type,E.memoizedProps,E.stateNode,c,M,I)}y&&Us(f)}else f.stateNode=Te(M,c,y,f)}return Ii(f),null;case 13:if(ut(Dn),M=f.memoizedState,Tn&&xr!==null&&f.mode&1&&!(f.flags&128)){for(c=xr;c;)c=pt(c);return mu(),f.flags|=98560,f}if(M!==null&&M.dehydrated!==null){if(M=_f(f),c===null){if(!M)throw Error(o(318));if(!H)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Ut(c,f)}else mu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Ii(f),null}return fs!==null&&(gx(fs),fs=null),f.flags&128?(f.lanes=y,f):(M=M!==null,y=!1,c===null?_f(f):y=c.memoizedState!==null,M&&!y&&(f.child.flags|=8192,f.mode&1&&(c===null||Dn.current&1?ri===0&&(ri=3):yx())),f.updateQueue!==null&&(f.flags|=4),Ii(f),null);case 4:return yu(),Rf(c,f),c===null&&ve(f.stateNode.containerInfo),Ii(f),null;case 10:return by(f.type._context),Ii(f),null;case 17:return Nt(f.type)&&ci(),Ii(f),null;case 19:if(ut(Dn),E=f.memoizedState,E===null)return Ii(f),null;if(M=(f.flags&128)!==0,I=E.rendering,I===null)if(M)Pf(E,!1);else{if(ri!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(I=lp(c),I!==null){for(f.flags|=128,Pf(E,!1),c=I.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=y,M=f.child;M!==null;)y=M,E=c,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=E,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,E=I.dependencies,y.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),M=M.sibling;return xt(Dn,Dn.current&1|2),f.child}c=c.sibling}E.tail!==null&&fi()>dx&&(f.flags|=128,M=!0,Pf(E,!1),f.lanes=4194304)}else{if(!M)if(c=lp(I),c!==null){if(f.flags|=128,M=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Pf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!Tn)return Ii(f),null}else 2*fi()-E.renderingStartTime>dx&&y!==1073741824&&(f.flags|=128,M=!0,Pf(E,!1),f.lanes=4194304);E.isBackwards?(I.sibling=f.child,f.child=I):(c=E.last,c!==null?c.sibling=I:f.child=I,E.last=I)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=fi(),f.sibling=null,c=Dn.current,xt(Dn,M?c&1|2:c&1),f):(Ii(f),null);case 22:case 23:return vx(),M=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==M&&(f.flags|=8192),M&&f.mode&1?Sr&1073741824&&(Ii(f),ht&&f.subtreeFlags&6&&(f.flags|=8192)):Ii(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var IN=a.ReactCurrentOwner,_r=!1;function ji(c,f,y,M){f.child=c===null?gE(f,null,y,M):gu(f,c.child,y,M)}function VE(c,f,y,M,E){y=y.render;var I=f.ref;return du(f,E),M=Vy(c,f,y,M,I,E),y=Wy(),c!==null&&!_r?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~E,oo(c,f,E)):(Tn&&y&&Dy(f),f.flags|=1,ji(c,f,M,E),f.child)}function WE(c,f,y,M,E){if(c===null){var I=y.type;return typeof I=="function"&&!xx(I)&&I.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=I,jE(c,f,I,M,E)):(c=Up(y.type,null,M,f,f.mode,E),c.ref=f.ref,c.return=f,f.child=c)}if(I=c.child,!(c.lanes&E)){var k=I.memoizedProps;if(y=y.compare,y=y!==null?y:$h,y(k,M)&&c.ref===f.ref)return oo(c,f,E)}return f.flags|=1,c=Xo(I,M),c.ref=f.ref,c.return=f,f.child=c}function jE(c,f,y,M,E){if(c!==null&&$h(c.memoizedProps,M)&&c.ref===f.ref)if(_r=!1,(c.lanes&E)!==0)c.flags&131072&&(_r=!0);else return f.lanes=c.lanes,oo(c,f,E);return Qy(c,f,y,M,E)}function XE(c,f,y){var M=f.pendingProps,E=M.children,I=c!==null?c.memoizedState:null;if(M.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},xt(_u,Sr),Sr|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},M=I!==null?I.baseLanes:y,xt(_u,Sr),Sr|=M;else return c=I!==null?I.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,xt(_u,Sr),Sr|=c,null;else I!==null?(M=I.baseLanes|y,f.memoizedState=null):M=y,xt(_u,Sr),Sr|=M;return ji(c,f,E,y),f.child}function JE(c,f){var y=f.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function Qy(c,f,y,M,E){var I=Nt(y)?_t:Ot.current;return I=pn(f,I),du(f,E),y=Vy(c,f,y,M,I,E),M=Wy(),c!==null&&!_r?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~E,oo(c,f,E)):(Tn&&M&&Dy(f),f.flags|=1,ji(c,f,y,E),f.child)}function KE(c,f,y,M,E){if(Nt(y)){var I=!0;Is(f)}else I=!1;if(du(f,E),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),lE(f,y,M),By(f,y,M,E),M=!0;else if(c===null){var k=f.stateNode,Q=f.memoizedProps;k.props=Q;var ge=k.context,ze=y.contextType;typeof ze=="object"&&ze!==null?ze=zr(ze):(ze=Nt(y)?_t:Ot.current,ze=pn(f,ze));var gt=y.getDerivedStateFromProps,Gt=typeof gt=="function"||typeof k.getSnapshotBeforeUpdate=="function";Gt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==M||ge!==ze)&&uE(f,k,M,ze),zo=!1;var bt=f.memoizedState;k.state=bt,ip(f,M,k,E),ge=f.memoizedState,Q!==M||bt!==ge||kt.current||zo?(typeof gt=="function"&&(Iy(f,y,gt,M),ge=f.memoizedState),(Q=zo||aE(f,y,Q,M,bt,ge,ze))?(Gt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=ge),k.props=M,k.state=ge,k.context=ze,M=Q):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{k=f.stateNode,iE(c,f),Q=f.memoizedProps,ze=f.type===f.elementType?Q:cs(f.type,Q),k.props=ze,Gt=f.pendingProps,bt=k.context,ge=y.contextType,typeof ge=="object"&&ge!==null?ge=zr(ge):(ge=Nt(y)?_t:Ot.current,ge=pn(f,ge));var yn=y.getDerivedStateFromProps;(gt=typeof yn=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==Gt||bt!==ge)&&uE(f,k,M,ge),zo=!1,bt=f.memoizedState,k.state=bt,ip(f,M,k,E);var Et=f.memoizedState;Q!==Gt||bt!==Et||kt.current||zo?(typeof yn=="function"&&(Iy(f,y,yn,M),Et=f.memoizedState),(ze=zo||aE(f,y,ze,M,bt,Et,ge)||!1)?(gt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(M,Et,ge),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(M,Et,ge)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||Q===c.memoizedProps&&bt===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&bt===c.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=Et),k.props=M,k.state=Et,k.context=ge,M=ze):(typeof k.componentDidUpdate!="function"||Q===c.memoizedProps&&bt===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&bt===c.memoizedState||(f.flags|=1024),M=!1)}return qy(c,f,y,M,I,E)}function qy(c,f,y,M,E,I){JE(c,f);var k=(f.flags&128)!==0;if(!M&&!k)return E&&xn(f,y,!1),oo(c,f,I);M=f.stateNode,IN.current=f;var Q=k&&typeof y.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,c!==null&&k?(f.child=gu(f,c.child,null,I),f.child=gu(f,null,Q,I)):ji(c,f,Q,I),f.memoizedState=M.state,E&&xn(f,y,!0),f.child}function YE(c){var f=c.stateNode;f.pendingContext?eo(c,f.pendingContext,f.pendingContext!==f.context):f.context&&eo(c,f.context,!1),Uy(c,f.containerInfo)}function QE(c,f,y,M,E){return mu(),Ny(E),f.flags|=256,ji(c,f,y,M),f.child}var yp={dehydrated:null,treeContext:null,retryLane:0};function xp(c){return{baseLanes:c,cachePool:null}}function qE(c,f,y){var M=f.pendingProps,E=Dn.current,I=!1,k=(f.flags&128)!==0,Q;if((Q=k)||(Q=c!==null&&c.memoizedState===null?!1:(E&2)!==0),Q?(I=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(E|=1),xt(Dn,E&1),c===null)return Fy(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?Re(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(E=M.children,c=M.fallback,I?(M=f.mode,I=f.child,E={mode:"hidden",children:E},!(M&1)&&I!==null?(I.childLanes=0,I.pendingProps=E):I=kp(E,M,0,null),c=Ya(c,M,y,null),I.return=f,c.return=f,I.sibling=c,f.child=I,f.child.memoizedState=xp(y),f.memoizedState=yp,c):Zy(f,E));if(E=c.memoizedState,E!==null){if(Q=E.dehydrated,Q!==null){if(k)return f.flags&256?(f.flags&=-257,_p(c,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(I=M.fallback,E=f.mode,M=kp({mode:"visible",children:M.children},E,0,null),I=Ya(I,E,y,null),I.flags|=2,M.return=f,I.return=f,M.sibling=I,f.child=M,f.mode&1&&gu(f,c.child,null,y),f.child.memoizedState=xp(y),f.memoizedState=yp,I);if(!(f.mode&1))f=_p(c,f,y,null);else if(Re(Q))f=_p(c,f,y,Error(o(419)));else if(M=(y&c.childLanes)!==0,_r||M){if(M=Zn,M!==null){switch(y&-y){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}M=I&(M.suspendedLanes|y)?0:I,M!==0&&M!==E.retryLane&&(E.retryLane=M,jr(c,M,-1))}yx(),f=_p(c,f,y,Error(o(421)))}else fe(Q)?(f.flags|=128,f.child=c.child,f=WN.bind(null,c),We(Q,f),f=null):(y=E.treeContext,H&&(xr=mt(Q),yr=f,Tn=!0,fs=null,xf=!1,y!==null&&(Hr[Gr++]=io,Hr[Gr++]=ro,Hr[Gr++]=Ha,io=y.id,ro=y.overflow,Ha=f)),f=Zy(f,f.pendingProps.children),f.flags|=4096);return f}return I?(M=$E(c,f,M.children,M.fallback,y),I=f.child,E=c.child.memoizedState,I.memoizedState=E===null?xp(y):{baseLanes:E.baseLanes|y,cachePool:null},I.childLanes=c.childLanes&~y,f.memoizedState=yp,M):(y=ZE(c,f,M.children,y),f.memoizedState=null,y)}return I?(M=$E(c,f,M.children,M.fallback,y),I=f.child,E=c.child.memoizedState,I.memoizedState=E===null?xp(y):{baseLanes:E.baseLanes|y,cachePool:null},I.childLanes=c.childLanes&~y,f.memoizedState=yp,M):(y=ZE(c,f,M.children,y),f.memoizedState=null,y)}function Zy(c,f){return f=kp({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function ZE(c,f,y,M){var E=c.child;return c=E.sibling,y=Xo(E,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=M),y.return=f,y.sibling=null,c!==null&&(M=f.deletions,M===null?(f.deletions=[c],f.flags|=16):M.push(c)),f.child=y}function $E(c,f,y,M,E){var I=f.mode;c=c.child;var k=c.sibling,Q={mode:"hidden",children:y};return!(I&1)&&f.child!==c?(y=f.child,y.childLanes=0,y.pendingProps=Q,f.deletions=null):(y=Xo(c,Q),y.subtreeFlags=c.subtreeFlags&14680064),k!==null?M=Xo(k,M):(M=Ya(M,I,E,null),M.flags|=2),M.return=f,y.return=f,y.sibling=M,f.child=y,M}function _p(c,f,y,M){return M!==null&&Ny(M),gu(f,c.child,null,y),c=Zy(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function e2(c,f,y){c.lanes|=f;var M=c.alternate;M!==null&&(M.lanes|=f),Ry(c.return,f,y)}function $y(c,f,y,M,E){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:E}:(I.isBackwards=f,I.rendering=null,I.renderingStartTime=0,I.last=M,I.tail=y,I.tailMode=E)}function t2(c,f,y){var M=f.pendingProps,E=M.revealOrder,I=M.tail;if(ji(c,f,M.children,y),M=Dn.current,M&2)M=M&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&e2(c,y,f);else if(c.tag===19)e2(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}M&=1}if(xt(Dn,M),!(f.mode&1))f.memoizedState=null;else switch(E){case"forwards":for(y=f.child,E=null;y!==null;)c=y.alternate,c!==null&&lp(c)===null&&(E=y),y=y.sibling;y=E,y===null?(E=f.child,f.child=null):(E=y.sibling,y.sibling=null),$y(f,!1,E,y,I);break;case"backwards":for(y=null,E=f.child,f.child=null;E!==null;){if(c=E.alternate,c!==null&&lp(c)===null){f.child=E;break}c=E.sibling,E.sibling=y,y=E,E=c}$y(f,!0,y,null,I);break;case"together":$y(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function oo(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),Su|=f.lanes,!(y&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,y=Xo(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=Xo(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function BN(c,f,y){switch(f.tag){case 3:YE(f),mu();break;case 5:vE(f);break;case 1:Nt(f.type)&&Is(f);break;case 4:Uy(f,f.stateNode.containerInfo);break;case 10:nE(f,f.type._context,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(xt(Dn,Dn.current&1),f.flags|=128,null):y&f.child.childLanes?qE(c,f,y):(xt(Dn,Dn.current&1),c=oo(c,f,y),c!==null?c.sibling:null);xt(Dn,Dn.current&1);break;case 19:if(M=(y&f.childLanes)!==0,c.flags&128){if(M)return t2(c,f,y);f.flags|=128}var E=f.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),xt(Dn,Dn.current),M)break;return null;case 22:case 23:return f.lanes=0,XE(c,f,y)}return oo(c,f,y)}function DN(c,f){switch(Ly(f),f.tag){case 1:return Nt(f.type)&&ci(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return yu(),ut(kt),ut(Ot),Hy(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return ky(f),null;case 13:if(ut(Dn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));mu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return ut(Dn),null;case 4:return yu(),null;case 10:return by(f.type._context),null;case 22:case 23:return vx(),null;case 24:return null;default:return null}}var Sp=!1,Wa=!1,LN=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ap(c,f){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(M){sr(c,f,M)}else y.current=null}function ex(c,f,y){try{y()}catch(M){sr(c,f,M)}}var n2=!1;function ON(c,f){for(K(c.containerInfo),Ze=f;Ze!==null;)if(c=Ze,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Ze=f;else for(;Ze!==null;){c=Ze;try{var y=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,E=y.memoizedState,I=c.stateNode,k=I.getSnapshotBeforeUpdate(c.elementType===c.type?M:cs(c.type,M),E);I.__reactInternalSnapshotBeforeUpdate=k}break;case 3:ht&&Xe(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Q){sr(c,c.return,Q)}if(f=c.sibling,f!==null){f.return=c.return,Ze=f;break}Ze=c.return}return y=n2,n2=!1,y}function ja(c,f,y){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var E=M=M.next;do{if((E.tag&c)===c){var I=E.destroy;E.destroy=void 0,I!==void 0&&ex(f,y,I)}E=E.next}while(E!==M)}}function If(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&c)===c){var M=y.create;y.destroy=M()}y=y.next}while(y!==f)}}function tx(c){var f=c.ref;if(f!==null){var y=c.stateNode;switch(c.tag){case 5:c=ie(y);break;default:c=y}typeof f=="function"?f(c):f.current=c}}function i2(c,f,y){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(qh,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var M=c=c.next;do{var E=M,I=E.destroy;E=E.tag,I!==void 0&&(E&2||E&4)&&ex(f,y,I),M=M.next}while(M!==c)}break;case 1:if(Ap(f,y),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(k){sr(f,y,k)}break;case 5:Ap(f,y);break;case 4:ht?u2(c,f,y):Qe&&Qe&&(f=f.stateNode.containerInfo,y=Se(f),Jt(f,y))}}function r2(c,f,y){for(var M=f;;)if(i2(c,M,y),M.child===null||ht&&M.tag===4){if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function s2(c){var f=c.alternate;f!==null&&(c.alternate=null,s2(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&ye(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function o2(c){return c.tag===5||c.tag===3||c.tag===4}function a2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||o2(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function l2(c){if(ht){e:{for(var f=c.return;f!==null;){if(o2(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(oe(f),y.flags&=-33),y=a2(c),ix(c,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=a2(c),nx(c,y,f);break;default:throw Error(o(161))}}}function nx(c,f,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,f?je(y,c,f):$e(y,c);else if(M!==4&&(c=c.child,c!==null))for(nx(c,f,y),c=c.sibling;c!==null;)nx(c,f,y),c=c.sibling}function ix(c,f,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,f?Pe(y,c,f):he(y,c);else if(M!==4&&(c=c.child,c!==null))for(ix(c,f,y),c=c.sibling;c!==null;)ix(c,f,y),c=c.sibling}function u2(c,f,y){for(var M=f,E=!1,I,k;;){if(!E){E=M.return;e:for(;;){if(E===null)throw Error(o(160));switch(I=E.stateNode,E.tag){case 5:k=!1;break e;case 3:I=I.containerInfo,k=!0;break e;case 4:I=I.containerInfo,k=!0;break e}E=E.return}E=!0}if(M.tag===5||M.tag===6)r2(c,M,y),k?W(I,M.stateNode):wt(I,M.stateNode);else if(M.tag===18)k?O(I,M.stateNode):nn(I,M.stateNode);else if(M.tag===4){if(M.child!==null){I=M.stateNode.containerInfo,k=!0,M.child.return=M,M=M.child;continue}}else if(i2(c,M,y),M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return,M.tag===4&&(E=!1)}M.sibling.return=M.return,M=M.sibling}}function rx(c,f){if(ht){switch(f.tag){case 0:case 11:case 14:case 15:ja(3,f,f.return),If(3,f),ja(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var M=f.memoizedProps;c=c!==null?c.memoizedProps:M;var E=f.type,I=f.updateQueue;f.updateQueue=null,I!==null&&ft(y,I,E,c,M,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,Ue(f.stateNode,c!==null?c.memoizedProps:y,y);return;case 3:H&&c!==null&&c.memoizedState.isDehydrated&&zn(f.stateNode.containerInfo);return;case 12:return;case 13:Mp(f);return;case 19:Mp(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ja(3,f,f.return),If(3,f),ja(5,f,f.return);return;case 12:return;case 13:Mp(f);return;case 19:Mp(f);return;case 3:H&&c!==null&&c.memoizedState.isDehydrated&&zn(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(Qe){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Jt(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Mp(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new LN),f.forEach(function(M){var E=jN.bind(null,c,M);y.has(M)||(y.add(M),M.then(E,E))})}}function FN(c,f){for(Ze=f;Ze!==null;){f=Ze;var y=f.deletions;if(y!==null)for(var M=0;M<y.length;M++){var E=y[M];try{var I=c;ht?u2(I,E,f):r2(I,E,f);var k=E.alternate;k!==null&&(k.return=null),E.return=null}catch(Mt){sr(E,f,Mt)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,Ze=y;else for(;Ze!==null;){f=Ze;try{var Q=f.flags;if(Q&32&&ht&&oe(f.stateNode),Q&512){var ge=f.alternate;if(ge!==null){var ze=ge.ref;ze!==null&&(typeof ze=="function"?ze(null):ze.current=null)}}if(Q&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var gt=f.alternate;(gt===null||gt.memoizedState===null)&&(fx=fi())}break;case 22:var Gt=f.memoizedState!==null,bt=f.alternate,yn=bt!==null&&bt.memoizedState!==null;if(y=f,ht){e:if(M=y,E=Gt,I=null,ht)for(var Et=M;;){if(Et.tag===5){if(I===null){I=Et;var Bi=Et.stateNode;E?Oe(Bi):we(Et.stateNode,Et.memoizedProps)}}else if(Et.tag===6){if(I===null){var Jr=Et.stateNode;E?j(Jr):Le(Jr,Et.memoizedProps)}}else if((Et.tag!==22&&Et.tag!==23||Et.memoizedState===null||Et===M)&&Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===M)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===M)break e;I===Et&&(I=null),Et=Et.return}I===Et&&(I=null),Et.sibling.return=Et.return,Et=Et.sibling}}if(Gt&&!yn&&y.mode&1){Ze=y;for(var ue=y.child;ue!==null;){for(y=Ze=ue;Ze!==null;){M=Ze;var ee=M.child;switch(M.tag){case 0:case 11:case 14:case 15:ja(4,M,M.return);break;case 1:Ap(M,M.return);var pe=M.stateNode;if(typeof pe.componentWillUnmount=="function"){var nt=M.return;try{pe.props=M.memoizedProps,pe.state=M.memoizedState,pe.componentWillUnmount()}catch(Mt){sr(M,nt,Mt)}}break;case 5:Ap(M,M.return);break;case 22:if(M.memoizedState!==null){d2(y);continue}}ee!==null?(ee.return=M,Ze=ee):d2(y)}ue=ue.sibling}}}switch(Q&4102){case 2:l2(f),f.flags&=-3;break;case 6:l2(f),f.flags&=-3,rx(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,rx(f.alternate,f);break;case 4:rx(f.alternate,f)}}catch(Mt){sr(f,f.return,Mt)}if(y=f.sibling,y!==null){y.return=f.return,Ze=y;break}Ze=f.return}}}function NN(c,f,y){Ze=c,c2(c)}function c2(c,f,y){for(var M=(c.mode&1)!==0;Ze!==null;){var E=Ze,I=E.child;if(E.tag===22&&M){var k=E.memoizedState!==null||Sp;if(!k){var Q=E.alternate,ge=Q!==null&&Q.memoizedState!==null||Wa;Q=Sp;var ze=Wa;if(Sp=k,(Wa=ge)&&!ze)for(Ze=E;Ze!==null;)k=Ze,ge=k.child,k.tag===22&&k.memoizedState!==null?h2(E):ge!==null?(ge.return=k,Ze=ge):h2(E);for(;I!==null;)Ze=I,c2(I),I=I.sibling;Ze=E,Sp=Q,Wa=ze}f2(c)}else E.subtreeFlags&8772&&I!==null?(I.return=E,Ze=I):f2(c)}}function f2(c){for(;Ze!==null;){var f=Ze;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Wa||If(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!Wa)if(y===null)M.componentDidMount();else{var E=f.elementType===f.type?y.memoizedProps:cs(f.type,y.memoizedProps);M.componentDidUpdate(E,y.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var I=f.updateQueue;I!==null&&sE(f,I,M);break;case 3:var k=f.updateQueue;if(k!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=ie(f.child.stateNode);break;case 1:y=f.child.stateNode}sE(f,k,y)}break;case 5:var Q=f.stateNode;y===null&&f.flags&4&&ot(Q,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(H&&f.memoizedState===null){var ge=f.alternate;if(ge!==null){var ze=ge.memoizedState;if(ze!==null){var gt=ze.dehydrated;gt!==null&&hn(gt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Wa||f.flags&512&&tx(f)}catch(Gt){sr(f,f.return,Gt)}}if(f===c){Ze=null;break}if(y=f.sibling,y!==null){y.return=f.return,Ze=y;break}Ze=f.return}}function d2(c){for(;Ze!==null;){var f=Ze;if(f===c){Ze=null;break}var y=f.sibling;if(y!==null){y.return=f.return,Ze=y;break}Ze=f.return}}function h2(c){for(;Ze!==null;){var f=Ze;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{If(4,f)}catch(ge){sr(f,y,ge)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var E=f.return;try{M.componentDidMount()}catch(ge){sr(f,E,ge)}}var I=f.return;try{tx(f)}catch(ge){sr(f,I,ge)}break;case 5:var k=f.return;try{tx(f)}catch(ge){sr(f,k,ge)}}}catch(ge){sr(f,f.return,ge)}if(f===c){Ze=null;break}var Q=f.sibling;if(Q!==null){Q.return=f.return,Ze=Q;break}Ze=f.return}}var wp=0,Ep=1,Tp=2,Cp=3,bp=4;if(typeof Symbol=="function"&&Symbol.for){var Bf=Symbol.for;wp=Bf("selector.component"),Ep=Bf("selector.has_pseudo_class"),Tp=Bf("selector.role"),Cp=Bf("selector.test_id"),bp=Bf("selector.text")}function sx(c){var f=Ae(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=It(c),c===null)throw Error(o(362));return c.stateNode.current}function ox(c,f){switch(f.$$typeof){case wp:if(c.type===f.value)return!0;break;case Ep:e:{f=f.value,c=[c,0];for(var y=0;y<c.length;){var M=c[y++],E=c[y++],I=f[E];if(M.tag!==5||!L(M)){for(;I!=null&&ox(M,I);)E++,I=f[E];if(E===f.length){f=!0;break e}else for(M=M.child;M!==null;)c.push(M,E),M=M.sibling}}f=!1}return f;case Tp:if(c.tag===5&&te(c.stateNode,f.value))return!0;break;case bp:if((c.tag===5||c.tag===6)&&(c=U(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Cp:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ax(c){switch(c.$$typeof){case wp:return"<"+(b(c.value)||"Unknown")+">";case Ep:return":has("+(ax(c)||"")+")";case Tp:return'[role="'+c.value+'"]';case bp:return'"'+c.value+'"';case Cp:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function p2(c,f){var y=[];c=[c,0];for(var M=0;M<c.length;){var E=c[M++],I=c[M++],k=f[I];if(E.tag!==5||!L(E)){for(;k!=null&&ox(E,k);)I++,k=f[I];if(I===f.length)y.push(E);else for(E=E.child;E!==null;)c.push(E,I),E=E.sibling}}return y}function lx(c,f){if(!Ne)throw Error(o(363));c=sx(c),c=p2(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var M=c[y++];if(M.tag===5)L(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)c.push(M),M=M.sibling}return f}var UN=Math.ceil,Rp=a.ReactCurrentDispatcher,ux=a.ReactCurrentOwner,jn=a.ReactCurrentBatchConfig,Yt=0,Zn=null,$n=null,Si=0,Sr=0,_u=Ge(0),ri=0,Df=null,Su=0,Pp=0,cx=0,Lf=null,ir=null,fx=0,dx=1/0;function Au(){dx=fi()+500}var Ip=!1,hx=null,Go=null,Bp=!1,Vo=null,Dp=0,Of=0,px=null,Lp=-1,Op=0;function Xi(){return Yt&6?fi():Lp!==-1?Lp:Lp=fi()}function Wo(c){return c.mode&1?Yt&2&&Si!==0?Si&-Si:_N.transition!==null?(Op===0&&(c=ko,ko<<=1,!(ko&4194240)&&(ko=64),Op=c),Op):(c=cn,c!==0?c:Ee()):1}function jr(c,f,y){if(50<Of)throw Of=0,px=null,Error(o(185));var M=Fp(c,f);return M===null?null:(yf(M,f,y),(!(Yt&2)||M!==Zn)&&(M===Zn&&(!(Yt&2)&&(Pp|=f),ri===4&&jo(M,Si)),rr(M,y),f===1&&Yt===0&&!(c.mode&1)&&(Au(),Zh&&Ls())),M)}function Fp(c,f){c.lanes|=f;var y=c.alternate;for(y!==null&&(y.lanes|=f),y=c,c=c.return;c!==null;)c.childLanes|=f,y=c.alternate,y!==null&&(y.childLanes|=f),y=c,c=c.return;return y.tag===3?y.stateNode:null}function rr(c,f){var y=c.callbackNode;fN(c,f);var M=Qh(c,c===Zn?Si:0);if(M===0)y!==null&&eE(y),c.callbackNode=null,c.callbackPriority=0;else if(f=M&-M,c.callbackPriority!==f){if(y!=null&&eE(y),f===1)c.tag===0?xN(g2.bind(null,c)):tE(g2.bind(null,c)),ke?be(function(){Yt===0&&Ls()}):Ay(My,Ls),y=null;else{switch($w(M)){case 1:y=My;break;case 4:y=mN;break;case 16:y=wy;break;case 536870912:y=gN;break;default:y=wy}y=E2(y,m2.bind(null,c))}c.callbackPriority=f,c.callbackNode=y}}function m2(c,f){if(Lp=-1,Op=0,Yt&6)throw Error(o(327));var y=c.callbackNode;if(Ka()&&c.callbackNode!==y)return null;var M=Qh(c,c===Zn?Si:0);if(M===0)return null;if(M&30||M&c.expiredLanes||f)f=Np(c,M);else{f=M;var E=Yt;Yt|=2;var I=x2();(Zn!==c||Si!==f)&&(Au(),Xa(c,f));do try{HN();break}catch(Q){y2(c,Q)}while(!0);Cy(),Rp.current=I,Yt=E,$n!==null?f=0:(Zn=null,Si=0,f=ri)}if(f!==0){if(f===2&&(E=xy(c),E!==0&&(M=E,f=mx(c,E))),f===1)throw y=Df,Xa(c,0),jo(c,M),rr(c,fi()),y;if(f===6)jo(c,M);else{if(E=c.current.alternate,!(M&30)&&!kN(E)&&(f=Np(c,M),f===2&&(I=xy(c),I!==0&&(M=I,f=mx(c,I))),f===1))throw y=Df,Xa(c,0),jo(c,M),rr(c,fi()),y;switch(c.finishedWork=E,c.finishedLanes=M,f){case 0:case 1:throw Error(o(345));case 2:Ja(c,ir);break;case 3:if(jo(c,M),(M&130023424)===M&&(f=fx+500-fi(),10<f)){if(Qh(c,0)!==0)break;if(E=c.suspendedLanes,(E&M)!==M){Xi(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=Ce(Ja.bind(null,c,ir),f);break}Ja(c,ir);break;case 4:if(jo(c,M),(M&4194240)===M)break;for(f=c.eventTimes,E=-1;0<M;){var k=31-En(M);I=1<<k,k=f[k],k>E&&(E=k),M&=~I}if(M=E,M=fi()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*UN(M/1960))-M,10<M){c.timeoutHandle=Ce(Ja.bind(null,c,ir),M);break}Ja(c,ir);break;case 5:Ja(c,ir);break;default:throw Error(o(329))}}}return rr(c,fi()),c.callbackNode===y?m2.bind(null,c):null}function mx(c,f){var y=Lf;return c.current.memoizedState.isDehydrated&&(Xa(c,f).flags|=256),c=Np(c,f),c!==2&&(f=ir,ir=y,f!==null&&gx(f)),c}function gx(c){ir===null?ir=c:ir.push.apply(ir,c)}function kN(c){for(var f=c;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var M=0;M<y.length;M++){var E=y[M],I=E.getSnapshot;E=E.value;try{if(!Ds(I(),E))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function jo(c,f){for(f&=~cx,f&=~Pp,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var y=31-En(f),M=1<<y;c[y]=-1,f&=~M}}function g2(c){if(Yt&6)throw Error(o(327));Ka();var f=Qh(c,0);if(!(f&1))return rr(c,fi()),null;var y=Np(c,f);if(c.tag!==0&&y===2){var M=xy(c);M!==0&&(f=M,y=mx(c,M))}if(y===1)throw y=Df,Xa(c,0),jo(c,f),rr(c,fi()),y;if(y===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,Ja(c,ir),rr(c,fi()),null}function v2(c){Vo!==null&&Vo.tag===0&&!(Yt&6)&&Ka();var f=Yt;Yt|=1;var y=jn.transition,M=cn;try{if(jn.transition=null,cn=1,c)return c()}finally{cn=M,jn.transition=y,Yt=f,!(Yt&6)&&Ls()}}function vx(){Sr=_u.current,ut(_u)}function Xa(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==st&&(c.timeoutHandle=st,ct(y)),$n!==null)for(y=$n.return;y!==null;){var M=y;switch(Ly(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&ci();break;case 3:yu(),ut(kt),ut(Ot),Hy();break;case 5:ky(M);break;case 4:yu();break;case 13:ut(Dn);break;case 19:ut(Dn);break;case 10:by(M.type._context);break;case 22:case 23:vx()}y=y.return}if(Zn=c,$n=c=Xo(c.current,null),Si=Sr=f,ri=0,Df=null,cx=Pp=Su=0,ir=Lf=null,Os!==null){for(f=0;f<Os.length;f++)if(y=Os[f],M=y.interleaved,M!==null){y.interleaved=null;var E=M.next,I=y.pending;if(I!==null){var k=I.next;I.next=E,M.next=k}y.pending=M}Os=null}return c}function y2(c,f){do{var y=$n;try{if(Cy(),up.current=mp,cp){for(var M=Hn.memoizedState;M!==null;){var E=M.queue;E!==null&&(E.pending=null),M=M.next}cp=!1}if(xu=0,di=Ri=Hn=null,wf=!1,Ef=0,ux.current=null,y===null||y.return===null){ri=1,Df=f,$n=null;break}e:{var I=c,k=y.return,Q=y,ge=f;if(f=Si,Q.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var ze=ge,gt=Q,Gt=gt.tag;if(!(gt.mode&1)&&(Gt===0||Gt===11||Gt===15)){var bt=gt.alternate;bt?(gt.updateQueue=bt.updateQueue,gt.memoizedState=bt.memoizedState,gt.lanes=bt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var yn=kE(k);if(yn!==null){yn.flags&=-257,zE(yn,k,Q,I,f),yn.mode&1&&UE(I,ze,f),f=yn,ge=ze;var Et=f.updateQueue;if(Et===null){var Bi=new Set;Bi.add(ge),f.updateQueue=Bi}else Et.add(ge);break e}else{if(!(f&1)){UE(I,ze,f),yx();break e}ge=Error(o(426))}}else if(Tn&&Q.mode&1){var Jr=kE(k);if(Jr!==null){!(Jr.flags&65536)&&(Jr.flags|=256),zE(Jr,k,Q,I,f),Ny(ge);break e}}I=ge,ri!==4&&(ri=2),Lf===null?Lf=[I]:Lf.push(I),ge=Ky(ge,Q),Q=k;do{switch(Q.tag){case 3:Q.flags|=65536,f&=-f,Q.lanes|=f;var ue=FE(Q,ge,f);rE(Q,ue);break e;case 1:I=ge;var ee=Q.type,pe=Q.stateNode;if(!(Q.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Go===null||!Go.has(pe)))){Q.flags|=65536,f&=-f,Q.lanes|=f;var nt=NE(Q,I,f);rE(Q,nt);break e}}Q=Q.return}while(Q!==null)}S2(y)}catch(Mt){f=Mt,$n===y&&y!==null&&($n=y=y.return);continue}break}while(!0)}function x2(){var c=Rp.current;return Rp.current=mp,c===null?mp:c}function yx(){(ri===0||ri===3||ri===2)&&(ri=4),Zn===null||!(Su&268435455)&&!(Pp&268435455)||jo(Zn,Si)}function Np(c,f){var y=Yt;Yt|=2;var M=x2();Zn===c&&Si===f||Xa(c,f);do try{zN();break}catch(E){y2(c,E)}while(!0);if(Cy(),Yt=y,Rp.current=M,$n!==null)throw Error(o(261));return Zn=null,Si=0,ri}function zN(){for(;$n!==null;)_2($n)}function HN(){for(;$n!==null&&!hN();)_2($n)}function _2(c){var f=w2(c.alternate,c,Sr);c.memoizedProps=c.pendingProps,f===null?S2(c):$n=f,ux.current=null}function S2(c){var f=c;do{var y=f.alternate;if(c=f.return,f.flags&32768){if(y=DN(y,f),y!==null){y.flags&=32767,$n=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ri=6,$n=null;return}}else if(y=PN(y,f,Sr),y!==null){$n=y;return}if(f=f.sibling,f!==null){$n=f;return}$n=f=c}while(f!==null);ri===0&&(ri=5)}function Ja(c,f){var y=cn,M=jn.transition;try{jn.transition=null,cn=1,GN(c,f,y)}finally{jn.transition=M,cn=y}return null}function GN(c,f,y){do Ka();while(Vo!==null);if(Yt&6)throw Error(o(327));var M=c.finishedWork,E=c.finishedLanes;if(M===null)return null;if(c.finishedWork=null,c.finishedLanes=0,M===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var I=M.lanes|M.childLanes;if(dN(c,I),c===Zn&&($n=Zn=null,Si=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Bp||(Bp=!0,E2(wy,function(){return Ka(),null})),I=(M.flags&15990)!==0,M.subtreeFlags&15990||I){I=jn.transition,jn.transition=null;var k=cn;cn=1;var Q=Yt;Yt|=4,ux.current=null,ON(c,M),FN(c,M),Y(c.containerInfo),c.current=M,NN(M),pN(),Yt=Q,cn=k,jn.transition=I}else c.current=M;if(Bp&&(Bp=!1,Vo=c,Dp=E),I=c.pendingLanes,I===0&&(Go=null),vN(M.stateNode),rr(c,fi()),f!==null)for(y=c.onRecoverableError,M=0;M<f.length;M++)y(f[M]);if(Ip)throw Ip=!1,c=hx,hx=null,c;return Dp&1&&c.tag!==0&&Ka(),I=c.pendingLanes,I&1?c===px?Of++:(Of=0,px=c):Of=0,Ls(),null}function Ka(){if(Vo!==null){var c=$w(Dp),f=jn.transition,y=cn;try{if(jn.transition=null,cn=16>c?16:c,Vo===null)var M=!1;else{if(c=Vo,Vo=null,Dp=0,Yt&6)throw Error(o(331));var E=Yt;for(Yt|=4,Ze=c.current;Ze!==null;){var I=Ze,k=I.child;if(Ze.flags&16){var Q=I.deletions;if(Q!==null){for(var ge=0;ge<Q.length;ge++){var ze=Q[ge];for(Ze=ze;Ze!==null;){var gt=Ze;switch(gt.tag){case 0:case 11:case 15:ja(8,gt,I)}var Gt=gt.child;if(Gt!==null)Gt.return=gt,Ze=Gt;else for(;Ze!==null;){gt=Ze;var bt=gt.sibling,yn=gt.return;if(s2(gt),gt===ze){Ze=null;break}if(bt!==null){bt.return=yn,Ze=bt;break}Ze=yn}}}var Et=I.alternate;if(Et!==null){var Bi=Et.child;if(Bi!==null){Et.child=null;do{var Jr=Bi.sibling;Bi.sibling=null,Bi=Jr}while(Bi!==null)}}Ze=I}}if(I.subtreeFlags&2064&&k!==null)k.return=I,Ze=k;else e:for(;Ze!==null;){if(I=Ze,I.flags&2048)switch(I.tag){case 0:case 11:case 15:ja(9,I,I.return)}var ue=I.sibling;if(ue!==null){ue.return=I.return,Ze=ue;break e}Ze=I.return}}var ee=c.current;for(Ze=ee;Ze!==null;){k=Ze;var pe=k.child;if(k.subtreeFlags&2064&&pe!==null)pe.return=k,Ze=pe;else e:for(k=ee;Ze!==null;){if(Q=Ze,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:If(9,Q)}}catch(Mt){sr(Q,Q.return,Mt)}if(Q===k){Ze=null;break e}var nt=Q.sibling;if(nt!==null){nt.return=Q.return,Ze=nt;break e}Ze=Q.return}}if(Yt=E,Ls(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(qh,c)}catch{}M=!0}return M}finally{cn=y,jn.transition=f}}return!1}function A2(c,f,y){f=Ky(y,f),f=FE(c,f,1),Ho(c,f),f=Xi(),c=Fp(c,1),c!==null&&(yf(c,1,f),rr(c,f))}function sr(c,f,y){if(c.tag===3)A2(c,c,y);else for(;f!==null;){if(f.tag===3){A2(f,c,y);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Go===null||!Go.has(M))){c=Ky(y,c),c=NE(f,c,1),Ho(f,c),c=Xi(),f=Fp(f,1),f!==null&&(yf(f,1,c),rr(f,c));break}}f=f.return}}function VN(c,f,y){var M=c.pingCache;M!==null&&M.delete(f),f=Xi(),c.pingedLanes|=c.suspendedLanes&y,Zn===c&&(Si&y)===y&&(ri===4||ri===3&&(Si&130023424)===Si&&500>fi()-fx?Xa(c,0):cx|=y),rr(c,f)}function M2(c,f){f===0&&(c.mode&1?(f=kr,kr<<=1,!(kr&130023424)&&(kr=4194304)):f=1);var y=Xi();c=Fp(c,f),c!==null&&(yf(c,f,y),rr(c,y))}function WN(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),M2(c,y)}function jN(c,f){var y=0;switch(c.tag){case 13:var M=c.stateNode,E=c.memoizedState;E!==null&&(y=E.retryLane);break;case 19:M=c.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(f),M2(c,y)}var w2;w2=function(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps||kt.current)_r=!0;else{if(!(c.lanes&y)&&!(f.flags&128))return _r=!1,BN(c,f,y);_r=!!(c.flags&131072)}else _r=!1,Tn&&f.flags&1048576&&cE(f,op,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var E=pn(f,Ot.current);du(f,y),E=Vy(null,f,M,c,E,y);var I=Wy();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Nt(M)?(I=!0,Is(f)):I=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Py(f),E.updater=rp,f.stateNode=E,E._reactInternals=f,By(f,M,c,y),f=qy(null,f,M,!0,I,y)):(f.tag=0,Tn&&I&&Dy(f),ji(null,f,E,y),f=f.child),f;case 16:M=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,E=M._init,M=E(M._payload),f.type=M,E=f.tag=JN(M),c=cs(M,c),E){case 0:f=Qy(null,f,M,c,y);break e;case 1:f=KE(null,f,M,c,y);break e;case 11:f=VE(null,f,M,c,y);break e;case 14:f=WE(null,f,M,cs(M.type,c),y);break e}throw Error(o(306,M,""))}return f;case 0:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:cs(M,E),Qy(c,f,M,E,y);case 1:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:cs(M,E),KE(c,f,M,E,y);case 3:e:{if(YE(f),c===null)throw Error(o(387));M=f.pendingProps,I=f.memoizedState,E=I.element,iE(c,f),ip(f,M,null,y);var k=f.memoizedState;if(M=k.element,H&&I.isDehydrated)if(I={element:M,isDehydrated:!1,cache:k.cache,transitions:k.transitions},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){E=Error(o(423)),f=QE(c,f,M,y,E);break e}else if(M!==E){E=Error(o(424)),f=QE(c,f,M,y,E);break e}else for(H&&(xr=at(f.stateNode.containerInfo),yr=f,Tn=!0,fs=null,xf=!1),y=gE(f,null,M,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(mu(),M===E){f=oo(c,f,y);break e}ji(c,f,M,y)}f=f.child}return f;case 5:return vE(f),c===null&&Fy(f),M=f.type,E=f.pendingProps,I=c!==null?c.memoizedProps:null,k=E.children,se(M,E)?k=null:I!==null&&se(M,I)&&(f.flags|=32),JE(c,f),ji(c,f,k,y),f.child;case 6:return c===null&&Fy(f),null;case 13:return qE(c,f,y);case 4:return Uy(f,f.stateNode.containerInfo),M=f.pendingProps,c===null?f.child=gu(f,null,M,y):ji(c,f,M,y),f.child;case 11:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:cs(M,E),VE(c,f,M,E,y);case 7:return ji(c,f,f.pendingProps,y),f.child;case 8:return ji(c,f,f.pendingProps.children,y),f.child;case 12:return ji(c,f,f.pendingProps.children,y),f.child;case 10:e:{if(M=f.type._context,E=f.pendingProps,I=f.memoizedProps,k=E.value,nE(f,M,k),I!==null)if(Ds(I.value,k)){if(I.children===E.children&&!kt.current){f=oo(c,f,y);break e}}else for(I=f.child,I!==null&&(I.return=f);I!==null;){var Q=I.dependencies;if(Q!==null){k=I.child;for(var ge=Q.firstContext;ge!==null;){if(ge.context===M){if(I.tag===1){ge=no(-1,y&-y),ge.tag=2;var ze=I.updateQueue;if(ze!==null){ze=ze.shared;var gt=ze.pending;gt===null?ge.next=ge:(ge.next=gt.next,gt.next=ge),ze.pending=ge}}I.lanes|=y,ge=I.alternate,ge!==null&&(ge.lanes|=y),Ry(I.return,y,f),Q.lanes|=y;break}ge=ge.next}}else if(I.tag===10)k=I.type===f.type?null:I.child;else if(I.tag===18){if(k=I.return,k===null)throw Error(o(341));k.lanes|=y,Q=k.alternate,Q!==null&&(Q.lanes|=y),Ry(k,y,f),k=I.sibling}else k=I.child;if(k!==null)k.return=I;else for(k=I;k!==null;){if(k===f){k=null;break}if(I=k.sibling,I!==null){I.return=k.return,k=I;break}k=k.return}I=k}ji(c,f,E.children,y),f=f.child}return f;case 9:return E=f.type,M=f.pendingProps.children,du(f,y),E=zr(E),M=M(E),f.flags|=1,ji(c,f,M,y),f.child;case 14:return M=f.type,E=cs(M,f.pendingProps),E=cs(M.type,E),WE(c,f,M,E,y);case 15:return jE(c,f,f.type,f.pendingProps,y);case 17:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:cs(M,E),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Nt(M)?(c=!0,Is(f)):c=!1,du(f,y),lE(f,M,E),By(f,M,E,y),qy(null,f,M,!0,c,y);case 19:return t2(c,f,y);case 22:return XE(c,f,y)}throw Error(o(156,f.tag))};function E2(c,f){return Ay(c,f)}function XN(c,f,y,M){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(c,f,y,M){return new XN(c,f,y,M)}function xx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function JN(c){if(typeof c=="function")return xx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===_)return 11;if(c===S)return 14}return 2}function Xo(c,f){var y=c.alternate;return y===null?(y=Xr(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function Up(c,f,y,M,E,I){var k=2;if(M=c,typeof c=="function")xx(c)&&(k=1);else if(typeof c=="string")k=5;else e:switch(c){case d:return Ya(y.children,E,I,f);case h:k=8,E|=8;break;case p:return c=Xr(12,y,f,E|2),c.elementType=p,c.lanes=I,c;case x:return c=Xr(13,y,f,E),c.elementType=x,c.lanes=I,c;case g:return c=Xr(19,y,f,E),c.elementType=g,c.lanes=I,c;case w:return kp(y,E,I,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:k=10;break e;case v:k=9;break e;case _:k=11;break e;case S:k=14;break e;case A:k=16,M=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=Xr(k,y,f,E),f.elementType=c,f.type=M,f.lanes=I,f}function Ya(c,f,y,M){return c=Xr(7,c,M,f),c.lanes=y,c}function kp(c,f,y,M){return c=Xr(22,c,M,f),c.elementType=w,c.lanes=y,c.stateNode={},c}function _x(c,f,y){return c=Xr(6,c,null,f),c.lanes=y,c}function Sx(c,f,y){return f=Xr(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function KN(c,f,y,M,E){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=st,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_y(0),this.expirationTimes=_y(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_y(0),this.identifierPrefix=M,this.onRecoverableError=E,H&&(this.mutableSourceEagerHydrationData=null)}function T2(c,f,y,M,E,I,k,Q,ge){return c=new KN(c,f,y,Q,ge),f===1?(f=1,I===!0&&(f|=8)):f=0,I=Xr(3,null,null,f),c.current=I,I.stateNode=c,I.memoizedState={element:M,isDehydrated:y,cache:null,transitions:null},Py(I),c}function C2(c){if(!c)return Ct;c=c._reactInternals;e:{if(R(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Nt(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var y=c.type;if(Nt(y))return Ci(c,y,f)}return f}function b2(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=z(f),c===null?null:c.stateNode}function R2(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function Ax(c,f){R2(c,f),(c=c.alternate)&&R2(c,f)}function YN(c){return c=z(c),c===null?null:c.stateNode}function QN(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=Xi();jr(c,134217728,f),Ax(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Xi(),y=Wo(c);jr(c,y,f),Ax(c,y)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var y=vf(f.pendingLanes);y!==0&&(Sy(f,y|1),rr(f,fi()),!(Yt&6)&&(Au(),Ls()))}break;case 13:var M=Xi();v2(function(){return jr(c,1,M)}),Ax(c,1)}},t.batchedUpdates=function(c,f){var y=Yt;Yt|=1;try{return c(f)}finally{Yt=y,Yt===0&&(Au(),Zh&&Ls())}},t.createComponentSelector=function(c){return{$$typeof:wp,value:c}},t.createContainer=function(c,f,y,M,E,I,k){return T2(c,f,!1,null,y,M,E,I,k)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Ep,value:c}},t.createHydrationContainer=function(c,f,y,M,E,I,k,Q,ge){return c=T2(y,M,!0,c,E,I,k,Q,ge),c.context=C2(null),y=c.current,M=Xi(),E=Wo(y),I=no(M,E),I.callback=f??null,Ho(y,I),c.current.lanes=E,yf(c,E,M),rr(c,M),c},t.createPortal=function(c,f,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:c,containerInfo:f,implementation:y}},t.createRoleSelector=function(c){return{$$typeof:Tp,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Cp,value:c}},t.createTextSelector=function(c){return{$$typeof:bp,value:c}},t.deferredUpdates=function(c){var f=cn,y=jn.transition;try{return jn.transition=null,cn=16,c()}finally{cn=f,jn.transition=y}},t.discreteUpdates=function(c,f,y,M,E){var I=cn,k=jn.transition;try{return jn.transition=null,cn=1,c(f,y,M,E)}finally{cn=I,jn.transition=k,Yt===0&&Au()}},t.findAllNodes=lx,t.findBoundingRects=function(c,f){if(!Ne)throw Error(o(363));f=lx(c,f),c=[];for(var y=0;y<f.length;y++)c.push(Tt(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var M=y.x,E=M+y.width,I=y.y,k=I+y.height,Q=f-1;0<=Q;Q--)if(f!==Q){var ge=c[Q],ze=ge.x,gt=ze+ge.width,Gt=ge.y,bt=Gt+ge.height;if(M>=ze&&I>=Gt&&E<=gt&&k<=bt){c.splice(f,1);break}else if(M!==ze||y.width!==ge.width||bt<I||Gt>k){if(!(I!==Gt||y.height!==ge.height||gt<M||ze>E)){ze>M&&(ge.width+=ze-M,ge.x=M),gt<E&&(ge.width=E-ze),c.splice(f,1);break}}else{Gt>I&&(ge.height+=Gt-I,ge.y=I),bt<k&&(ge.height=k-Gt),c.splice(f,1);break}}}return c},t.findHostInstance=b2,t.findHostInstanceWithNoPortals=function(c){return c=D(c),c=c!==null?J(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return b2(c)},t.flushControlled=function(c){var f=Yt;Yt|=1;var y=jn.transition,M=cn;try{jn.transition=null,cn=1,c()}finally{cn=M,jn.transition=y,Yt=f,Yt===0&&(Au(),Ls())}},t.flushPassiveEffects=Ka,t.flushSync=v2,t.focusWithin=function(c,f){if(!Ne)throw Error(o(363));for(c=sx(c),f=p2(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++];if(!L(y)){if(y.tag===5&&de(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return cn},t.getFindAllNodesFailureDescription=function(c,f){if(!Ne)throw Error(o(363));var y=0,M=[];c=[sx(c),0];for(var E=0;E<c.length;){var I=c[E++],k=c[E++],Q=f[k];if((I.tag!==5||!L(I))&&(ox(I,Q)&&(M.push(ax(Q)),k++,k>y&&(y=k)),k<f.length))for(I=I.child;I!==null;)c.push(I,k),I=I.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(ax(f[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ie(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:YN,findFiberByHostInstance:c.findFiberByHostInstance||QN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{qh=f.inject(c),Bs=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,y,M){if(!Ne)throw Error(o(363));c=lx(c,f);var E=Me(c,y,M).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(c,f){var y=f._getVersion;y=y(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,y]:c.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(c,f){var y=cn;try{return cn=c,f()}finally{cn=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,y,M){var E=f.current,I=Xi(),k=Wo(E);return y=C2(y),f.context===null?f.context=y:f.pendingContext=y,f=no(I,k),f.payload={element:c},M=M===void 0?null:M,M!==null&&(f.callback=M),Ho(E,f),c=jr(E,k,I),c!==null&&np(c,E,k),k},t};_L.exports=TW;var CW=_L.exports;const bW=uv(CW),dw={},RW=n=>void Object.assign(dw,n);function PW(n,e){function t(d,{args:h=[],attach:p,...m},v){let _=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=Ku(g,{type:d,root:v,attach:p,primitive:!0})}else{const g=dw[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=Ku(new g(...h),{type:d,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),_!=="inject"&&W_(x,m),x}function i(d,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?V_(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||Ku(h,{}),h.__r3f.parent=d,U1(h),Yu(h)}}function r(d,h,p){let m=!1;if(h){var v,_;if((v=h.__r3f)!=null&&v.attach)V_(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const x=d.children.filter(S=>S!==h),g=x.indexOf(p);d.children=[...x.slice(0,g),h,...x.slice(g)],m=!0}m||(_=d.__r3f)==null||_.objects.push(h),h.__r3f||Ku(h,{}),h.__r3f.parent=d,U1(h),Yu(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,v,_;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(w=>w!==h)),(v=h.__r3f)!=null&&v.attach)Gb(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&UW(Mg(h),h)}const S=(_=h.__r3f)==null?void 0:_.primitive,A=!S&&(p===void 0?h.dispose!==null:p);if(!S){var g;s((g=h.__r3f)==null?void 0:g.objects,h,A),s(h.children,h,A)}if(delete h.__r3f,A&&h.dispose&&h.type!=="Scene"){const w=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?F1.unstable_scheduleCallback(F1.unstable_IdlePriority,w):w()}Yu(d)}}function a(d,h,p,m){var v;const _=(v=d.__r3f)==null?void 0:v.parent;if(!_)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&i(x,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>i(x,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(_,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(_,x),x.raycast&&x.__r3f.eventCount&&Mg(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>{};return{reconciler:bW({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:x=[],children:g,...S}=m,{args:A=[],children:w,...C}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((b,B)=>b!==A[B]))return[!0];const P=RL(d,S,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(d,[h,p],m,v,_,x){h?a(d,m,_,x):W_(d,p)},commitMount(d,h,p,m){var v;const _=(v=d.__r3f)!=null?v:{};d.raycast&&_.handlers&&_.eventCount&&Mg(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Ku(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&Gb(m,d,p),d.isObject3D&&(d.visible=!1),Yu(d)},unhideInstance(d,h){var p;const{attach:m,parent:v}=(p=d.__r3f)!=null?p:{};m&&v&&V_(v,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),Yu(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():cc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&_n.fun(performance.now)?performance.now:_n.fun(Date.now)?Date.now:()=>0,scheduleTimeout:_n.fun(setTimeout)?setTimeout:void 0,cancelTimeout:_n.fun(clearTimeout)?clearTimeout:void 0}),applyProps:W_}}var Ub,kb;const G_=n=>"colorSpace"in n||"outputColorSpace"in n,ML=()=>{var n;return(n=dw.ColorManagement)!=null?n:null},wL=n=>n&&n.isOrthographicCamera,IW=n=>n&&n.hasOwnProperty("current"),Gh=typeof window<"u"&&((Ub=window.document)!=null&&Ub.createElement||((kb=window.navigator)==null?void 0:kb.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function EL(n){const e=G.useRef(n);return Gh(()=>void(e.current=n),[n]),e}function BW({set:n}){return Gh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class TL extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}TL.getDerivedStateFromError=()=>({error:!0});const CL="__default",zb=new Map,DW=n=>n&&!!n.memoized&&!!n.changes;function bL(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const sd=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Mg(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const _n={obj:n=>n===Object(n)&&!_n.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(_n.str(n)||_n.num(n)||_n.boo(n))return n===e;const s=_n.obj(n);if(s&&i==="reference")return n===e;const o=_n.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!_n.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(_n.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function LW(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function OW(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ku(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function N1(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const Hb=/-\d+$/;function V_(n,e,t){if(_n.str(t)){if(Hb.test(t)){const s=t.replace(Hb,""),{target:o,key:a}=N1(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=N1(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function Gb(n,e,t){var i,r;if(_n.str(t)){const{target:s,key:o}=N1(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function RL(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){const d=n.__r3f,h=Object.entries(r),p=[];if(u){const v=Object.keys(l);for(let _=0;_<v.length;_++)r.hasOwnProperty(v[_])||h.unshift([v[_],CL+"remove"])}h.forEach(([v,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||_n.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,_,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,_,!1,g]);for(const S in r){const A=r[S];S.startsWith(`${v}-`)&&p.push([S,A,!1,S.split("-")])}});const m={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:p}}function W_(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=DW(e)?e:RL(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,v,_,x]=a[p];if(G_(n)){const w="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?w:C):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?w:C)}let g=n,S=g[m];if(x.length&&(S=x.reduce((A,w)=>A[w],n),!(S&&S.set))){const[A,...w]=x.reverse();g=w.reverse().reduce((C,P)=>C[P],n),m=A}if(v===CL+"remove")if(g.constructor){let A=zb.get(g.constructor);A||(A=new g.constructor,zb.set(g.constructor,A)),v=A[m]}else v=0;if(_&&i)v?i.handlers[m]=v:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Ul)){if(Array.isArray(v))S.fromArray?S.fromArray(v):S.set(...v);else if(S.copy&&v&&v.constructor&&S.constructor===v.constructor)S.copy(v);else if(v!==void 0){var u;const A=(u=S)==null?void 0:u.isColor;!A&&S.setScalar?S.setScalar(v):S instanceof Ul&&v instanceof Ul?S.mask=v.mask:S.set(v),!ML()&&s&&!s.linear&&A&&S.convertSRGBToLinear()}}else{var d;if(g[m]=v,(d=g[m])!=null&&d.isTexture&&g[m].format===zi&&g[m].type===as&&s){const A=g[m];G_(A)&&G_(s.gl)?A.colorSpace=s.gl.outputColorSpace:A.encoding=s.gl.outputEncoding}}Yu(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const p=Mg(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),i.eventCount&&p.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&U1(n),n}function Yu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function U1(n){n.onUpdate==null||n.onUpdate(n)}function FW(n,e){n.manual||(wL(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Qm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function NW(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return cc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return cc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return cc.ContinuousEventPriority;default:return cc.DefaultEventPriority}}function PL(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function UW(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{PL(t.capturedMap,e,i,r)})}function kW(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,u){const d=n.getState(),h=new Set,p=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const S=sd(m[g]);S&&(S.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(g){const S=sd(g);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var A;S.events.compute==null||S.events.compute(l,S,(A=S.previousRoot)==null?void 0:A.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(v).sort((g,S)=>{const A=sd(g.object),w=sd(S.object);return!A||!w?g.distance-S.distance:w.events.priority-A.events.priority||g.distance-S.distance}).filter(g=>{const S=Qm(g);return h.has(S)?!1:(h.add(S),!0)});d.events.filter&&(_=d.events.filter(_,d));for(const g of _){let S=g.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:S}),S=S.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())h.has(Qm(g.intersection))||p.push(g.intersection);return p}function r(l,u,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const _=sd(v.object)||p,{raycaster:x,pointer:g,camera:S,internal:A}=_,w=new N(g.x,g.y,0).unproject(S),C=T=>{var D,z;return(D=(z=A.capturedMap.get(T))==null?void 0:z.has(v.eventObject))!=null?D:!1},P=T=>{const D={intersection:v,target:u.target};A.capturedMap.has(T)?A.capturedMap.get(T).set(v.eventObject,D):A.capturedMap.set(T,new Map([[v.eventObject,D]])),u.target.setPointerCapture(T)},b=T=>{const D=A.capturedMap.get(T);D&&PL(A.capturedMap,v.eventObject,D,T)};let B={};for(let T in u){let D=u[T];typeof D!="function"&&(B[T]=D)}let R={...v,...B,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:w,ray:x.ray,camera:S,stopPropagation(){const T="pointerId"in u&&A.capturedMap.get(u.pointerId);if((!T||T.has(v.eventObject))&&(R.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(D=>D.eventObject===v.eventObject))){const D=l.slice(0,l.indexOf(v));s([...D,v])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:b},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:b},nativeEvent:u};if(h(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Qm(d)),p!=null&&p.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let d=0;d<u.length;d++){const h=u[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(d,m?t:void 0),g=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(A=>A.eventObject)),v&&!x.length&&g<=2&&(o(d,p.interaction),h&&h(d)),m&&s(x);function S(A){const w=A.eventObject,C=w.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const b=Qm(A),B=p.hovered.get(b);B?B.stopped&&A.stopPropagation():(p.hovered.set(b,A),P.onPointerOver==null||P.onPointerOver(A),P.onPointerEnter==null||P.onPointerEnter(A))}P.onPointerMove==null||P.onPointerMove(A)}else{const b=P[l];b?(!v||p.initialHits.includes(w))&&(o(d,p.interaction.filter(B=>!p.initialHits.includes(B))),b(A)):v&&p.initialHits.includes(w)&&o(d,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(x,d,g,S)}}return{handlePointer:a}}const IL=n=>!!(n!=null&&n.render),BL=G.createContext(null),zW=(n,e)=>{const t=SW((a,l)=>{const u=new N,d=new N,h=new N;function p(g=l().camera,S=d,A=l().size){const{width:w,height:C,top:P,left:b}=A,B=w/C;S.isVector3?h.copy(S):h.set(...S);const R=g.getWorldPosition(u).distanceTo(h);if(wL(g))return{width:w/g.zoom,height:C/g.zoom,top:P,left:b,factor:1,distance:R,aspect:B};{const T=g.fov*Math.PI/180,D=2*Math.tan(T/2)*R,z=D*(w/C);return{width:z,height:D,top:P,left:b,factor:w/z,distance:R,aspect:B}}}let m;const v=g=>a(S=>({performance:{...S.performance,current:g}})),_=new xe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,S)=>e(g,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new ow,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(S=>({...S,events:{...S.events,...g}})),setSize:(g,S,A,w,C)=>{const P=l().camera,b={width:g,height:S,top:w||0,left:C||0,updateStyle:A};a(B=>({size:b,viewport:{...B.viewport,...p(P,d,b)}}))},setDpr:g=>a(S=>{const A=bL(g);return{viewport:{...S.viewport,dpr:A,initialDpr:S.viewport.initialDpr||A}}}),setFrameloop:(g="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,g!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,S,A)=>{const w=l().internal;return w.priority=w.priority+(S>0?1:0),w.subscribers.push({ref:g,priority:S,store:A}),w.subscribers=w.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(S>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:d,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){var p;r=l,s=u.dpr,FW(a,l),d.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let qm,HW=new Set,GW=new Set,VW=new Set;function j_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function od(n,e){switch(n){case"before":return j_(HW,e);case"after":return j_(GW,e);case"tail":return j_(VW,e)}}let X_,J_;function K_(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),X_=e.internal.subscribers,qm=0;qm<X_.length;qm++)J_=X_[qm],J_.ref.current(J_.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function WW(n){let e=!1,t=!1,i,r,s;function o(u){r=requestAnimationFrame(o),e=!0,i=0,od("before",u),t=!0;for(const h of n.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=K_(u,s))}if(t=!1,od("after",u),i===0)return od("tail",u),e=!1,cancelAnimationFrame(r)}function a(u,d=1){var h;if(!u)return n.forEach(p=>a(p.store.getState(),d));(h=u.gl.xr)!=null&&h.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,d=!0,h,p){if(d&&od("before",u),h)K_(u,h,p);else for(const m of n.values())K_(u,m.store.getState());d&&od("after",u)}return{loop:o,invalidate:a,advance:l}}function DL(){const n=G.useContext(BL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Zr(n=t=>t,e){return DL()(n,e)}function LL(n,e=0){const t=DL(),i=t.getState().internal.subscribe,r=EL(n);return Gh(()=>i(r,e,t),[e,i,t]),null}const Vb=new WeakMap;function OL(n,e){return function(t,...i){let r=Vb.get(t);return r||(r=new t,Vb.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,LW(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Vh(n,e,t,i){const r=Array.isArray(e)?e:[e],s=MW(OL(t,i),[n,...r],{equal:_n.equ});return Array.isArray(e)?s:s[0]}Vh.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return wW(OL(t),[n,...i])};Vh.clear=function(n,e){const t=Array.isArray(e)?e:[e];return EW([n,...t])};const Kc=new Map,{invalidate:Wb,advance:jb}=WW(Kc),{reconciler:G0,applyProps:Xu}=PW(Kc,NW),Ju={objects:"shallow",strict:!1},jW=(n,e)=>{const t=typeof n=="function"?n(e):n;return IL(t)?t:new gL({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function XW(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function JW(n){const e=Kc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||zW(Wb,jb),o=t||G0.createContainer(s,cc.ConcurrentRoot,null,!1,null,"",r,null);e||Kc.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(d={}){let{gl:h,size:p,scene:m,events:v,onCreated:_,shadows:x=!1,linear:g=!1,flat:S=!1,legacy:A=!1,orthographic:w=!1,frameloop:C="always",dpr:P=[1,2],performance:b,raycaster:B,camera:R,onPointerMissed:T}=d,D=s.getState(),z=D.gl;D.gl||D.set({gl:z=jW(h,n)});let V=D.raycaster;V||D.set({raycaster:V=new aL});const{params:J,...ne}=B||{};if(_n.equ(ne,V,Ju)||Xu(V,{...ne}),_n.equ(J,V.params,Ju)||Xu(V,{params:{...V.params,...J}}),!D.camera||D.camera===u&&!_n.equ(u,R,Ju)){u=R;const Y=R instanceof Dh,ae=Y?R:w?new Ts(0,0,0,0,.1,1e3):new In(75,0,.1,1e3);Y||(ae.position.z=5,R&&(Xu(ae,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(ae.manual=!0,ae.updateProjectionMatrix())),!D.camera&&!(R!=null&&R.rotation)&&ae.lookAt(0,0,0)),D.set({camera:ae}),V.camera=ae}if(!D.scene){let Y;m!=null&&m.isScene?Y=m:(Y=new FM,m&&Xu(Y,m)),D.set({scene:Ku(Y)})}if(!D.xr){var ie;const Y=(De,it)=>{const se=s.getState();se.frameloop!=="never"&&jb(De,!0,se,it)},ae=()=>{const De=s.getState();De.gl.xr.enabled=De.gl.xr.isPresenting,De.gl.xr.setAnimationLoop(De.gl.xr.isPresenting?Y:null),De.gl.xr.isPresenting||Wb(De)},_e={connect(){const De=s.getState().gl;De.xr.addEventListener("sessionstart",ae),De.xr.addEventListener("sessionend",ae)},disconnect(){const De=s.getState().gl;De.xr.removeEventListener("sessionstart",ae),De.xr.removeEventListener("sessionend",ae)}};typeof((ie=z.xr)==null?void 0:ie.addEventListener)=="function"&&_e.connect(),D.set({xr:_e})}if(z.shadowMap){const Y=z.shadowMap.enabled,ae=z.shadowMap.type;if(z.shadowMap.enabled=!!x,_n.boo(x))z.shadowMap.type=Rd;else if(_n.str(x)){var re;const _e={basic:MB,percentage:bv,soft:Rd,variance:ys};z.shadowMap.type=(re=_e[x])!=null?re:Rd}else _n.obj(x)&&Object.assign(z.shadowMap,x);(Y!==z.shadowMap.enabled||ae!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const F=ML();F&&("enabled"in F?F.enabled=!A:"legacyMode"in F&&(F.legacyMode=A)),l||Xu(z,{outputEncoding:g?3e3:3001,toneMapping:S?Js:xM}),D.legacy!==A&&D.set(()=>({legacy:A})),D.linear!==g&&D.set(()=>({linear:g})),D.flat!==S&&D.set(()=>({flat:S})),h&&!_n.fun(h)&&!IL(h)&&!_n.equ(h,z,Ju)&&Xu(z,h),v&&!D.events.handlers&&D.set({events:v(s)});const K=XW(n,p);return _n.equ(K,D.size,Ju)||D.setSize(K.width,K.height,K.updateStyle,K.top,K.left),P&&D.viewport.dpr!==bL(P)&&D.setDpr(P),D.frameloop!==C&&D.setFrameloop(C),D.onPointerMissed||D.set({onPointerMissed:T}),b&&!_n.equ(b,D.performance,Ju)&&D.set(Y=>({performance:{...Y.performance,...b}})),a=_,l=!0,this},render(d){return l||this.configure(),G0.updateContainer(me.jsx(KW,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){FL(n)}}}function KW({store:n,children:e,onCreated:t,rootElement:i}){return Gh(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),me.jsx(BL.Provider,{value:n,children:e})}function FL(n,e){const t=Kc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),G0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),OW(r),Kc.delete(n)}catch{}},500)})}}G0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});const Y_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function YW(n){const{handlePointer:e}=kW(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Y_).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=Y_[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Y_[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function Xb(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function QW({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,d=G.useRef(!1);G.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,m]=G.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:S,top:A,width:w,height:C,bottom:P,right:b,x:B,y:R}=a.current.element.getBoundingClientRect(),T={left:S,top:A,width:w,height:C,bottom:P,right:b,x:B,y:R};a.current.element instanceof HTMLElement&&i&&(T.height=a.current.element.offsetHeight,T.width=a.current.element.offsetWidth),Object.freeze(T),d.current&&!ej(a.current.lastBounds,T)&&o(a.current.lastBounds=T)};return[g,u?Xb(g,u):g,l?Xb(g,l):g]},[o,i,l,u]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function _(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=NL(g),_())};return ZW(m,!!e),qW(p),G.useEffect(()=>{v(),_()},[e,m,p]),G.useEffect(()=>v,[]),[x,s,h]}function qW(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ZW(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function NL(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...NL(n.parentElement)]}const $W=["x","y","top","bottom","left","right","width","height"],ej=(n,e)=>$W.every(t=>n[t]===e[t]);var tj=Object.defineProperty,nj=Object.defineProperties,ij=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,rj=Object.prototype.hasOwnProperty,sj=Object.prototype.propertyIsEnumerable,Kb=(n,e,t)=>e in n?tj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yb=(n,e)=>{for(var t in e||(e={}))rj.call(e,t)&&Kb(n,t,e[t]);if(Jb)for(var t of Jb(e))sj.call(e,t)&&Kb(n,t,e[t]);return n},oj=(n,e)=>nj(n,ij(e)),Qb,qb;typeof window<"u"&&((Qb=window.document)!=null&&Qb.createElement||((qb=window.navigator)==null?void 0:qb.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function UL(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=UL(i,e,t);if(r)return r;i=i.sibling}}function kL(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Zb=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=Zb;return}return Zb.apply(this,arguments)};const hw=kL(G.createContext(null));class zL extends G.Component{render(){return G.createElement(hw.Provider,{value:this._reactInternals},this.props.children)}}function aj(){const n=G.useContext(hw);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=UL(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function lj(){const n=aj(),[e]=G.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==hw&&!e.has(r)&&e.set(r,G.useContext(kL(r)))}t=t.return}return e}function uj(){const n=lj();return G.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>G.createElement(e,null,G.createElement(t.Provider,oj(Yb({},i),{value:n.get(t)}))),e=>G.createElement(zL,Yb({},e))),[n])}const cj=G.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=YW,eventSource:a,eventPrefix:l,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:S,scene:A,onPointerMissed:w,onCreated:C,...P},b){G.useMemo(()=>RW(yW),[]);const B=uj(),[R,T]=QW({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=G.useRef(null),z=G.useRef(null);G.useImperativeHandle(b,()=>D.current);const V=EL(w),[J,ne]=G.useState(!1),[ie,re]=G.useState(!1);if(J)throw J;if(ie)throw ie;const F=G.useRef(null);Gh(()=>{const Y=D.current;T.width>0&&T.height>0&&Y&&(F.current||(F.current=JW(Y)),F.current.configure({gl:s,events:o,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:S,scene:A,size:T,onPointerMissed:(...ae)=>V.current==null?void 0:V.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(a?IW(a)?a.current:a:z.current),l&&ae.setEvents({compute:(_e,De)=>{const it=_e[l+"X"],se=_e[l+"Y"];De.pointer.set(it/De.size.width*2-1,-(se/De.size.height)*2+1),De.raycaster.setFromCamera(De.pointer,De.camera)}}),C==null||C(ae)}}),F.current.render(me.jsx(B,{children:me.jsx(TL,{set:re,children:me.jsx(G.Suspense,{fallback:me.jsx(BW,{set:ne}),children:e??null})})})))}),G.useEffect(()=>{const Y=D.current;if(Y)return()=>FL(Y)},[]);const K=a?"none":"auto";return me.jsx("div",{ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...r},...P,children:me.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:me.jsx("canvas",{ref:D,style:{display:"block"},children:t})})})}),fj=G.forwardRef(function(e,t){return me.jsx(zL,{children:me.jsx(cj,{...e,ref:t})})}),Wh=new N,pw=new N,dj=new N,$b=new xe;function hj(n,e,t){const i=Wh.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function pj(n,e){const t=Wh.setFromMatrixPosition(n.matrixWorld),i=pw.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(dj);return r.angleTo(s)>Math.PI/2}function mj(n,e,t,i){const r=Wh.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),$b.set(s.x,s.y),t.setFromCamera($b,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function gj(n,e){if(e instanceof Ts)return e.zoom;if(e instanceof In){const t=Wh.setFromMatrixPosition(n.matrixWorld),i=pw.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function vj(n,e,t){if(e instanceof In||e instanceof Ts){const i=Wh.setFromMatrixPosition(n.matrixWorld),r=pw.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const k1=n=>Math.abs(n)<1e-10?0:n;function HL(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=k1(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const yj=(n=>e=>HL(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),xj=(n=>(e,t)=>HL(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function _j(n){return n&&typeof n=="object"&&"current"in n}const Sj=G.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:v,material:_,geometry:x,zIndexRange:g=[16777271,0],calculatePosition:S=hj,as:A="div",wrapperClass:w,pointerEvents:C="auto",...P},b)=>{const{gl:B,camera:R,scene:T,size:D,raycaster:z,events:V,viewport:J}=Zr(),[ne]=G.useState(()=>document.createElement(A)),ie=G.useRef(),re=G.useRef(null),F=G.useRef(0),K=G.useRef([0,0]),Y=G.useRef(null),ae=G.useRef(null),_e=(a==null?void 0:a.current)||V.connected||B.domElement.parentNode,De=G.useRef(null),it=G.useRef(!1),se=G.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&_j(h[0]),[h]);G.useLayoutEffect(()=>{const rt=B.domElement;h&&h==="blending"?(rt.style.zIndex=`${Math.floor(g[0]/2)}`,rt.style.position="absolute",rt.style.pointerEvents="none"):(rt.style.zIndex=null,rt.style.position=null,rt.style.pointerEvents=null)},[h]),G.useLayoutEffect(()=>{if(re.current){const rt=ie.current=rB(ne);if(T.updateMatrixWorld(),d)ne.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ht=S(re.current,R,D);ne.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ht[0]}px,${ht[1]}px,0);transform-origin:0 0;`}return _e&&(r?_e.prepend(ne):_e.appendChild(ne)),()=>{_e&&_e.removeChild(ne),rt.unmount()}}},[_e,d]),G.useLayoutEffect(()=>{w&&(ne.className=w)},[w]);const Te=G.useMemo(()=>d?{position:"absolute",top:0,left:0,width:D.width,height:D.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-D.height/2,left:-D.width/2,width:D.width,height:D.height},...t},[t,s,o,D,d]),Ce=G.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);G.useLayoutEffect(()=>{if(it.current=!1,d){var rt;(rt=ie.current)==null||rt.render(G.createElement("div",{ref:Y,style:Te},G.createElement("div",{ref:ae,style:Ce},G.createElement("div",{ref:b,className:i,style:t,children:n}))))}else{var ht;(ht=ie.current)==null||ht.render(G.createElement("div",{ref:b,style:Te,className:i,children:n}))}});const ct=G.useRef(!0);LL(rt=>{if(re.current){R.updateMatrixWorld(),re.current.updateWorldMatrix(!0,!1);const ht=d?K.current:S(re.current,R,D);if(d||Math.abs(F.current-R.zoom)>e||Math.abs(K.current[0]-ht[0])>e||Math.abs(K.current[1]-ht[1])>e){const Qe=pj(re.current,R);let H=!1;se&&(Array.isArray(h)?H=h.map(ye=>ye.current):h!=="blending"&&(H=[T]));const Ae=ct.current;if(H){const ye=mj(re.current,R,z,H);ct.current=ye&&!Qe}else ct.current=!Qe;Ae!==ct.current&&(p?p(!ct.current):ne.style.display=ct.current?"block":"none");const ve=Math.floor(g[0]/2),Ee=h?se?[g[0],ve]:[ve-1,0]:g;if(ne.style.zIndex=`${vj(re.current,R,Ee)}`,d){const[ye,ke]=[D.width/2,D.height/2],be=R.projectionMatrix.elements[5]*ke,{isOrthographicCamera:Ne,top:It,left:Tt,bottom:U,right:L}=R,te=yj(R.matrixWorldInverse),de=Ne?`scale(${be})translate(${k1(-(L+Tt)/2)}px,${k1((It+U)/2)}px)`:`translateZ(${be}px)`;let Me=re.current.matrixWorld;u&&(Me=R.matrixWorldInverse.clone().transpose().copyPosition(Me).scale(re.current.scale),Me.elements[3]=Me.elements[7]=Me.elements[11]=0,Me.elements[15]=1),ne.style.width=D.width+"px",ne.style.height=D.height+"px",ne.style.perspective=Ne?"":`${be}px`,Y.current&&ae.current&&(Y.current.style.transform=`${de}${te}translate(${ye}px,${ke}px)`,ae.current.style.transform=xj(Me,1/((l||10)/400)))}else{const ye=l===void 0?1:gj(re.current,R)*l;ne.style.transform=`translate3d(${ht[0]}px,${ht[1]}px,0) scale(${ye})`}K.current=ht,F.current=R.zoom}}if(!se&&De.current&&!it.current)if(d){if(Y.current){const ht=Y.current.children[0];if(ht!=null&&ht.clientWidth&&ht!=null&&ht.clientHeight){const{isOrthographicCamera:Qe}=R;if(Qe||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof N?De.current.scale.copy(P.scale.clone().divideScalar(1)):De.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):De.current.scale.setScalar(1/P.scale));else{const H=(l||10)/400,Ae=ht.clientWidth*H,ve=ht.clientHeight*H;De.current.scale.set(Ae,ve,1)}it.current=!0}}}else{const ht=ne.children[0];if(ht!=null&&ht.clientWidth&&ht!=null&&ht.clientHeight){const Qe=1/J.factor,H=ht.clientWidth*Qe,Ae=ht.clientHeight*Qe;De.current.scale.set(H,Ae,1),it.current=!0}De.current.lookAt(rt.camera.position)}});const st=G.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return G.createElement("group",t0({},P,{ref:re}),h&&!se&&G.createElement("mesh",{castShadow:m,receiveShadow:v,ref:De},x||G.createElement("planeGeometry",null),_||G.createElement("shaderMaterial",{side:ts,vertexShader:st.vertexShader,fragmentShader:st.fragmentShader})))}),Aj=parseInt(Ph.replace(/\D+/g,""));function eR(n,e){if(e===eD)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===N0||e===bM){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===N0)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Mj=Object.defineProperty,wj=(n,e,t)=>e in n?Mj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ej=(n,e,t)=>(wj(n,e+"",t),t);class Tj{constructor(){Ej(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var Cj=Object.defineProperty,bj=(n,e,t)=>e in n?Cj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rt=(n,e,t)=>(bj(n,typeof e!="symbol"?e+"":e,t),t);const Zm=new su,tR=new vo,Rj=Math.cos(70*(Math.PI/180)),nR=(n,e)=>(n%e+e)%e;let Pj=class extends Tj{constructor(e,t){super(),Rt(this,"object"),Rt(this,"domElement"),Rt(this,"enabled",!0),Rt(this,"target",new N),Rt(this,"minDistance",0),Rt(this,"maxDistance",1/0),Rt(this,"minZoom",0),Rt(this,"maxZoom",1/0),Rt(this,"minPolarAngle",0),Rt(this,"maxPolarAngle",Math.PI),Rt(this,"minAzimuthAngle",-1/0),Rt(this,"maxAzimuthAngle",1/0),Rt(this,"enableDamping",!1),Rt(this,"dampingFactor",.05),Rt(this,"enableZoom",!0),Rt(this,"zoomSpeed",1),Rt(this,"enableRotate",!0),Rt(this,"rotateSpeed",1),Rt(this,"enablePan",!0),Rt(this,"panSpeed",1),Rt(this,"screenSpacePanning",!0),Rt(this,"keyPanSpeed",7),Rt(this,"zoomToCursor",!1),Rt(this,"autoRotate",!1),Rt(this,"autoRotateSpeed",2),Rt(this,"reverseOrbit",!1),Rt(this,"reverseHorizontalOrbit",!1),Rt(this,"reverseVerticalOrbit",!1),Rt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Rt(this,"mouseButtons",{LEFT:pl.ROTATE,MIDDLE:pl.DOLLY,RIGHT:pl.PAN}),Rt(this,"touches",{ONE:ml.ROTATE,TWO:ml.DOLLY_PAN}),Rt(this,"target0"),Rt(this,"position0"),Rt(this,"zoom0"),Rt(this,"_domElementKeyEvents",null),Rt(this,"getPolarAngle"),Rt(this,"getAzimuthalAngle"),Rt(this,"setPolarAngle"),Rt(this,"setAzimuthalAngle"),Rt(this,"getDistance"),Rt(this,"getZoomScale"),Rt(this,"listenToKeyEvents"),Rt(this,"stopListenToKeyEvents"),Rt(this,"saveState"),Rt(this,"reset"),Rt(this,"update"),Rt(this,"connect"),Rt(this,"dispose"),Rt(this,"dollyIn"),Rt(this,"dollyOut"),Rt(this,"getScale"),Rt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=W=>{let oe=nR(W,2*Math.PI),Oe=d.phi;Oe<0&&(Oe+=2*Math.PI),oe<0&&(oe+=2*Math.PI);let j=Math.abs(oe-Oe);2*Math.PI-j<j&&(oe<Oe?oe+=2*Math.PI:Oe+=2*Math.PI),h.phi=oe-Oe,i.update()},this.setAzimuthalAngle=W=>{let oe=nR(W,2*Math.PI),Oe=d.theta;Oe<0&&(Oe+=2*Math.PI),oe<0&&(oe+=2*Math.PI);let j=Math.abs(oe-Oe);2*Math.PI-j<j&&(oe<Oe?oe+=2*Math.PI:Oe+=2*Math.PI),h.theta=oe-Oe,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=W=>{W.addEventListener("keydown",he),this._domElementKeyEvents=W},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",he),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const W=new N,oe=new N(0,1,0),Oe=new yi().setFromUnitVectors(e.up,oe),j=Oe.clone().invert(),we=new N,Le=new yi,Xe=2*Math.PI;return function(){const Se=i.object.position;Oe.setFromUnitVectors(e.up,oe),j.copy(Oe).invert(),W.copy(Se).sub(i.target),W.applyQuaternion(Oe),d.setFromVector3(W),i.autoRotate&&l===a.NONE&&J(z()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let qe=i.minAzimuthAngle,St=i.maxAzimuthAngle;isFinite(qe)&&isFinite(St)&&(qe<-Math.PI?qe+=Xe:qe>Math.PI&&(qe-=Xe),St<-Math.PI?St+=Xe:St>Math.PI&&(St-=Xe),qe<=St?d.theta=Math.max(qe,Math.min(St,d.theta)):d.theta=d.theta>(qe+St)/2?Math.max(qe,d.theta):Math.min(St,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?d.radius=De(d.radius):d.radius=De(d.radius*p),W.setFromSpherical(d),W.applyQuaternion(j),Se.copy(i.target).add(W),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Jt=!1;if(i.zoomToCursor&&R){let zt=null;if(i.object instanceof In&&i.object.isPerspectiveCamera){const qn=W.length();zt=De(qn*p);const ii=qn-zt;i.object.position.addScaledVector(b,ii),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const qn=new N(B.x,B.y,0);qn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Jt=!0;const ii=new N(B.x,B.y,0);ii.unproject(i.object),i.object.position.sub(ii).add(qn),i.object.updateMatrixWorld(),zt=W.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;zt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(zt).add(i.object.position):(Zm.origin.copy(i.object.position),Zm.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Zm.direction))<Rj?e.lookAt(i.target):(tR.setFromNormalAndCoplanarPoint(i.object.up,i.target),Zm.intersectPlane(tR,i.target))))}else i.object instanceof Ts&&i.object.isOrthographicCamera&&(Jt=p!==1,Jt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,Jt||we.distanceToSquared(i.object.position)>u||8*(1-Le.dot(i.object.quaternion))>u?(i.dispatchEvent(r),we.copy(i.object.position),Le.copy(i.object.quaternion),Jt=!1,!0):!1}})(),this.connect=W=>{i.domElement=W,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ot),i.domElement.addEventListener("pointerdown",Tt),i.domElement.addEventListener("pointercancel",L),i.domElement.addEventListener("wheel",Me)},this.dispose=()=>{var W,oe,Oe,j,we,Le;i.domElement&&(i.domElement.style.touchAction="auto"),(W=i.domElement)==null||W.removeEventListener("contextmenu",ot),(oe=i.domElement)==null||oe.removeEventListener("pointerdown",Tt),(Oe=i.domElement)==null||Oe.removeEventListener("pointercancel",L),(j=i.domElement)==null||j.removeEventListener("wheel",Me),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointermove",U),(Le=i.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",L),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",he)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new B1,h=new B1;let p=1;const m=new N,v=new xe,_=new xe,x=new xe,g=new xe,S=new xe,A=new xe,w=new xe,C=new xe,P=new xe,b=new N,B=new xe;let R=!1;const T=[],D={};function z(){return 2*Math.PI/60/60*i.autoRotateSpeed}function V(){return Math.pow(.95,i.zoomSpeed)}function J(W){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=W:h.theta-=W}function ne(W){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=W:h.phi-=W}const ie=(()=>{const W=new N;return function(Oe,j){W.setFromMatrixColumn(j,0),W.multiplyScalar(-Oe),m.add(W)}})(),re=(()=>{const W=new N;return function(Oe,j){i.screenSpacePanning===!0?W.setFromMatrixColumn(j,1):(W.setFromMatrixColumn(j,0),W.crossVectors(i.object.up,W)),W.multiplyScalar(Oe),m.add(W)}})(),F=(()=>{const W=new N;return function(Oe,j){const we=i.domElement;if(we&&i.object instanceof In&&i.object.isPerspectiveCamera){const Le=i.object.position;W.copy(Le).sub(i.target);let Xe=W.length();Xe*=Math.tan(i.object.fov/2*Math.PI/180),ie(2*Oe*Xe/we.clientHeight,i.object.matrix),re(2*j*Xe/we.clientHeight,i.object.matrix)}else we&&i.object instanceof Ts&&i.object.isOrthographicCamera?(ie(Oe*(i.object.right-i.object.left)/i.object.zoom/we.clientWidth,i.object.matrix),re(j*(i.object.top-i.object.bottom)/i.object.zoom/we.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function K(W){i.object instanceof In&&i.object.isPerspectiveCamera||i.object instanceof Ts&&i.object.isOrthographicCamera?p=W:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(W){K(p/W)}function ae(W){K(p*W)}function _e(W){if(!i.zoomToCursor||!i.domElement)return;R=!0;const oe=i.domElement.getBoundingClientRect(),Oe=W.clientX-oe.left,j=W.clientY-oe.top,we=oe.width,Le=oe.height;B.x=Oe/we*2-1,B.y=-(j/Le)*2+1,b.set(B.x,B.y,1).unproject(i.object).sub(i.object.position).normalize()}function De(W){return Math.max(i.minDistance,Math.min(i.maxDistance,W))}function it(W){v.set(W.clientX,W.clientY)}function se(W){_e(W),w.set(W.clientX,W.clientY)}function Te(W){g.set(W.clientX,W.clientY)}function Ce(W){_.set(W.clientX,W.clientY),x.subVectors(_,v).multiplyScalar(i.rotateSpeed);const oe=i.domElement;oe&&(J(2*Math.PI*x.x/oe.clientHeight),ne(2*Math.PI*x.y/oe.clientHeight)),v.copy(_),i.update()}function ct(W){C.set(W.clientX,W.clientY),P.subVectors(C,w),P.y>0?Y(V()):P.y<0&&ae(V()),w.copy(C),i.update()}function st(W){S.set(W.clientX,W.clientY),A.subVectors(S,g).multiplyScalar(i.panSpeed),F(A.x,A.y),g.copy(S),i.update()}function rt(W){_e(W),W.deltaY<0?ae(V()):W.deltaY>0&&Y(V()),i.update()}function ht(W){let oe=!1;switch(W.code){case i.keys.UP:F(0,i.keyPanSpeed),oe=!0;break;case i.keys.BOTTOM:F(0,-i.keyPanSpeed),oe=!0;break;case i.keys.LEFT:F(i.keyPanSpeed,0),oe=!0;break;case i.keys.RIGHT:F(-i.keyPanSpeed,0),oe=!0;break}oe&&(W.preventDefault(),i.update())}function Qe(){if(T.length==1)v.set(T[0].pageX,T[0].pageY);else{const W=.5*(T[0].pageX+T[1].pageX),oe=.5*(T[0].pageY+T[1].pageY);v.set(W,oe)}}function H(){if(T.length==1)g.set(T[0].pageX,T[0].pageY);else{const W=.5*(T[0].pageX+T[1].pageX),oe=.5*(T[0].pageY+T[1].pageY);g.set(W,oe)}}function Ae(){const W=T[0].pageX-T[1].pageX,oe=T[0].pageY-T[1].pageY,Oe=Math.sqrt(W*W+oe*oe);w.set(0,Oe)}function ve(){i.enableZoom&&Ae(),i.enablePan&&H()}function Ee(){i.enableZoom&&Ae(),i.enableRotate&&Qe()}function ye(W){if(T.length==1)_.set(W.pageX,W.pageY);else{const Oe=wt(W),j=.5*(W.pageX+Oe.x),we=.5*(W.pageY+Oe.y);_.set(j,we)}x.subVectors(_,v).multiplyScalar(i.rotateSpeed);const oe=i.domElement;oe&&(J(2*Math.PI*x.x/oe.clientHeight),ne(2*Math.PI*x.y/oe.clientHeight)),v.copy(_)}function ke(W){if(T.length==1)S.set(W.pageX,W.pageY);else{const oe=wt(W),Oe=.5*(W.pageX+oe.x),j=.5*(W.pageY+oe.y);S.set(Oe,j)}A.subVectors(S,g).multiplyScalar(i.panSpeed),F(A.x,A.y),g.copy(S)}function be(W){const oe=wt(W),Oe=W.pageX-oe.x,j=W.pageY-oe.y,we=Math.sqrt(Oe*Oe+j*j);C.set(0,we),P.set(0,Math.pow(C.y/w.y,i.zoomSpeed)),Y(P.y),w.copy(C)}function Ne(W){i.enableZoom&&be(W),i.enablePan&&ke(W)}function It(W){i.enableZoom&&be(W),i.enableRotate&&ye(W)}function Tt(W){var oe,Oe;i.enabled!==!1&&(T.length===0&&((oe=i.domElement)==null||oe.ownerDocument.addEventListener("pointermove",U),(Oe=i.domElement)==null||Oe.ownerDocument.addEventListener("pointerup",L)),ft(W),W.pointerType==="touch"?$e(W):te(W))}function U(W){i.enabled!==!1&&(W.pointerType==="touch"?Ue(W):de(W))}function L(W){var oe,Oe,j;Pe(W),T.length===0&&((oe=i.domElement)==null||oe.releasePointerCapture(W.pointerId),(Oe=i.domElement)==null||Oe.ownerDocument.removeEventListener("pointermove",U),(j=i.domElement)==null||j.ownerDocument.removeEventListener("pointerup",L)),i.dispatchEvent(o),l=a.NONE}function te(W){let oe;switch(W.button){case 0:oe=i.mouseButtons.LEFT;break;case 1:oe=i.mouseButtons.MIDDLE;break;case 2:oe=i.mouseButtons.RIGHT;break;default:oe=-1}switch(oe){case pl.DOLLY:if(i.enableZoom===!1)return;se(W),l=a.DOLLY;break;case pl.ROTATE:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enablePan===!1)return;Te(W),l=a.PAN}else{if(i.enableRotate===!1)return;it(W),l=a.ROTATE}break;case pl.PAN:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enableRotate===!1)return;it(W),l=a.ROTATE}else{if(i.enablePan===!1)return;Te(W),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function de(W){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Ce(W);break;case a.DOLLY:if(i.enableZoom===!1)return;ct(W);break;case a.PAN:if(i.enablePan===!1)return;st(W);break}}function Me(W){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(W.preventDefault(),i.dispatchEvent(s),rt(W),i.dispatchEvent(o))}function he(W){i.enabled===!1||i.enablePan===!1||ht(W)}function $e(W){switch(je(W),T.length){case 1:switch(i.touches.ONE){case ml.ROTATE:if(i.enableRotate===!1)return;Qe(),l=a.TOUCH_ROTATE;break;case ml.PAN:if(i.enablePan===!1)return;H(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case ml.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ve(),l=a.TOUCH_DOLLY_PAN;break;case ml.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ee(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ue(W){switch(je(W),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;ye(W),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ke(W),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ne(W),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;It(W),i.update();break;default:l=a.NONE}}function ot(W){i.enabled!==!1&&W.preventDefault()}function ft(W){T.push(W)}function Pe(W){delete D[W.pointerId];for(let oe=0;oe<T.length;oe++)if(T[oe].pointerId==W.pointerId){T.splice(oe,1);return}}function je(W){let oe=D[W.pointerId];oe===void 0&&(oe=new xe,D[W.pointerId]=oe),oe.set(W.pageX,W.pageY)}function wt(W){const oe=W.pointerId===T[0].pointerId?T[1]:T[0];return D[oe.pointerId]}this.dollyIn=(W=V())=>{ae(W),i.update()},this.dollyOut=(W=V())=>{Y(W),i.update()},this.getScale=()=>p,this.setScale=W=>{K(W),i.update()},this.getZoomScale=()=>V(),t!==void 0&&this.connect(t),this.update()}};function V0(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Bl="srgb",Co="srgb-linear",iR=3001,Ij=3e3;class mw extends Wi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Fj(t)}),this.register(function(t){return new Nj(t)}),this.register(function(t){return new Xj(t)}),this.register(function(t){return new Jj(t)}),this.register(function(t){return new Kj(t)}),this.register(function(t){return new kj(t)}),this.register(function(t){return new zj(t)}),this.register(function(t){return new Hj(t)}),this.register(function(t){return new Gj(t)}),this.register(function(t){return new Oj(t)}),this.register(function(t){return new Vj(t)}),this.register(function(t){return new Uj(t)}),this.register(function(t){return new jj(t)}),this.register(function(t){return new Wj(t)}),this.register(function(t){return new Dj(t)}),this.register(function(t){return new Yj(t)}),this.register(function(t){return new Qj(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Ea.extractUrlBase(e);o=Ea.resolveURL(u,this.path)}else o=Ea.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Or(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(V0(new Uint8Array(e.slice(0,4)))===GL){try{o[$t.KHR_BINARY_GLTF]=new qj(e)}catch(d){r&&r(d);return}s=JSON.parse(o[$t.KHR_BINARY_GLTF].content)}else s=JSON.parse(V0(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new cX(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],h=s.extensionsRequired||[];switch(d){case $t.KHR_MATERIALS_UNLIT:o[d]=new Lj;break;case $t.KHR_DRACO_MESH_COMPRESSION:o[d]=new Zj(s,this.dracoLoader);break;case $t.KHR_TEXTURE_TRANSFORM:o[d]=new $j;break;case $t.KHR_MESH_QUANTIZATION:o[d]=new eX;break;default:h.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Bj(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const $t={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Dj{constructor(e){this.parser=e,this.name=$t.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new Ye(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],Co);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new rw(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new iw(d),u.distance=h;break;case"spot":u=new nw(d),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,mo(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class Lj{constructor(){this.name=$t.KHR_MATERIALS_UNLIT}getMaterialType(){return Rr}extendParams(e,t,i){const r=[];e.color=new Ye(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Co),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Bl))}return Promise.all(r)}}class Oj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Fj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new xe(a,a)}return Promise.all(s)}}class Nj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Uj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class kj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ye(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Co)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Bl)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class zj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Hj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ye().setRGB(a[0],a[1],a[2],Co),Promise.all(s)}}class Gj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Vj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ye().setRGB(a[0],a[1],a[2],Co),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Bl)),Promise.all(s)}}class Wj{constructor(e){this.parser=e,this.name=$t.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class jj{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Xj{constructor(e){this.parser=e,this.name=$t.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Jj{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Kj{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Yj{constructor(e){this.name=$t.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}class Qj{constructor(e){this.name=$t.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==qr.TRIANGLES&&u.mode!==qr.TRIANGLE_STRIP&&u.mode!==qr.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(d=>(l[u]=d,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const d=u.pop(),h=d.isGroup?d.children:[d],p=u[0].count,m=[];for(const v of h){const _=new Pt,x=new N,g=new yi,S=new N(1,1,1),A=new kM(v.geometry,v.material,p);for(let w=0;w<p;w++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,w),l.SCALE&&S.fromBufferAttribute(l.SCALE,w),A.setMatrixAt(w,_.compose(x,g,S));for(const w in l)if(w==="_COLOR_0"){const C=l[w];A.instanceColor=new Yl(C.array,C.itemSize,C.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&v.geometry.setAttribute(w,l[w]);rn.prototype.copy.call(A,v),this.parser.assignFinalMaterial(A),m.push(A)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const GL="glTF",ad=12,rR={JSON:1313821514,BIN:5130562};class qj{constructor(e){this.name=$t.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ad);if(this.header={magic:V0(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==GL)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-ad,r=new DataView(e,ad);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===rR.JSON){const l=new Uint8Array(e,ad+s,o);this.content=V0(l)}else if(a===rR.BIN){const l=ad+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Zj{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$t.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const h=z1[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=z1[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=Ec[p.componentType];u[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h,p){r.decodeDracoFile(d,function(m){for(const v in m.attributes){const _=m.attributes[v],x=l[v];x!==void 0&&(_.normalized=x)}h(m)},a,u,Co,p)})})}}class $j{constructor(){this.name=$t.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class eX{constructor(){this.name=$t.KHR_MESH_QUANTIZATION}}class VL extends df{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,v=e*u,_=v-u,x=-2*m+3*p,g=m-p,S=1-x,A=g-p+h;for(let w=0;w!==a;w++){const C=o[_+w+a],P=o[_+w+l]*d,b=o[v+w+a],B=o[v+w]*d;s[w]=S*C+A*P+x*b+g*B}return s}}const tX=new yi;class nX extends VL{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return tX.fromArray(s).normalize().toArray(s),s}}const qr={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ec={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},sR={9728:vi,9729:Yn,9984:Pv,9985:Ac,9986:Cl,9987:is},oR={33071:Cr,33648:Fc,10497:Ra},Q_={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Aj>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},na={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},iX={CUBICSPLINE:void 0,LINEAR:Gc,STEP:Hc},q_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function rX(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Hh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qs})),n.DefaultMaterial}function cl(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function mo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function sX(n,e,t){let i=!1,r=!1,s=!1;for(let u=0,d=e.length;u<d;u++){const h=e[u];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,d=e.length;u<d;u++){const h=e[u];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],h=u[1],p=u[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function oX(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function aX(n){let e;const t=n.extensions&&n.extensions[$t.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Z_(t.attributes):e=n.indices+":"+Z_(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+Z_(n.targets[i]);return e}function Z_(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function H1(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function lX(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const uX=new Pt;class cX{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Bj,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new KD(this.options.manager):this.textureLoader=new nL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Or(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return cl(s,a,r),mo(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[$t.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Ea.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Q_[r.type],a=Ec[r.componentType],l=r.normalized===!0,u=new a(r.count*o);return Promise.resolve(new un(u,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Q_[r.type],u=Ec[r.componentType],d=u.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let _,x;if(m&&m!==h){const g=Math.floor(p/m),S="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let A=t.cache.get(S);A||(_=new u(a,g*m,r.count*m/d),A=new Oh(_,m/d),t.cache.add(S,A)),x=new Pa(A,l,p%m/d,v)}else a===null?_=new u(r.count*l):_=new u(a,p,r.count*l),x=new un(_,l,v);if(r.sparse!==void 0){const g=Q_.SCALAR,S=Ec[r.sparse.indices.componentType],A=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,C=new S(o[1],A,r.sparse.count*g),P=new u(o[2],w,r.sparse.count*l);a!==null&&(x=new un(x.array.slice(),x.itemSize,x.normalized));for(let b=0,B=C.length;b<B;b++){const R=C[b];if(x.setX(R,P[b*l]),l>=2&&x.setY(R,P[b*l+1]),l>=3&&x.setZ(R,P[b*l+2]),l>=4&&x.setW(R,P[b*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=sR[p.magFilter]||Yn,d.minFilter=sR[p.minFilter]||is,d.wrapS=oR[p.wrapS]||Ra,d.wrapT=oR[p.wrapT]||Ra,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){u=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(_){const x=new Bn(_);x.needsUpdate=!0,p(x)}),t.load(Ea.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return u===!0&&a.revokeObjectURL(l),mo(h,o),h.userData.mimeType=o.mimeType||lX(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[$t.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[$t.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[$t.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===iR?Bl:Co),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Bl?iR:Ij),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Wv,ai.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Vi,ai.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Hh}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[$t.KHR_MATERIALS_UNLIT]){const h=r[$t.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Ye(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Co),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture,Bl)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ts);const d=s.alphaMode||q_.OPAQUE;if(d===q_.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===q_.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Rr&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new xe(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==Rr&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Rr){const h=s.emissiveFactor;a.emissive=new Ye().setRGB(h[0],h[1],h[2],Co)}return s.emissiveTexture!==void 0&&o!==Rr&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Bl)),Promise.all(u).then(function(){const h=new o(a);return s.name&&(h.name=s.name),mo(h,s),t.associations.set(h,{materials:e}),s.extensions&&cl(r,h,s),h})}createUniqueName(e){const t=sn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[$t.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return aR(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=aX(u),h=r[d];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[$t.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=aR(new Ht,u,t),r[d]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?rX(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,v=d.length;m<v;m++){const _=d[m],x=o[m];let g;const S=u[m];if(x.mode===qr.TRIANGLES||x.mode===qr.TRIANGLE_STRIP||x.mode===qr.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new UM(_,S):new Qn(_,S),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),x.mode===qr.TRIANGLE_STRIP?g.geometry=eR(g.geometry,bM):x.mode===qr.TRIANGLE_FAN&&(g.geometry=eR(g.geometry,N0));else if(x.mode===qr.LINES)g=new Rs(_,S);else if(x.mode===qr.LINE_STRIP)g=new Fo(_,S);else if(x.mode===qr.LINE_LOOP)g=new zM(_,S);else if(x.mode===qr.POINTS)g=new HM(_,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&oX(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),mo(g,s),x.extensions&&cl(r,g,x),t.assignFinalMaterial(g),h.push(g)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&cl(r,h[0],s),h[0];const p=new Ao;s.extensions&&cl(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new In(fD.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Ts(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),mo(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let u=0,d=o.length;u<d;u++){const h=o[u];if(h){a.push(h);const p=new Pt;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new Fh(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],u=[],d=[];for(let h=0,p=r.channels.length;h<p;h++){const m=r.channels[h],v=r.samplers[m.sampler],_=m.target,x=_.node,g=r.parameters!==void 0?r.parameters[v.input]:v.input,S=r.parameters!==void 0?r.parameters[v.output]:v.output;_.node!==void 0&&(o.push(this.getDependency("node",x)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",S)),u.push(v),d.push(_))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(d)]).then(function(h){const p=h[0],m=h[1],v=h[2],_=h[3],x=h[4],g=[];for(let S=0,A=p.length;S<A;S++){const w=p[S],C=m[S],P=v[S],b=_[S],B=x[S];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const R=i._createAnimationTracks(w,C,P,b,B);if(R)for(let T=0;T<R.length;T++)g.push(R[T])}return new Jc(s,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let u=0,d=a.length;u<d;u++)o.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const d=u[0],h=u[1],p=u[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,uX)});for(let m=0,v=h.length;m<v;m++)d.add(h[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let d;if(s.isBone===!0?d=new Gv:u.length>1?d=new Ao:u.length===1?d=u[0]:d=new rn,d!==u[0])for(let h=0,p=u.length;h<p;h++)d.add(u[h]);if(s.name&&(d.userData.name=s.name,d.name=o),mo(d,s),s.extensions&&cl(i,d,s),s.matrix!==void 0){const h=new Pt;h.fromArray(s.matrix),d.applyMatrix4(h)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Ao;i.name&&(s.name=r.createUniqueName(i.name)),mo(s,i),i.extensions&&cl(t,s,i);const o=i.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,h=l.length;d<h;d++)s.add(l[d]);const u=d=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof ai||p instanceof Bn)&&h.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=u(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];na[s.path]===na.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let u;switch(na[s.path]){case na.weights:u=ql;break;case na.rotation:u=Zl;break;case na.position:case na.scale:u=$l;break;default:switch(i.itemSize){case 1:u=ql;break;case 2:case 3:default:u=$l;break}break}const d=r.interpolation!==void 0?iX[r.interpolation]:Gc,h=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new u(l[p]+"."+na[s.path],t.array,h,d);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=H1(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Zl?nX:VL;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function fX(n,e,t){const i=e.attributes,r=new Ei;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new N(l[0],l[1],l[2]),new N(u[0],u[1],u[2])),a.normalized){const d=H1(Ec[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let u=0,d=s.length;u<d;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const _=H1(Ec[p.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new xi;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function aR(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=z1[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return mo(n,e),fX(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?sX(n,e.targets,t):n})}const $_=new WeakMap;class dX extends Wi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Or(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if($_.has(e)){const l=$_.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,d)=>{r._callbacks[s]={resolve:u,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),$_.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new Ht;e.index&&t.setIndex(new un(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new un(o,a))}return t}_loadLibrary(e,t){const i=new Or(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=hX.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function hX(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(h,p,m,u),_=v.attributes.map(x=>x.array.buffer);v.index&&_.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},_)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,u){const d=u.attributeIDs,h=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const _={index:null,attributes:[]};for(const x in d){const g=self[h[x]];let S,A;if(u.useUniqueIDs)A=d[x],S=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[d[x]]),A===-1)continue;S=a.GetAttribute(p,A)}_.attributes.push(r(o,a,p,x,g,S))}return v===o.TRIANGULAR_MESH&&(_.index=i(o,a,p)),o.destroy(p),_}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,u,d,h){const p=h.num_components(),v=l.num_points()*p,_=v*d.BYTES_PER_ELEMENT,x=s(o,d),g=o._malloc(_);a.GetAttributeDataArrayForAllPoints(l,h,x,_,g);const S=new d(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:u,array:S,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let $m;const eS=()=>{if($m)return $m;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let v=0;v<h.length;++v){const _=h.charCodeAt(v);p[v]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let m=0;for(let v=0;v<h.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(h,p,m,v,_,x){const g=s.exports.sbrk,S=m+3&-4,A=g(S*v),w=g(_.length),C=new Uint8Array(s.exports.memory.buffer);C.set(_,w);const P=h(A,m,v,w,_.length);if(P===0&&x&&x(A,S,v),p.set(C.subarray(A,A+m*v)),g(A-g(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return $m={ready:o,supported:!0,decodeVertexBuffer(h,p,m,v,_){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,v,s.exports[u[_]])},decodeIndexBuffer(h,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,v)},decodeIndexSequence(h,p,m,v){l(s.exports.meshopt_decodeIndexSequence,h,p,m,v)},decodeGltfBuffer(h,p,m,v,_,x){l(s.exports[d[_]],h,p,m,v,s.exports[u[x]])}},$m};let eg=null,WL="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function jL(n=!0,e=!0,t){return i=>{t&&t(i),n&&(eg||(eg=new dX),eg.setDecoderPath(typeof n=="string"?n:WL),i.setDRACOLoader(eg)),e&&i.setMeshoptDecoder(typeof eS=="function"?eS():eS)}}const ay=(n,e,t,i)=>Vh(mw,n,jL(e,t,i));ay.preload=(n,e,t,i)=>Vh.preload(mw,n,jL(e,t,i));ay.clear=n=>Vh.clear(mw,n);ay.setDecoderPath=n=>{WL=n};const pX=G.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},d)=>{const h=Zr(P=>P.invalidate),p=Zr(P=>P.camera),m=Zr(P=>P.gl),v=Zr(P=>P.events),_=Zr(P=>P.setEvents),x=Zr(P=>P.set),g=Zr(P=>P.get),S=Zr(P=>P.performance),A=e||p,w=i||v.connected||m.domElement,C=G.useMemo(()=>new Pj(A),[A]);return LL(()=>{C.enabled&&C.update()},-1),G.useEffect(()=>(s&&C.connect(s===!0?w:s),C.connect(w),()=>void C.dispose()),[s,w,t,C,h]),G.useEffect(()=>{const P=R=>{h(),t&&S.regress(),o&&o(R)},b=R=>{a&&a(R)},B=R=>{l&&l(R)};return C.addEventListener("change",P),C.addEventListener("start",b),C.addEventListener("end",B),()=>{C.removeEventListener("start",b),C.removeEventListener("end",B),C.removeEventListener("change",P)}},[o,a,l,C,h,_]),G.useEffect(()=>{if(n){const P=g().controls;return x({controls:C}),()=>x({controls:P})}},[n,C]),G.createElement("primitive",t0({ref:d,object:C,enableDamping:r},u))});var XL={exports:{}},mX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gX=mX,vX=gX;function JL(){}function KL(){}KL.resetWarningCache=JL;var yX=function(){function n(i,r,s,o,a,l){if(l!==vX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KL,resetWarningCache:JL};return t.PropTypes=t,t};XL.exports=yX();var YL=XL.exports;function xX({all:n,scene:e,camera:t}){const i=Zr(({gl:o})=>o),r=Zr(({camera:o})=>o),s=Zr(({scene:o})=>o);return G.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),i.compile(e||s,t||r);const a=new OM(128);new LM(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const _X=()=>me.jsx(Sj,{children:me.jsx("div",{className:"flex justify-center items-center",children:me.jsx("div",{className:"w-20 h-20 border-2 border-opacity-20 border-blue-500 border-t-blue-500 rounded-full animate-spin"})})}),SX=({scrollToSection:n,refs:e})=>me.jsx("nav",{className:"navbar header w-full fixed top-0 left-0 z-30",children:me.jsxs("div",{className:"flex items-center justify-between w-full px-8 ",children:[me.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white rounded-lg shadow-lg",style:{marginRight:"32px"},children:me.jsx("div",{className:"blue-gradient_text text-1xl font-bold",style:{WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"},children:"EW"})}),me.jsxs("ul",{className:"flex gap-8",children:[me.jsx("li",{children:me.jsx("button",{onClick:()=>n(e.homeRef),children:"Home"})}),me.jsx("li",{children:me.jsx("button",{onClick:()=>n(e.aboutRef),children:"About"})}),me.jsx("li",{children:me.jsx("button",{onClick:()=>n(e.projectsRef),children:"Projects"})}),me.jsx("li",{children:me.jsx("button",{onClick:()=>n(e.portfolioRef),children:"Portfolio"})}),me.jsx("li",{children:me.jsx("button",{onClick:()=>n(e.contactRef),children:"Contact"})})]})]})}),AX="/assets/usda-DZGWvQUj.png",MX="/assets/ut-DWVstbwu.png",wX="/assets/wwf-PFUIdzxy.png",EX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbAAAADYCAMAAAC9QEabAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGNQTFRFQIO2v9bn5JeY8cvMf6zOEGSk7/X5z+DtIG+q3+rzMHmw3X1/YJjD12Nlj7fUUI68+OXln8Ha0ElMcKLJr8vh9djYzDw//PLy67Gy4YqM56Sl01ZZ7r6/2nByyS8yAFqe////XCCp2wAAACF0Uk5T//////////////////////////////////////////8An8HQIQAABuVJREFUeNrs3dl2mzoAhWFhM4PnKU5bzPs/5XHadZKYgCYQFvjfF129iJGtzwIhCVnUZFIRVAFgBDACGGAEMAIYYAQwAhhgBDACGGAEMAIYYAQwAhhgBDACGGAEMAIYYAQwAhhgBDACGAEMMAIYAQwwAhgBDDACmLuPeZNEAAYYYIDZg13eilV1z/7P+xYw78G2xbn6yuoNMK/BLouqkdUJMH/BTr+qn3kDzFew07lqSwGYn2AdXlV1BcxHsMu+6spvwDwEKzq9qvMFMO/AlpUkBWDega1kYNXjLXQiBsgBsD5gW6lXo98R3AaIAKwP2EIOdgbMMzD5GbGqToD5Babwqt4B8wpsqwJbAOYV2FIFVgA2LbAVYLQwwLiG0UtsnRUDjPswwAzB3uVee0Y6pjWWuADMMzDZdNiP0XrAPADb6g/WA+YDWH3Vn3EGzAew+lcn2LIGzEOwy1nnHgwwb8Dq017PCzBPwOpLy+3zuWWNG2CegN3vn5unxT9tK9wA8wasviy+nxeLZesfAeYP2MelbPFnta9Wq+vvrvWjgHkFpg5ggAEGGGDaYOHYHxMwwAADDDDAAAMMMMAAAwwwwF4YLFiHGyHuKvd/NuEuAcxjsOMhbzFYJ4Btl7I8B+xYRl1FpOvMAiwOZJF/SWWJnwAmfyr9CWBxmMpLKTNjMPkbl74d6SsDwOIwUg/4/08G2NPB1hpc90QhYD6AJbn2rFqeAfZ0sLXJPGh0BOy5YPHGcOp6B9gzwQxOh59igD0PLIlu5okA6wdmvwTHyku/JMAGBnPgBZhDMBdegLkDi/MbYFMCEzfApgQW3gCbElhyA2xSYClgkwJzdEIEzBFYdgNsUmAlYJMCc9fAAHMCVgI2KTCHDQwwF2AH7del/35pB7DngukN+qaH4+cCwGS9AexpYDutVxybdwIHwJ4EptFYol3Le842gD0DLFb/eR5bL7ACbHCwo/Kvy863HUSAjQ5WmvVQDN8LYIODqcbpU+nDIWvARgZTXsISxYcEbFywwPoCpjVMAtjQYKqZsEz11kvARgUr+zUwVRMDTA2WGv3stuIapFEZOWBjrq2X30lFGkdYAzYmmPxYG40jJID5Axb2PQRgA4Mlt/51kQM2HlgwAJgADDDAAAMMsCeAZYDNqlu/pls/LbCybyMdBiwATHP+MtU4wg6wMcFEz9kVxaorMUi1273y1LLZ5PTByr4Hi2/uwY7GrzxdP3+299f1NCcwxaIM9XB9OBDYzrqMn2BvjR+A3b/NB6zv0eJoILDQ+jTQBFu2/Cb2fjkXsFq16Fexo+5hqDUdwnaOtAnWUZeLuYCp9lMRvRqoPthtoLv7oqsWi8s8wJQPNcjuxZTbHRmAHe1uHBo92aK7GlfzAFOv6SntvR7AMtumnOs3zUJWj4WfYBqLcB6W4agfDys7rmPqpfWPCje7gUvVB/7ePZTWY/XuJdjAC93+fgfa6jI+mJWjXBWed/RDU+0iLmc52Hk7BzCt44kmmdbW9g0wYXXu3ei/qqgUKeYAprltUXr4Mst2No/MqvfbaRGLlSeAr2v2tlJmOwcw/Y3P+z2UrvEoWt5syIH62/T1kqsa7DoHsNjFVqRtYDr7S4jdVy89W+tsuvl1/L0a7DwHMHdbgzX76nqbnkZiE4bhRkSGJZwqjZzmAOawiQmzm3SLfE2Kv+uALeYA5rCJPZbjYhvNTL+PqOonTgcsTscBc7CP5rcCVjpgq1mAafTfhilnN3gBu9cEqzfjgA1+tfy+6OSlwFz1O4TR3HGvBvZaYK5OisJwYNAwD8OPrwXmpMvt/IsRaE+tzKuX6O4yJpwWc3g48gvdh/07W+WjgA1YTGM+5nVGOhyKCZtpas1EzVWuLzOW2Essyk3LGUgsSsxqcT6j9f3EjsK4nEHEfnq9zHzYdzHjLkFYm4MNIZa2bVr2IjPOfe5sy9oGrM76Xi5F67qg11jTYT7H+zinL8b4YnTOqTzmtxzsrZ4hmMYqisd6swOrE/ufBBTdD0FNcV1iX7B7CbnJZUTYlnO0G6YS0gf4Cnuv6YLV9U6jLsO47gd2JzNvZRvV85aFtdeUwe5kirosM63VhqpysoNJM0vDzLouh316ZbuUpXGNCQZIon5PSXddpuG3TlrSt5xQr52JdaJXmWM8H+ZpWutShMngBQXhRnbdzMu10ZPn7p/A9BntGJZCiOjvKtJwHbgrKQt2Yfh3peoHXv7xn00Y7oLM4ljL66fZ/qr7YPo8wKabf9eTi/4LAJtYAAOMAEYAA4wARgADjABGAAOMAEYAA4wARgADjABGAAOMAEYAA4wARgADjABGAAOMAEYAI4ABRgAjgAFGACOAzSX/CTAAGc5220A6XKQAAAAASUVORK5CYII=",TX="/assets/hda-C8OAZPrf.png",CX="/assets/ibm-CUvEu7tM.png",bX="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cpath%20fill='%2375aadb'%20d='M71.4%2038.8c-1.5-.6-3.9-1-6.9-1.1-4.2-.1-9%20.4-9.2.5v20c13.3.6%2015.5-1.7%2015.5-1.7%2011.6-5.9%204.3-16.2.6-17.7z'/%3e%3cpath%20fill='%2375aadb'%20d='M64%200C28.6%200%200%2028.6%200%2064s28.6%2064%2064%2064%2064-28.6%2064-64S99.3%200%2064%200zm28.6%2089.8H82L64.4%2063.5h-9V84h9v5.8H41.5v-5.7l7.6-.1-.1-45.9c-.8-.2-7.5-.8-7.5-.8V32c1%201%207.9%201.2%207.9%201.2%201.6.1%203.9.2%205.2-.1%209.3-1.7%2016.4-.4%2016.4-.4%2014%203.2%2014.2%2015.8%2010.3%2022.6-3.5%205.8-10.3%207.2-10.3%207.2l14.4%2021.8%207.2-.1v5.6z'/%3e%3cpath%20d='M41.595%2087.073v-2.726l1.82-.141a59.125%2059.125%200%20013.752-.144h1.931V37.996l-.938-.127c-.516-.07-2.204-.248-3.752-.397l-2.813-.27v-2.51c0-2.332.027-2.495.39-2.3%201.583.847%2010.7%201.07%2015.83.388%204.202-.558%2011.495-.425%2014.035.257%205.483%201.472%209.11%204.646%2010.824%209.473.717%202.018.817%205.847.216%208.224-.903%203.572-2.39%206.048-4.865%208.101-1.482%201.23-4.847%203.03-6.145%203.29-.397.079-.772.224-.832.321-.06.098%203.123%205.072%207.075%2011.054l7.184%2010.876%203.633-.068%203.634-.068V89.8l-5.242-.008-5.24-.007-8.82-13.234-8.817-13.234h-9.178V84.061h9.049V89.8H41.595zm25.158-29.162c3.476-.55%207.265-2.774%208.973-5.263%202.511-3.663%201.537-8.99-2.294-12.547-1.357-1.26-2.205-1.63-4.794-2.1-2.124-.386-8.66-.454-11.706-.122l-1.544.168-.058%2010.083-.057%2010.082.72.106c1.366.2%208.67-.075%2010.76-.407z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='.788'/%3e%3c/svg%3e",RX="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cpath%20d='M109.766%207.281a7.691%207.691%200%2001-1.09%204.282%207.583%207.583%200%2001-3.262%202.949%207.49%207.49%200%2001-4.34.62%207.525%207.525%200%2001-3.953-1.913A7.642%207.642%200%200195.137%205a7.606%207.606%200%20012.629-3.531%207.509%207.509%200%20014.136-1.461%207.51%207.51%200%20015.422%201.996%207.627%207.627%200%20012.438%205.273zm0%200'%20fill='%23767677'/%3e%3cpath%20d='M65.758%2096.79c-20.098%200-37.649-7.364-46.766-18.267a49.95%2049.95%200%200018.102%2024.254%2049.251%2049.251%200%200028.676%209.215%2049.279%2049.279%200%200028.675-9.215%2049.917%2049.917%200%200018.094-24.254C103.406%2089.426%2085.855%2096.79%2065.758%2096.79zm0%200M65.75%2025.883c20.098%200%2037.652%207.367%2046.766%2018.265a49.95%2049.95%200%2000-18.102-24.253%2049.27%2049.27%200%2000-28.672-9.22%2049.27%2049.27%200%2000-28.672%209.22A49.909%2049.909%200%200018.97%2044.148C28.102%2033.27%2045.652%2025.883%2065.75%2025.883zm0%200'%20fill='%23f37726'/%3e%3cpath%20d='M38.164%20117.984a9.671%209.671%200%2001-1.371%205.399%209.5%209.5%200%2001-9.59%204.504%209.405%209.405%200%2001-4.98-2.418%209.671%209.671%200%2001-2.809-4.797%209.73%209.73%200%2001.313-5.567%209.624%209.624%200%20013.328-4.453%209.466%209.466%200%200112.043.688%209.63%209.63%200%20013.066%206.648zm0%200'%20fill='%23989798'/%3e%3cpath%20d='M21.285%2023.418a5.53%205.53%200%2001-3.14-.816%205.627%205.627%200%2001-2.618-5.672%205.612%205.612%200%20011.407-2.95%205.593%205.593%200%20012.789-1.664%205.46%205.46%200%20013.238.184%205.539%205.539%200%20012.586%201.969%205.66%205.66%200%2001-.399%207.129%205.557%205.557%200%2001-3.867%201.82zm0%200'%20fill='%236f7070'/%3e%3c/svg%3e",PX="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cpath%20fill='%2300618A'%20d='M116.948%2097.807c-6.863-.187-12.104.452-16.585%202.341-1.273.537-3.305.552-3.513%202.147.7.733.809%201.829%201.365%202.731%201.07%201.73%202.876%204.052%204.488%205.268%201.762%201.33%203.577%202.751%205.465%203.902%203.358%202.047%207.107%203.217%2010.34%205.268%201.906%201.21%203.799%202.733%205.658%204.097.92.675%201.537%201.724%202.732%202.147v-.194c-.628-.8-.79-1.898-1.366-2.733l-2.537-2.537c-2.48-3.292-5.629-6.184-8.976-8.585-2.669-1.916-8.642-4.504-9.755-7.609l-.195-.195c1.892-.214%204.107-.898%205.854-1.367%202.934-.786%205.556-.583%208.585-1.365l4.097-1.171v-.78c-1.531-1.571-2.623-3.651-4.292-5.073-4.37-3.72-9.138-7.437-14.048-10.537-2.724-1.718-6.089-2.835-8.976-4.292-.971-.491-2.677-.746-3.318-1.562-1.517-1.932-2.342-4.382-3.511-6.633-2.449-4.717-4.854-9.868-7.024-14.831-1.48-3.384-2.447-6.72-4.293-9.756-8.86-14.567-18.396-23.358-33.169-32-3.144-1.838-6.929-2.563-10.929-3.513-2.145-.129-4.292-.26-6.438-.391-1.311-.546-2.673-2.149-3.902-2.927C17.811%204.565%205.257-2.16%201.633%206.682c-2.289%205.581%203.421%2011.025%205.462%2013.854%201.434%201.982%203.269%204.207%204.293%206.438.674%201.467.79%202.938%201.367%204.489%201.417%203.822%202.652%207.98%204.487%2011.511.927%201.788%201.949%203.67%203.122%205.268.718.981%201.951%201.413%202.145%202.927-1.204%201.686-1.273%204.304-1.95%206.44-3.05%209.615-1.899%2021.567%202.537%2028.683%201.36%202.186%204.567%206.871%208.975%205.073%203.856-1.57%202.995-6.438%204.098-10.732.249-.973.096-1.689.585-2.341v.195l3.513%207.024c2.6%204.187%207.212%208.562%2011.122%2011.514%202.027%201.531%203.623%204.177%206.244%205.073v-.196h-.195c-.508-.791-1.303-1.119-1.951-1.755-1.527-1.497-3.225-3.358-4.487-5.073-3.556-4.827-6.698-10.11-9.561-15.609-1.368-2.627-2.557-5.523-3.709-8.196-.444-1.03-.438-2.589-1.364-3.122-1.263%201.958-3.122%203.542-4.098%205.854-1.561%203.696-1.762%208.204-2.341%2012.878-.342.122-.19.038-.391.194-2.718-.655-3.672-3.452-4.683-5.853-2.554-6.07-3.029-15.842-.781-22.829.582-1.809%203.21-7.501%202.146-9.172-.508-1.666-2.184-2.63-3.121-3.903-1.161-1.574-2.319-3.646-3.124-5.464-2.09-4.731-3.066-10.044-5.267-14.828-1.053-2.287-2.832-4.602-4.293-6.634-1.617-2.253-3.429-3.912-4.683-6.635-.446-.968-1.051-2.518-.391-3.513.21-.671.508-.951%201.171-1.17%201.132-.873%204.284.29%205.462.779%203.129%201.3%205.741%202.538%208.392%204.294%201.271.844%202.559%202.475%204.097%202.927h1.756c2.747.631%205.824.195%208.391.975%204.536%201.378%208.601%203.523%2012.292%205.854%2011.246%207.102%2020.442%2017.21%2026.732%2029.269%201.012%201.942%201.45%203.794%202.341%205.854%201.798%204.153%204.063%208.426%205.852%2012.488%201.786%204.052%203.526%208.141%206.05%2011.513%201.327%201.772%206.451%202.723%208.781%203.708%201.632.689%204.307%201.409%205.854%202.34%202.953%201.782%205.815%203.903%208.586%205.855%201.383.975%205.64%203.116%205.852%204.879zM29.729%2023.466c-1.431-.027-2.443.156-3.513.389v.195h.195c.683%201.402%201.888%202.306%202.731%203.513.65%201.367%201.301%202.732%201.952%204.097l.194-.193c1.209-.853%201.762-2.214%201.755-4.294-.484-.509-.555-1.147-.975-1.755-.556-.811-1.635-1.272-2.339-1.952z'/%3e%3c/svg%3e",IX="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3clinearGradient%20id='python-original-a'%20gradientUnits='userSpaceOnUse'%20x1='70.252'%20y1='1237.476'%20x2='170.659'%20y2='1151.089'%20gradientTransform='matrix(.563%200%200%20-.568%20-29.215%20707.817)'%3e%3cstop%20offset='0'%20stop-color='%235A9FD4'/%3e%3cstop%20offset='1'%20stop-color='%23306998'/%3e%3c/linearGradient%3e%3clinearGradient%20id='python-original-b'%20gradientUnits='userSpaceOnUse'%20x1='209.474'%20y1='1098.811'%20x2='173.62'%20y2='1149.537'%20gradientTransform='matrix(.563%200%200%20-.568%20-29.215%20707.817)'%3e%3cstop%20offset='0'%20stop-color='%23FFD43B'/%3e%3cstop%20offset='1'%20stop-color='%23FFE873'/%3e%3c/linearGradient%3e%3cpath%20fill='url(%23python-original-a)'%20d='M63.391%201.988c-4.222.02-8.252.379-11.8%201.007-10.45%201.846-12.346%205.71-12.346%2012.837v9.411h24.693v3.137H29.977c-7.176%200-13.46%204.313-15.426%2012.521-2.268%209.405-2.368%2015.275%200%2025.096%201.755%207.311%205.947%2012.519%2013.124%2012.519h8.491V67.234c0-8.151%207.051-15.34%2015.426-15.34h24.665c6.866%200%2012.346-5.654%2012.346-12.548V15.833c0-6.693-5.646-11.72-12.346-12.837-4.244-.706-8.645-1.027-12.866-1.008zM50.037%209.557c2.55%200%204.634%202.117%204.634%204.721%200%202.593-2.083%204.69-4.634%204.69-2.56%200-4.633-2.097-4.633-4.69-.001-2.604%202.073-4.721%204.633-4.721z'%20transform='translate(0%2010.26)'/%3e%3cpath%20fill='url(%23python-original-b)'%20d='M91.682%2028.38v10.966c0%208.5-7.208%2015.655-15.426%2015.655H51.591c-6.756%200-12.346%205.783-12.346%2012.549v23.515c0%206.691%205.818%2010.628%2012.346%2012.547%207.816%202.297%2015.312%202.713%2024.665%200%206.216-1.801%2012.346-5.423%2012.346-12.547v-9.412H63.938v-3.138h37.012c7.176%200%209.852-5.005%2012.348-12.519%202.578-7.735%202.467-15.174%200-25.096-1.774-7.145-5.161-12.521-12.348-12.521h-9.268zM77.809%2087.927c2.561%200%204.634%202.097%204.634%204.692%200%202.602-2.074%204.719-4.634%204.719-2.55%200-4.633-2.117-4.633-4.719%200-2.595%202.083-4.692%204.633-4.692z'%20transform='translate(0%2010.26)'/%3e%3cradialGradient%20id='python-original-c'%20cx='1825.678'%20cy='444.45'%20r='26.743'%20gradientTransform='matrix(0%20-.24%20-1.055%200%20532.979%20557.576)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23B8B8B8'%20stop-opacity='.498'/%3e%3cstop%20offset='1'%20stop-color='%237F7F7F'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3cpath%20opacity='.444'%20fill='url(%23python-original-c)'%20d='M97.309%20119.597c0%203.543-14.816%206.416-33.091%206.416-18.276%200-33.092-2.873-33.092-6.416%200-3.544%2014.815-6.417%2033.092-6.417%2018.275%200%2033.091%202.872%2033.091%206.417z'/%3e%3c/svg%3e",BX="/assets/qgis-BDDzFkhs.svg",DX="data:image/svg+xml,%3csvg%20viewBox='0%200%20128%20128'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m124.9%2047.192c-1.7102%200-3.0994%201.3892-3.0994%203.0994s1.3892%203.0997%203.0994%203.0997c1.7103%200%203.0997-1.3894%203.0997-3.0997s-1.3894-3.0994-3.0997-3.0994zm0%200.2663c1.5663%200%202.8334%201.2668%202.8334%202.8332%200%201.5663-1.267%202.8334-2.8334%202.8334-1.5663%200-2.8332-1.2671-2.8332-2.8334%200-1.5663%201.2668-2.8332%202.8332-2.8332zm-1.6879%201.0714v0.18857h0.27426c0.05%200%200.10361%200.0224%200.1252%200.0557%200.11325%200.15835%200.11391%200.33506%200.11391%200.33506v2.327s-6.6e-4%200.17671-0.11391%200.33506c-0.0216%200.0333-0.0752%200.0557-0.1252%200.0557h-0.27426v0.18855h1.5758v-0.18857h-0.27425c-0.05%200-0.10362-0.0224-0.1252-0.0557-0.11326-0.15835-0.11391-0.33506-0.11391-0.33506v-1.0847h0.35738c0.1188%200%200.3451%200.11827%200.39971%200.16343%200.21263%200.15698%200.32705%200.45654%200.35584%201.0752%206e-3%200.12808%200.0681%200.26617%200.18241%200.34918%200.25405%200.17339%200.70716%200.19688%200.99518-0.0377%200.14313-0.13033%200.19235-0.35261%200.1937-0.56031l-0.18471-0.0344s-0.0289%200.48335-0.28683%200.48335c-0.0803%200-0.19419-0.10295-0.20089-0.26451-0.0123-0.29702-0.17138-0.99918-0.97414-1.2143%200.25052%200%200.66509-0.107%200.79917-0.20473%200.20004-0.14762%200.39504-0.3796%200.41254-0.63395l2e-3%20-1e-3v-0.14237l-1e-3%20-7.7e-4c-0.0296-0.43143-0.57155-0.79866-0.77865-0.79866h-1.8208zm1.0624%200.26989h0.84304c0.17056%200%200.56011%200.19938%200.58546%200.53133%200%200.0115%202e-3%200.0229%202e-3%200.0341v0.0706c0%200.0112-2e-3%200.0227-2e-3%200.0341-0.0253%200.3314-0.41369%200.53067-0.58469%200.53132h-0.84381zm-95.427%203.5584-2.3513%206.3356h7.8816v22.114h6.3472v-22.114h6.3333l2.3513-6.3356zm48.619%200-2.3513%206.3356h7.8819v22.114h6.3469v-22.114h6.3333l2.3516-6.3356zm-49.565%200.0174-17.355%202.5e-4v1e-3c-0.7843%202e-3%20-2.3705%206e-3%20-2.5363%206e-3%20-2.1745%200-4.0423%201.1602-5.5508%202.6802-1.5084%201.52-2.4609%203.2021-2.4609%205.3933v1.2096c4.99e-4%202.1904%200.95288%203.8719%202.4609%205.3915%201.5085%201.52%203.3763%202.6802%205.5508%202.6802%200.1564%200%201.5491%204e-3%202.3919%206e-3v2e-3h8.9407c1.3141%200%202.3771%201.0426%202.4237%202.3549-0.047%201.3123-1.1096%202.3547-2.4237%202.3547h-16.895l-2.3493%206.33h17.319v-1e-3c0.7401-2e-3%202.4434-6e-3%202.6143-6e-3%202.1745%200%204.0423-1.1602%205.5508-2.6802%201.508-1.5197%202.4606-3.2011%202.4611-5.3915v-1.2099c0-2.1912-0.95274-3.873-2.4611-5.393-1.5085-1.52-3.3763-2.6802-5.5508-2.6802-0.1538%200-1.4982-4e-3%20-2.3521-6e-3v-2e-3h-8.9805c-1.3141%200-2.3771-1.0426-2.4237-2.3549%200.047-1.3123%201.1096-2.3549%202.4237-2.3549h16.853zm22.363%208e-3%20-2.349%206.33h18.476c1.2888%200%202.3356%201.0028%202.4193%202.2795h0.018v2.6e-4h-0.0239v2.4298l-15.31%207e-3c-2.1745%200-4.0422%201.1602-5.5506%202.6802-3.1887%203.5728-3.3403%208.5643%200%2011.994%201.5084%201.52%203.3761%202.6802%205.5506%202.6802l21.633%200.0126-0.0364-20.333c0-2.1912-0.95267-3.8733-2.4611-5.3933-1.5085-1.5201-3.3763-2.6802-5.5508-2.6802zm48.619%200-2.3493%206.33h18.476c1.2888%200%202.3353%201.0028%202.4191%202.2795h0.018v2.6e-4h-0.0239v2.4298l-15.31%207e-3c-2.1745%200-4.0424%201.1602-5.5508%202.6802-3.1886%203.5728-3.3402%208.5643%200%2011.994%201.5085%201.52%203.3763%202.6802%205.5508%202.6802l21.633%200.0126-0.0364-20.333c0-2.1912-0.95268-3.8733-2.4611-5.3933-1.5085-1.5201-3.3763-2.6802-5.5508-2.6802zm-44.701%2017.37h14.622v4.6857l-14.622%200.0239c-1.314%200-2.3771-1.0426-2.4237-2.3549%200.047-1.3123%201.1097-2.3547%202.4237-2.3547zm48.619%200h14.622v4.6857l-14.622%200.0239c-1.3141%200-2.3771-1.0426-2.4237-2.3549%200.0466-1.3123%201.1096-2.3547%202.4237-2.3547z'%20fill='%23195f92'/%3e%3c/svg%3e",LX="/assets/arc-Dxcto-Ia.svg",OX="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23169154'%20d='M29,6H15.744C14.781,6,14,6.781,14,7.744v7.259h15V6z'/%3e%3cpath%20fill='%2318482a'%20d='M14,33.054v7.202C14,41.219,14.781,42,15.743,42H29v-8.946H14z'/%3e%3cpath%20fill='%230c8045'%20d='M14%2015.003H29V24.005000000000003H14z'/%3e%3cpath%20fill='%2317472a'%20d='M14%2024.005H29V33.055H14z'/%3e%3cg%3e%3cpath%20fill='%2329c27f'%20d='M42.256,6H29v9.003h15V7.744C44,6.781,43.219,6,42.256,6z'/%3e%3cpath%20fill='%2327663f'%20d='M29,33.054V42h13.257C43.219,42,44,41.219,44,40.257v-7.202H29z'/%3e%3cpath%20fill='%2319ac65'%20d='M29%2015.003H44V24.005000000000003H29z'/%3e%3cpath%20fill='%23129652'%20d='M29%2024.005H44V33.055H29z'/%3e%3c/g%3e%3cpath%20fill='%230c7238'%20d='M22.319,34H5.681C4.753,34,4,33.247,4,32.319V15.681C4,14.753,4.753,14,5.681,14h16.638%20C23.247,14,24,14.753,24,15.681v16.638C24,33.247,23.247,34,22.319,34z'/%3e%3cpath%20fill='%23fff'%20d='M9.807%2019L12.193%2019%2014.129%2022.754%2016.175%2019%2018.404%2019%2015.333%2024%2018.474%2029%2016.123%2029%2014.013%2025.07%2011.912%2029%209.526%2029%2012.719%2023.982z'/%3e%3c/svg%3e",QL="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21481)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.557%200.520996C11.7523%200.520996%200.558594%2011.7575%200.558594%2025.6216C0.558594%2036.7092%207.72108%2046.1167%2017.657%2049.436C18.907%2049.6666%2019.3633%2048.8916%2019.3633%2048.2265C19.3633%2047.6304%2019.3414%2046.0523%2019.3289%2043.9581C12.3742%2045.4751%2010.907%2040.5933%2010.907%2040.5933C9.7711%2037.6944%208.13204%2036.9226%208.13204%2036.9226C5.86173%2035.3648%208.30389%2035.3962%208.30389%2035.3962C10.8117%2035.5734%2012.132%2037.983%2012.132%2037.983C14.3633%2041.8184%2017.9836%2040.7109%2019.4086%2040.0678C19.6352%2038.4457%2020.282%2037.3398%2020.9961%2036.7124C15.4445%2036.0786%209.60858%2033.9263%209.60858%2024.3087C9.60858%2021.5682%2010.582%2019.3281%2012.182%2017.5727C11.9242%2016.9374%2011.0664%2014.3867%2012.4258%2010.9309C12.4258%2010.9309%2014.5258%2010.2563%2019.3008%2013.5035C21.2961%2012.9466%2023.4336%2012.6689%2025.5602%2012.658C27.6836%2012.6689%2029.8227%2012.9466%2031.8195%2013.5035C36.5914%2010.2563%2038.6867%2010.9309%2038.6867%2010.9309C40.0508%2014.3867%2039.193%2016.9374%2038.9351%2017.5727C40.5383%2019.3281%2041.5055%2021.5682%2041.5055%2024.3087C41.5055%2033.9499%2035.6602%2036.0723%2030.0914%2036.6935C30.9883%2037.4684%2031.7883%2038.9995%2031.7883%2041.3416C31.7883%2044.697%2031.757%2047.403%2031.757%2048.2265C31.757%2048.8979%2032.2071%2049.6791%2033.4758%2049.4329C43.4024%2046.1072%2050.5586%2036.706%2050.5586%2025.6216C50.5586%2011.7575%2039.3648%200.520996%2025.557%200.520996Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21481'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.558594)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",FX="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.93359%2044.9219L2.92969%200H46.9727L42.9688%2044.9219L24.9023%2050'%20fill='%23E34F26'/%3e%3cpath%20d='M25%2046.0938L39.5508%2042.0898L42.9688%203.61328H25'%20fill='%23EF652A'/%3e%3cpath%20d='M25%2020.3125H17.6758L17.1875%2014.6484H25V9.17969H11.1328L12.5977%2025.8789H25V20.3125ZM24.9023%2034.668L18.75%2033.0078L18.3594%2028.6133H12.8906L13.5742%2037.3047L24.9023%2040.4297V34.668Z'%20fill='%23EBEBEB'/%3e%3cpath%20d='M24.9023%2020.3125V25.8789H31.7383L31.0547%2033.0078L24.9023%2034.668V40.4297L36.2305%2037.3047L37.793%2020.3125H24.9023ZM24.9023%209.17969V14.6484H38.2812L38.7695%209.17969H24.9023Z'%20fill='white'/%3e%3c/svg%3e",NX="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%3e%3cpath%20d='M22.2975%201H2.69805C1.75918%201%201%201.74121%201%202.65762V22.3379C1%2023.2543%201.75918%2024%202.69805%2024H22.2975C23.2363%2024%2024%2023.2543%2024%2022.3424V2.65762C24%201.74121%2023.2363%201%2022.2975%201ZM7.82363%2020.5994H4.40957V9.62051H7.82363V20.5994ZM6.1166%208.12461C5.02051%208.12461%204.13555%207.23965%204.13555%206.14805C4.13555%205.05645%205.02051%204.17148%206.1166%204.17148C7.2082%204.17148%208.09316%205.05645%208.09316%206.14805C8.09316%207.23516%207.2082%208.12461%206.1166%208.12461ZM20.5994%2020.5994H17.1898V15.2627C17.1898%2013.9914%2017.1674%2012.3518%2015.4154%2012.3518C13.641%2012.3518%2013.3715%2013.7398%2013.3715%2015.1729V20.5994H9.96641V9.62051H13.2367V11.1209H13.2816C13.7354%2010.2584%2014.8494%209.34648%2016.507%209.34648C19.9615%209.34648%2020.5994%2011.6195%2020.5994%2014.5754V20.5994Z'%20fill='%230288D1'/%3e%3c/svg%3e",UX="data:image/svg+xml,%3csvg%20width='14'%20height='15'%20viewBox='0%200%2014%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.16602%207.49984H12.8327M12.8327%207.49984L6.99935%201.6665M12.8327%207.49984L6.99935%2013.3332'%20stroke='%23406AFF'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",kX="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_1616_89)'%3e%3cpath%20d='M24%2048C37.2548%2048%2048%2037.2548%2048%2024C48%2010.7452%2037.2548%200%2024%200C10.7452%200%200%2010.7452%200%2024C0%2037.2548%2010.7452%2048%2024%2048Z'%20fill='%232196F3'/%3e%3cpath%20d='M36%2028.962C33.411%2028.962%2030.942%2028.398%2028.665%2027.285C28.308%2027.114%2027.894%2027.087%2027.516%2027.216C27.138%2027.348%2026.829%2027.624%2026.655%2027.981L25.575%2030.216C22.335%2028.356%2019.647%2025.665%2017.784%2022.425L20.022%2021.345C20.382%2021.171%2020.655%2020.862%2020.787%2020.484C20.916%2020.106%2020.892%2019.692%2020.718%2019.335C19.602%2017.061%2019.038%2014.592%2019.038%2012C19.038%2011.172%2018.366%2010.5%2017.538%2010.5H12C11.172%2010.5%2010.5%2011.172%2010.5%2012C10.5%2026.061%2021.939%2037.5%2036%2037.5C36.828%2037.5%2037.5%2036.828%2037.5%2036V30.462C37.5%2029.634%2036.828%2028.962%2036%2028.962Z'%20fill='%23FAFAFA'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1616_89'%3e%3crect%20width='48'%20height='48'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",zX="/assets/factory-DZqbxAB5.png",HX="/assets/violin-BSJpyyHo.png",GX="/assets/testing-Dtm6CyE3.png",VX="/assets/game-CIhHguqT.png",WX=[{imageUrl:OX,name:"Excel",type:"Data Analysis"},{imageUrl:bX,name:"R Studio",type:"Data Analysis"},{imageUrl:DX,name:"Stata",type:"Data Analysis"},{imageUrl:IX,name:"Python",type:"Data Analysis"},{imageUrl:PX,name:"MySQL",type:"Database Management"},{imageUrl:RX,name:"Jupyter",type:"Tools"},{imageUrl:BX,name:"QGIS",type:"GIS"},{imageUrl:LX,name:"ArcGIS Pro",type:"GIS"},{imageUrl:QL,name:"GitHub",type:"Version Control"},{imageUrl:FX,name:"HTML",type:"Frontend"}],jX=[{title:"College Readiness Mentor",company_name:"iEducate",icon:EX,iconBg:"#accbe1",date:"Feb 2022 - May 2022",points:["Taught elementary school students in an underserved Houston neighborhood and increased passing rates in standardized testing"],tools:"Excel, MS Suite"},{title:"Lead TA & Receptionist",company_name:"Houston Dragon Academy",icon:TX,iconBg:"#fbc3bc",date:"June 2022 - August 2022",points:["Facilitated communication between teachers, students, and parents during the height of COVID-19, enforced safety precautions, and handled day-to-day office operations as a receptionist","Taught algebra and 2nd grade English, administered diagnostic tests to assess student progress, and supported individualized learning","Led a team of TAs, coordinating their schedules and school operations with the principal"],tools:"Excel"},{title:"Markets Institute Business Case Research Intern",company_name:"World Wildlife Fund",icon:wX,iconBg:"#b7e4c7",date:"August 2023 - December 2023",points:["Contributed to business case development by researching and advising economic valuation methods for soil-based ecosystem services, leveraging company databases in Excel","Analyzed farm-level data to identify correlations between soil health indicators and production losses across             conventional and regenerative agricultural practices and presented data insights to technical and non-            technical branch directors"],tools:"R Markdown, knitr, tidyverse, ggplot2, cowplot, fmsb"},{title:"Content Tutor, Renewable Energy Fellow",company_name:"University of Texas at Austin - UT Athletics, Innovations for Peace and Development Lab ",icon:MX,iconBg:"#BF5700",date:"March 2024 - June 2024, Jan 2024 - Present",points:["Supported students in data science and managerial accounting coursework by creating Excel review sheets            and debugging code","Compiled and coded a comprehensive database of IRA (2022) projects in Excel and web dashboard,            conducted qualitative analyses of incentive structures in legal contracts, and coordinated FOIA requests"],tools:"R Markdown, Excel, R Programming"},{title:"Survey Statistician Intern",company_name:"US Department of Agriculture - National Agricultural Statistics Service",icon:AX,iconBg:"#a2d2ff",date:"May 2024 - January 2025",points:["Proposed commodity estimates for national release using multi-frame survey methodology indications","Conducted ad hoc analyses with Hyperion queries and built Excel API integrations to support publications","Developed a network analysis script to improve travel efficiencies of 200+ workers"],tools:"OSMnx, Network X"},{title:"Strategic Initiatives Intern",company_name:"IBM Global Procurement",icon:CX,iconBg:"#a6c8ff",date:"May 2025 - August 2025",points:["Developed logic, Python script, and Streamlit tool to automate supplier relationship data cleanup","Coordinated User Acceptance Testing for enterprise chatbot resulting in successful sprint","Presented and documented usage, limitations, and developments of AI to analyze structured business data"],tools:"Python, MS Office Suite, Watson Orchestrate, WXO ADK, Cognos Analytics"}],XX=[{name:"Contact",iconUrl:kX,link:"tel:+7134271452"},{name:"GitHub",iconUrl:QL,link:"https://github.com/emilycwang"},{name:"LinkedIn",iconUrl:NX,link:"https://www.linkedin.com/in/emily-c-wang/"}],JX=[{iconUrl:zX,theme:"btn-back-red",name:"Predicting Ambient Air Pollution Concentrations Across the US",description:"Trained and tested KNNs, Random Forest, Boosted Trees models to predict PM2.5 and visualize in        comprehensive HTML report |R markdown, tidycensus, leaflet, engines xgboost and ranger",link:"/pm2.5.html"},{iconUrl:HX,theme:"btn-back-green",name:"In Search of Sadness",description:"Unveiling the saddest classical masterpieces using Spotify API and spotifyr.",link:"/In Search of Sadness.html"},{iconUrl:GX,theme:"btn-back-blue",name:"Data Entry App - Goldin App",description:"Beta-tested and supported web app development for an orchestral diversity initiative, improving data entry efficiency for a team of 10 researchers through automated data scraping | React.js, Firestore",link:"https://goldinapp-97348.web.app/signup"},{name:"2048 - Cats",description:"The classic 2048 game  cat themed  built with Code.org AppLab in my senior year of high school.",iconUrl:VX,theme:"btn-back-yellow",link:"https://studio.code.org/projects/applab/EODsK1rGZb2yAtNmTuqgdrqDU-5rNkaoB2r71TI7Xms"}],KX=()=>me.jsxs("footer",{className:"footer font-poppins",children:[me.jsx("hr",{className:"border-slate-200"}),me.jsxs("div",{className:"footer-container",children:[me.jsxs("p",{children:[" 2025 ",me.jsx("strong",{children:"Emily Wang"})]}),me.jsx("div",{className:"flex gap-3 justify-center items-center",children:XX.map(n=>me.jsx(yM,{to:n.link,target:"_blank",children:me.jsx("img",{src:n.iconUrl,alt:n.name,className:"w-6 h-6 object-contain"})},n.name))})]})]}),qL=G.createContext({});function YX(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const gw=G.createContext(null),ZL=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function QX(n=!0){const e=G.useContext(gw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=G.useId();G.useEffect(()=>{n&&r(s)},[n]);const o=G.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,o]:[!0]}const vw=typeof window<"u",qX=vw?G.useLayoutEffect:G.useEffect,Br=n=>n;let $L=Br;function yw(n){let e;return()=>(e===void 0&&(e=n()),e)}const Yc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},bo=n=>n*1e3,Ro=n=>n/1e3,ZX={useManualTiming:!1};function $X(n){let e=new Set,t=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),n()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const m=h&&i?e:t;return d&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{t.delete(u),s.delete(u)},process:u=>{if(o=u,i){r=!0;return}i=!0,[e,t]=[t,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(u))}};return l}const tg=["read","resolveKeyframes","update","preRender","render","postRender"],eJ=40;function eO(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=tg.reduce((g,S)=>(g[S]=$X(s),g),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:p}=o,m=()=>{const g=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(g-r.timestamp,eJ),1),r.timestamp=g,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),d.process(r),h.process(r),p.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(m))},v=()=>{t=!0,i=!0,r.isProcessing||n(m)};return{schedule:tg.reduce((g,S)=>{const A=o[S];return g[S]=(w,C=!1,P=!1)=>(t||v(),A.schedule(w,C,P)),g},{}),cancel:g=>{for(let S=0;S<tg.length;S++)o[tg[S]].cancel(g)},state:r,steps:o}}const{schedule:wn,cancel:Ia,state:Mi,steps:tS}=eO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0),tO=G.createContext({strict:!1}),lR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qc={};for(const n in lR)Qc[n]={isEnabled:e=>lR[n].some(t=>!!e[t])};function tJ(n){for(const e in n)Qc[e]={...Qc[e],...n[e]}}const nJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function W0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nJ.has(n)}let nO=n=>!W0(n);function iJ(n){n&&(nO=e=>e.startsWith("on")?!W0(e):n(e))}try{iJ(require("@emotion/is-prop-valid").default)}catch{}function rJ(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(nO(r)||t===!0&&W0(r)||!e&&!W0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function sJ(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const ly=G.createContext({});function yh(n){return typeof n=="string"||Array.isArray(n)}function uy(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const xw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_w=["initial",...xw];function cy(n){return uy(n.animate)||_w.some(e=>yh(n[e]))}function iO(n){return!!(cy(n)||n.variants)}function oJ(n,e){if(cy(n)){const{initial:t,animate:i}=n;return{initial:t===!1||yh(t)?t:void 0,animate:yh(i)?i:void 0}}return n.inherit!==!1?e:{}}function aJ(n){const{initial:e,animate:t}=oJ(n,G.useContext(ly));return G.useMemo(()=>({initial:e,animate:t}),[uR(e),uR(t)])}function uR(n){return Array.isArray(n)?n.join(" "):n}const lJ=Symbol.for("motionComponentSymbol");function fc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function uJ(n,e,t){return G.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):fc(t)&&(t.current=i))},[e])}const Sw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cJ="framerAppearId",rO="data-"+Sw(cJ),{schedule:Aw}=eO(queueMicrotask,!1),sO=G.createContext({});function fJ(n,e,t,i,r){var s,o;const{visualElement:a}=G.useContext(ly),l=G.useContext(tO),u=G.useContext(gw),d=G.useContext(ZL).reducedMotion,h=G.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:a,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=G.useContext(sO);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&dJ(h.current,t,r,m);const v=G.useRef(!1);G.useInsertionEffect(()=>{p&&v.current&&p.update(t,u)});const _=t[rO],x=G.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return qX(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Aw.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),G.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,_)}),x.current=!1))}),p}function dJ(n,e,t,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:oO(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&fc(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:u})}function oO(n){if(n)return n.options.allowProjection!==!1?n.projection:oO(n.parent)}function hJ({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){var s,o;n&&tJ(n);function a(u,d){let h;const p={...G.useContext(ZL),...u,layoutId:pJ(u)},{isStatic:m}=p,v=aJ(u),_=i(u,m);if(!m&&vw){mJ();const x=gJ(p);h=x.MeasureLayout,v.visualElement=fJ(r,_,p,e,x.ProjectionNode)}return me.jsxs(ly.Provider,{value:v,children:[h&&v.visualElement?me.jsx(h,{visualElement:v.visualElement,...p}):null,t(r,u,uJ(_,v.visualElement,d),_,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=G.forwardRef(a);return l[lJ]=r,l}function pJ({layoutId:n}){const e=G.useContext(qL).id;return e&&n!==void 0?e+"-"+n:n}function mJ(n,e){G.useContext(tO).strict}function gJ(n){const{drag:e,layout:t}=Qc;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const vJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mw(n){return typeof n!="string"||n.includes("-")?!1:!!(vJ.indexOf(n)>-1||/[A-Z]/u.test(n))}function cR(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function ww(n,e,t,i){if(typeof e=="function"){const[r,s]=cR(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=cR(i);e=e(t!==void 0?t:n.custom,r,s)}return e}const G1=n=>Array.isArray(n),yJ=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),xJ=n=>G1(n)?n[n.length-1]||0:n,Hi=n=>!!(n&&n.getVelocity);function wg(n){const e=Hi(n)?n.get():n;return yJ(e)?e.toValue():e}function _J({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,s){const o={latestValues:SJ(i,r,s,n),renderState:e()};return t&&(o.onMount=a=>t({props:i,current:a,...o}),o.onUpdate=a=>t(a)),o}const aO=n=>(e,t)=>{const i=G.useContext(ly),r=G.useContext(gw),s=()=>_J(n,e,i,r);return t?s():YX(s)};function SJ(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=wg(s[p]);let{initial:o,animate:a}=n;const l=cy(n),u=iO(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!uy(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const v=ww(n,p[m]);if(v){const{transitionEnd:_,transition:x,...g}=v;for(const S in g){let A=g[S];if(Array.isArray(A)){const w=d?A.length-1:0;A=A[w]}A!==null&&(r[S]=A)}for(const S in _)r[S]=_[S]}}}return r}const pf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cu=new Set(pf),lO=n=>e=>typeof e=="string"&&e.startsWith(n),uO=lO("--"),AJ=lO("var(--"),Ew=n=>AJ(n)?MJ.test(n.split("/*")[0].trim()):!1,MJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cO=(n,e)=>e&&typeof n=="number"?e.transform(n):n,No=(n,e,t)=>t>e?e:t<n?n:t,mf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},xh={...mf,transform:n=>No(0,1,n)},ng={...mf,default:1},jh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),oa=jh("deg"),Ys=jh("%"),Lt=jh("px"),wJ=jh("vh"),EJ=jh("vw"),fR={...Ys,parse:n=>Ys.parse(n)/100,transform:n=>Ys.transform(n*100)},TJ={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt},CJ={rotate:oa,rotateX:oa,rotateY:oa,rotateZ:oa,scale:ng,scaleX:ng,scaleY:ng,scaleZ:ng,skew:oa,skewX:oa,skewY:oa,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:xh,originX:fR,originY:fR,originZ:Lt},dR={...mf,transform:Math.round},Tw={...TJ,...CJ,zIndex:dR,size:Lt,fillOpacity:xh,strokeOpacity:xh,numOctaves:dR},bJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RJ=pf.length;function PJ(n,e,t){let i="",r=!0;for(let s=0;s<RJ;s++){const o=pf[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const u=cO(a,Tw[o]);if(!l){r=!1;const d=bJ[o]||o;i+=`${d}(${u}) `}t&&(e[o]=u)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Cw(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const u=e[l];if(cu.has(l)){o=!0;continue}else if(uO(l)){r[l]=u;continue}else{const d=cO(u,Tw[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||t?i.transform=PJ(e,n.transform,t):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${u} ${d}`}}const IJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},BJ={offset:"strokeDashoffset",array:"strokeDasharray"};function DJ(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?IJ:BJ;n[s.offset]=Lt.transform(-i);const o=Lt.transform(e),a=Lt.transform(t);n[s.array]=`${o} ${a}`}function hR(n,e,t){return typeof n=="string"?n:Lt.transform(e+t*n)}function LJ(n,e,t){const i=hR(e,n.x,n.width),r=hR(t,n.y,n.height);return`${i} ${r}`}function bw(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(Cw(n,u,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:v}=n;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=LJ(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),i!==void 0&&(p.scale=i),o!==void 0&&DJ(p,o,a,l,!1)}const Rw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),fO=()=>({...Rw(),attrs:{}}),Pw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function dO(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const hO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pO(n,e,t,i){dO(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(hO.has(r)?r:Sw(r),e.attrs[r])}const j0={};function OJ(n){Object.assign(j0,n)}function mO(n,{layout:e,layoutId:t}){return cu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!j0[n]||n==="opacity")}function Iw(n,e,t){var i;const{style:r}=n,s={};for(const o in r)(Hi(r[o])||e.style&&Hi(e.style[o])||mO(o,n)||((i=t==null?void 0:t.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function gO(n,e,t){const i=Iw(n,e,t);for(const r in n)if(Hi(n[r])||Hi(e[r])){const s=pf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}function FJ(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const pR=["x","y","width","height","cx","cy","r"],NJ={useVisualState:aO({scrapeMotionValuesFromProps:gO,createRenderState:fO,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let s=!!n.drag;if(!s){for(const a in r)if(cu.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<pR.length;a++){const l=pR[a];n[l]!==e[l]&&(o=!0)}o&&wn.read(()=>{FJ(t,i),wn.render(()=>{bw(i,r,Pw(t.tagName),n.transformTemplate),pO(t,i)})})}})},UJ={useVisualState:aO({scrapeMotionValuesFromProps:Iw,createRenderState:Rw})};function vO(n,e,t){for(const i in e)!Hi(e[i])&&!mO(i,t)&&(n[i]=e[i])}function kJ({transformTemplate:n},e){return G.useMemo(()=>{const t=Rw();return Cw(t,e,n),Object.assign({},t.vars,t.style)},[e])}function zJ(n,e){const t=n.style||{},i={};return vO(i,t,n),Object.assign(i,kJ(n,e)),i}function HJ(n,e){const t={},i=zJ(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function GJ(n,e,t,i){const r=G.useMemo(()=>{const s=fO();return bw(s,e,Pw(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};vO(s,n.style,n),r.style={...s,...r.style}}return r}function VJ(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(Mw(t)?GJ:HJ)(i,s,o,t),u=rJ(i,typeof t=="string",n),d=t!==G.Fragment?{...u,...l,ref:r}:{},{children:h}=i,p=G.useMemo(()=>Hi(h)?h.get():h,[h]);return G.createElement(t,{...d,children:p})}}function WJ(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...Mw(i)?NJ:UJ,preloadedFeatures:n,useRender:VJ(r),createVisualElement:e,Component:i};return hJ(o)}}function yO(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function fy(n,e,t){const i=n.getProps();return ww(i,e,t!==void 0?t:i.custom,n)}const jJ=yw(()=>window.ScrollTimeline!==void 0);class XJ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(jJ()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JJ extends XJ{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Bw(n,e){return n?n[e]||n.default||n:void 0}const V1=2e4;function xO(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<V1;)e+=t,i=n.next(e);return e>=V1?1/0:e}function Dw(n){return typeof n=="function"}function mR(n,e){n.timeline=e,n.onfinish=null}const Lw=n=>Array.isArray(n)&&typeof n[0]=="number",KJ={linearEasing:void 0};function YJ(n,e){const t=yw(n);return()=>{var i;return(i=KJ[e])!==null&&i!==void 0?i:t()}}const X0=YJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_O=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=n(Yc(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function SO(n){return!!(typeof n=="function"&&X0()||!n||typeof n=="string"&&(n in W1||X0())||Lw(n)||Array.isArray(n)&&n.every(SO))}const vd=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,W1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vd([0,.65,.55,1]),circOut:vd([.55,0,1,.45]),backIn:vd([.31,.01,.66,-.59]),backOut:vd([.33,1.53,.69,.99])};function AO(n,e){if(n)return typeof n=="function"&&X0()?_O(n,e):Lw(n)?vd(n):Array.isArray(n)?n.map(t=>AO(t,e)||W1.easeOut):W1[n]}const gs={x:!1,y:!1};function MO(){return gs.x||gs.y}function QJ(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function wO(n,e){const t=QJ(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function gR(n){return e=>{e.pointerType==="touch"||MO()||n(e)}}function qJ(n,e,t={}){const[i,r,s]=wO(n,t),o=gR(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const d=gR(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const EO=(n,e)=>e?n===e?!0:EO(n,e.parentElement):!1,Ow=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,ZJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $J(n){return ZJ.has(n.tagName)||n.tabIndex!==-1}const yd=new WeakSet;function vR(n){return e=>{e.key==="Enter"&&n(e)}}function nS(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eK=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=vR(()=>{if(yd.has(t))return;nS(t,"down");const r=vR(()=>{nS(t,"up")}),s=()=>nS(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function yR(n){return Ow(n)&&!MO()}function tK(n,e,t={}){const[i,r,s]=wO(n,t),o=a=>{const l=a.currentTarget;if(!yR(a)||yd.has(l))return;yd.add(l);const u=e(a),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!yR(m)||!yd.has(l))&&(yd.delete(l),typeof u=="function"&&u(m,{success:v}))},h=m=>{d(m,t.useGlobalTarget||EO(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!$J(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",u=>eK(u,r),r)}),s}function nK(n){return n==="x"||n==="y"?gs[n]?null:(gs[n]=!0,()=>{gs[n]=!1}):gs.x||gs.y?null:(gs.x=gs.y=!0,()=>{gs.x=gs.y=!1})}const TO=new Set(["width","height","top","left","right","bottom",...pf]);let Eg;function iK(){Eg=void 0}const Qs={now:()=>(Eg===void 0&&Qs.set(Mi.isProcessing||ZX.useManualTiming?Mi.timestamp:performance.now()),Eg),set:n=>{Eg=n,queueMicrotask(iK)}};function Fw(n,e){n.indexOf(e)===-1&&n.push(e)}function Nw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Uw{constructor(){this.subscriptions=[]}add(e){return Fw(this.subscriptions,e),()=>Nw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function CO(n,e){return e?n*(1e3/e):0}const xR=30,rK=n=>!isNaN(parseFloat(n));class sK{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Qs.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Qs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Uw);const i=this.events[e].add(t);return e==="change"?()=>{i(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xR)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,xR);return CO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _h(n,e){return new sK(n,e)}function oK(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_h(t))}function aK(n,e){const t=fy(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=xJ(s[o]);oK(n,o,a)}}function lK(n){return!!(Hi(n)&&n.add)}function j1(n,e){const t=n.getValue("willChange");if(lK(t))return t.add(e)}function bO(n){return n.props[rO]}const RO=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,uK=1e-7,cK=12;function fK(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=RO(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>uK&&++a<cK);return o}function Xh(n,e,t,i){if(n===e&&t===i)return Br;const r=s=>fK(s,0,1,n,t);return s=>s===0||s===1?s:RO(r(s),e,i)}const PO=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,IO=n=>e=>1-n(1-e),BO=Xh(.33,1.53,.69,.99),kw=IO(BO),DO=PO(kw),LO=n=>(n*=2)<1?.5*kw(n):.5*(2-Math.pow(2,-10*(n-1))),zw=n=>1-Math.sin(Math.acos(n)),OO=IO(zw),FO=PO(zw),NO=n=>/^0[^.\s]+$/u.test(n);function dK(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||NO(n):!0}const Ud=n=>Math.round(n*1e5)/1e5,Hw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hK(n){return n==null}const pK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gw=(n,e)=>t=>!!(typeof t=="string"&&pK.test(t)&&t.startsWith(n)||e&&!hK(t)&&Object.prototype.hasOwnProperty.call(t,e)),UO=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Hw);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mK=n=>No(0,255,n),iS={...mf,transform:n=>Math.round(mK(n))},Dl={test:Gw("rgb","red"),parse:UO("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+iS.transform(n)+", "+iS.transform(e)+", "+iS.transform(t)+", "+Ud(xh.transform(i))+")"};function gK(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const X1={test:Gw("#"),parse:gK,transform:Dl.transform},dc={test:Gw("hsl","hue"),parse:UO("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ys.transform(Ud(e))+", "+Ys.transform(Ud(t))+", "+Ud(xh.transform(i))+")"},Ui={test:n=>Dl.test(n)||X1.test(n)||dc.test(n),parse:n=>Dl.test(n)?Dl.parse(n):dc.test(n)?dc.parse(n):X1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Dl.transform(n):dc.transform(n)},vK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yK(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Hw))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(vK))===null||t===void 0?void 0:t.length)||0)>0}const kO="number",zO="color",xK="var",_K="var(",_R="${}",SK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(SK,l=>(Ui.test(l)?(i.color.push(s),r.push(zO),t.push(Ui.parse(l))):l.startsWith(_K)?(i.var.push(s),r.push(xK),t.push(l)):(i.number.push(s),r.push(kO),t.push(parseFloat(l))),++s,_R)).split(_R);return{values:t,split:a,indexes:i,types:r}}function HO(n){return Sh(n).values}function GO(n){const{split:e,types:t}=Sh(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===kO?s+=Ud(r[o]):a===zO?s+=Ui.transform(r[o]):s+=r[o]}return s}}const AK=n=>typeof n=="number"?0:n;function MK(n){const e=HO(n);return GO(n)(e.map(AK))}const Ba={test:yK,parse:HO,createTransformer:GO,getAnimatableNone:MK},wK=new Set(["brightness","contrast","saturate","opacity"]);function EK(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Hw)||[];if(!i)return n;const r=t.replace(i,"");let s=wK.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const TK=/\b([a-z-]*)\(.*?\)/gu,J1={...Ba,getAnimatableNone:n=>{const e=n.match(TK);return e?e.map(EK).join(" "):n}},CK={...Tw,color:Ui,backgroundColor:Ui,outlineColor:Ui,fill:Ui,stroke:Ui,borderColor:Ui,borderTopColor:Ui,borderRightColor:Ui,borderBottomColor:Ui,borderLeftColor:Ui,filter:J1,WebkitFilter:J1},Vw=n=>CK[n];function VO(n,e){let t=Vw(n);return t!==J1&&(t=Ba),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const bK=new Set(["auto","none","0"]);function RK(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!bK.has(s)&&Sh(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=VO(t,r)}const SR=n=>n===mf||n===Lt,AR=(n,e)=>parseFloat(n.split(", ")[e]),MR=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return AR(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?AR(s[1],n):0}},PK=new Set(["x","y","z"]),IK=pf.filter(n=>!PK.has(n));function BK(n){const e=[];return IK.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const qc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:MR(4,13),y:MR(5,14)};qc.translateX=qc.x;qc.translateY=qc.y;const zl=new Set;let K1=!1,Y1=!1;function WO(){if(Y1){const n=Array.from(zl).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=BK(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Y1=!1,K1=!1,zl.forEach(n=>n.complete()),zl.clear()}function jO(){zl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Y1=!0)})}function DK(){jO(),WO()}class Ww{constructor(e,t,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zl.add(this),K1||(K1=!0,wn.read(jO),wn.resolveKeyframes(WO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const XO=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),LK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OK(n){const e=LK.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function JO(n,e,t=1){const[i,r]=OK(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return XO(o)?parseFloat(o):o}return Ew(r)?JO(r,e,t+1):r}const KO=n=>e=>e.test(n),FK={test:n=>n==="auto",parse:n=>n},YO=[mf,Lt,Ys,oa,EJ,wJ,FK],wR=n=>YO.find(KO(n));class QO extends Ww{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Ew(u))){const d=JO(u,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!TO.has(i)||e.length!==2)return;const[r,s]=e,o=wR(r),a=wR(s);if(o!==a)if(SR(o)&&SR(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)dK(e[r])&&i.push(r);i.length&&RK(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qc[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=qc[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const ER=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ba.test(n)||n==="0")&&!n.startsWith("url("));function NK(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function UK(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=ER(r,e),a=ER(s,e);return!o||!a?!1:NK(n)||(t==="spring"||Dw(t))&&i}const kK=n=>n!==null;function dy(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(kK),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const zK=40;class qO{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qs.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&DK(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Qs.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!UK(e,i,r,s))if(o)this.options.duration=0;else{l&&l(dy(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Nn=(n,e,t)=>n+(e-n)*t;function rS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function HK({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=rS(l,a,n+1/3),s=rS(l,a,n),o=rS(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function J0(n,e){return t=>t>0?e:n}const sS=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},GK=[X1,Dl,dc],VK=n=>GK.find(e=>e.test(n));function TR(n){const e=VK(n);if(!e)return!1;let t=e.parse(n);return e===dc&&(t=HK(t)),t}const CR=(n,e)=>{const t=TR(n),i=TR(e);if(!t||!i)return J0(n,e);const r={...t};return s=>(r.red=sS(t.red,i.red,s),r.green=sS(t.green,i.green,s),r.blue=sS(t.blue,i.blue,s),r.alpha=Nn(t.alpha,i.alpha,s),Dl.transform(r))},WK=(n,e)=>t=>e(n(t)),Jh=(...n)=>n.reduce(WK),Q1=new Set(["none","hidden"]);function jK(n,e){return Q1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function XK(n,e){return t=>Nn(n,e,t)}function jw(n){return typeof n=="number"?XK:typeof n=="string"?Ew(n)?J0:Ui.test(n)?CR:YK:Array.isArray(n)?ZO:typeof n=="object"?Ui.test(n)?CR:JK:J0}function ZO(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>jw(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function JK(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=jw(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function KK(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][r[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;i[s]=l,r[o]++}return i}const YK=(n,e)=>{const t=Ba.createTransformer(e),i=Sh(n),r=Sh(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Q1.has(n)&&!r.values.length||Q1.has(e)&&!i.values.length?jK(n,e):Jh(ZO(KK(i,r),r.values),t):J0(n,e)};function $O(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Nn(n,e,t):jw(n)(n,e)}const QK=5;function eF(n,e,t){const i=Math.max(e-QK,0);return CO(t-n(i),e-i)}const Vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oS=.001;function qK({duration:n=Vn.duration,bounce:e=Vn.bounce,velocity:t=Vn.velocity,mass:i=Vn.mass}){let r,s,o=1-e;o=No(Vn.minDamping,Vn.maxDamping,o),n=No(Vn.minDuration,Vn.maxDuration,Ro(n)),o<1?(r=u=>{const d=u*o,h=d*n,p=d-t,m=q1(u,o),v=Math.exp(-h);return oS-p/m*v},s=u=>{const h=u*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,v=Math.exp(-h),_=q1(Math.pow(u,2),o);return(-r(u)+oS>0?-1:1)*((p-m)*v)/_}):(r=u=>{const d=Math.exp(-u*n),h=(u-t)*n+1;return-oS+d*h},s=u=>{const d=Math.exp(-u*n),h=(t-u)*(n*n);return d*h});const a=5/n,l=$K(r,s,a);if(n=bo(n),isNaN(l))return{stiffness:Vn.stiffness,damping:Vn.damping,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const ZK=12;function $K(n,e,t){let i=t;for(let r=1;r<ZK;r++)i=i-n(i)/e(i);return i}function q1(n,e){return n*Math.sqrt(1-e*e)}const eY=["duration","bounce"],tY=["stiffness","damping","mass"];function bR(n,e){return e.some(t=>n[t]!==void 0)}function nY(n){let e={velocity:Vn.velocity,stiffness:Vn.stiffness,damping:Vn.damping,mass:Vn.mass,isResolvedFromDuration:!1,...n};if(!bR(n,tY)&&bR(n,eY))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*No(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Vn.mass,stiffness:r,damping:s}}else{const t=qK(n);e={...e,...t,mass:Vn.mass},e.isResolvedFromDuration=!0}return e}function tF(n=Vn.visualDuration,e=Vn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=nY({...t,velocity:-Ro(t.velocity||0)}),v=p||0,_=u/(2*Math.sqrt(l*d)),x=o-s,g=Ro(Math.sqrt(l/d)),S=Math.abs(x)<5;i||(i=S?Vn.restSpeed.granular:Vn.restSpeed.default),r||(r=S?Vn.restDelta.granular:Vn.restDelta.default);let A;if(_<1){const C=q1(g,_);A=P=>{const b=Math.exp(-_*g*P);return o-b*((v+_*g*x)/C*Math.sin(C*P)+x*Math.cos(C*P))}}else if(_===1)A=C=>o-Math.exp(-g*C)*(x+(v+g*x)*C);else{const C=g*Math.sqrt(_*_-1);A=P=>{const b=Math.exp(-_*g*P),B=Math.min(C*P,300);return o-b*((v+_*g*x)*Math.sinh(B)+C*x*Math.cosh(B))/C}}const w={calculatedDuration:m&&h||null,next:C=>{const P=A(C);if(m)a.done=C>=h;else{let b=0;_<1&&(b=C===0?bo(v):eF(A,C,P));const B=Math.abs(b)<=i,R=Math.abs(o-P)<=r;a.done=B&&R}return a.value=a.done?o:P,a},toString:()=>{const C=Math.min(xO(w),V1),P=_O(b=>w.next(C*b).value,C,30);return C+"ms "+P}};return w}function RR({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,v=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let _=t*e;const x=h+_,g=o===void 0?x:o(x);g!==x&&(_=g-h);const S=B=>-_*Math.exp(-B/i),A=B=>g+S(B),w=B=>{const R=S(B),T=A(B);p.done=Math.abs(R)<=u,p.value=p.done?g:T};let C,P;const b=B=>{m(p.value)&&(C=B,P=tF({keyframes:[p.value,v(p.value)],velocity:eF(A,B,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:d}))};return b(0),{calculatedDuration:null,next:B=>{let R=!1;return!P&&C===void 0&&(R=!0,w(B),b(B)),C!==void 0&&B>=C?P.next(B-C):(!R&&w(B),p)}}}const iY=Xh(.42,0,1,1),rY=Xh(0,0,.58,1),nF=Xh(.42,0,.58,1),sY=n=>Array.isArray(n)&&typeof n[0]!="number",oY={linear:Br,easeIn:iY,easeInOut:nF,easeOut:rY,circIn:zw,circInOut:FO,circOut:OO,backIn:kw,backInOut:DO,backOut:BO,anticipate:LO},PR=n=>{if(Lw(n)){$L(n.length===4);const[e,t,i,r]=n;return Xh(e,t,i,r)}else if(typeof n=="string")return oY[n];return n};function aY(n,e,t){const i=[],r=t||$O,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Br:e;a=Jh(l,a)}i.push(a)}return i}function lY(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if($L(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=aY(e,i,r),l=a.length,u=d=>{if(o&&d<n[0])return e[0];let h=0;if(l>1)for(;h<n.length-2&&!(d<n[h+1]);h++);const p=Yc(n[h],n[h+1],d);return a[h](p)};return t?d=>u(No(n[0],n[s-1],d)):u}function uY(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Yc(0,e,i);n.push(Nn(t,1,r))}}function cY(n){const e=[0];return uY(e,n.length-1),e}function fY(n,e){return n.map(t=>t*e)}function dY(n,e){return n.map(()=>e||nF).splice(0,n.length-1)}function K0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=sY(i)?i.map(PR):PR(i),s={done:!1,value:e[0]},o=fY(t&&t.length===e.length?t:cY(e),n),a=lY(o,e,{ease:Array.isArray(r)?r:dY(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const hY=n=>{const e=({timestamp:t})=>n(t);return{start:()=>wn.update(e,!0),stop:()=>Ia(e),now:()=>Mi.isProcessing?Mi.timestamp:Qs.now()}},pY={decay:RR,inertia:RR,tween:K0,keyframes:K0,spring:tF},mY=n=>n/100;class Xw extends qO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Ww,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=Dw(t)?t:pY[t]||K0;let l,u;a!==K0&&typeof e[0]!="number"&&(l=Jh(mY,$O(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=xO(d));const{calculatedDuration:h}=d,p=h+r,m=p*(i+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:_,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),S=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let A=this.currentTime,w=s;if(m){const B=Math.min(this.currentTime,d)/h;let R=Math.floor(B),T=B%1;!T&&B>=1&&(T=1),T===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(T=1-T,_&&(T-=_/h)):v==="mirror"&&(w=o)),A=No(0,1,T)*h}const C=S?{done:!1,value:l[0]}:w.next(A);a&&(C.value=a(C.value));let{done:P}=C;!S&&u!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return b&&r!==void 0&&(C.value=dy(l,this.options,r)),x&&x(C.value),b&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Ro(e.calculatedDuration):0}get time(){return Ro(this.currentTime)}set time(e){e=bo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ro(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=hY,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const gY=new Set(["opacity","clipPath","filter","transform"]);function vY(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:t};l&&(u.offset=l);const d=AO(a,r);return Array.isArray(d)&&(u.easing=d),n.animate(u,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const yY=yw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Y0=10,xY=2e4;function _Y(n){return Dw(n.type)||n.type==="spring"||!SO(n.ease)}function SY(n,e){const t=new Xw({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<xY;)i=t.sample(s),r.push(i.value),s+=Y0;return{times:void 0,keyframes:r,duration:s-Y0,ease:"linear"}}const iF={anticipate:LO,backInOut:DO,circInOut:FO};function AY(n){return n in iF}class IR extends qO{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new QO(s,(o,a)=>this.onKeyframesResolved(o,a),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&X0()&&AY(s)&&(s=iF[s]),_Y(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:v,..._}=this.options,x=SY(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,r=x.times,s=x.ease,o="keyframes"}const d=vY(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(mR(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(dy(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ro(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ro(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=bo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Br;const{animation:i}=t;mR(i,e)}return Br}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:p,...m}=this.options,v=new Xw({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),_=bo(this.time);u.setWithVelocity(v.sample(_-Y0).value,v.sample(_).value,Y0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return yY()&&i&&gY.has(i)&&!l&&!u&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const MY={type:"spring",stiffness:500,damping:25,restSpeed:10},wY=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),EY={type:"keyframes",duration:.8},TY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CY=(n,{keyframes:e})=>e.length>2?EY:cu.has(n)?n.startsWith("scale")?wY(e[1]):MY:TY;function bY({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Jw=(n,e,t,i={},r,s)=>o=>{const a=Bw(i,n)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-bo(l);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};bY(a)||(d={...d,...CY(n,d)}),d.duration&&(d.duration=bo(d.duration)),d.repeatDelay&&(d.repeatDelay=bo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=dy(d.keyframes,a);if(p!==void 0)return wn.update(()=>{d.onUpdate(p),d.onComplete()}),new JJ([])}return!s&&IR.supports(d)?new IR(d):new Xw(d)};function RY({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function rF(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const u=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in l){const p=n.getValue(h,(s=n.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||d&&RY(d,h))continue;const v={delay:t,...Bw(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const g=bO(n);if(g){const S=window.MotionHandoffAnimation(g,h,wn);S!==null&&(v.startTime=S,_=!0)}}j1(n,h),p.start(Jw(h,p,m,n.shouldReduceMotion&&TO.has(h)?{type:!1}:v,n,_));const x=p.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{wn.update(()=>{a&&aK(n,a)})}),u}function Z1(n,e,t={}){var i;const r=fy(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const o=r?()=>Promise.all(rF(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return PY(n,e,d+u,h,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(t.delay)])}function PY(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(IY).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Z1(u,e,{...s,delay:t+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function IY(n,e){return n.sortNodePosition(e)}function BY(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Z1(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=Z1(n,e,t);else{const r=typeof e=="function"?fy(n,e,t.custom):e;i=Promise.all(rF(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const DY=_w.length;function sF(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?sF(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<DY;t++){const i=_w[t],r=n.props[i];(yh(r)||r===!1)&&(e[i]=r)}return e}const LY=[...xw].reverse(),OY=xw.length;function FY(n){return e=>Promise.all(e.map(({animation:t,options:i})=>BY(n,t,i)))}function NY(n){let e=FY(n),t=BR(),i=!0;const r=l=>(u,d)=>{var h;const p=fy(n,d,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:v,..._}=p;u={...u,..._,...v}}return u};function s(l){e=l(n)}function o(l){const{props:u}=n,d=sF(n.parent)||{},h=[],p=new Set;let m={},v=1/0;for(let x=0;x<OY;x++){const g=LY[x],S=t[g],A=u[g]!==void 0?u[g]:d[g],w=yh(A),C=g===l?S.isActive:null;C===!1&&(v=x);let P=A===d[g]&&A!==u[g]&&w;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),S.protectedKeys={...m},!S.isActive&&C===null||!A&&!S.prevProp||uy(A)||typeof A=="boolean")continue;const b=UY(S.prevProp,A);let B=b||g===l&&S.isActive&&!P&&w||x>v&&w,R=!1;const T=Array.isArray(A)?A:[A];let D=T.reduce(r(g),{});C===!1&&(D={});const{prevResolvedValues:z={}}=S,V={...z,...D},J=re=>{B=!0,p.has(re)&&(R=!0,p.delete(re)),S.needsAnimating[re]=!0;const F=n.getValue(re);F&&(F.liveStyle=!1)};for(const re in V){const F=D[re],K=z[re];if(m.hasOwnProperty(re))continue;let Y=!1;G1(F)&&G1(K)?Y=!yO(F,K):Y=F!==K,Y?F!=null?J(re):p.add(re):F!==void 0&&p.has(re)?J(re):S.protectedKeys[re]=!0}S.prevProp=A,S.prevResolvedValues=D,S.isActive&&(m={...m,...D}),i&&n.blockInitialAnimation&&(B=!1),B&&(!(P&&b)||R)&&h.push(...T.map(re=>({animation:re,options:{type:g}})))}if(p.size){const x={};p.forEach(g=>{const S=n.getBaseTarget(g),A=n.getValue(g);A&&(A.liveStyle=!0),x[g]=S??null}),h.push({animation:x})}let _=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(h):Promise.resolve()}function a(l,u){var d;if(t[l].isActive===u)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),t[l].isActive=u;const h=o(l);for(const p in t)t[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=BR(),i=!0}}}function UY(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!yO(e,n):!1}function fl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BR(){return{animate:fl(!0),whileInView:fl(),whileHover:fl(),whileTap:fl(),whileDrag:fl(),whileFocus:fl(),exit:fl()}}class za{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kY extends za{constructor(e){super(e),e.animationState||(e.animationState=NY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let zY=0;class HY extends za{constructor(){super(...arguments),this.id=zY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const GY={animation:{Feature:kY},exit:{Feature:HY}};function Ah(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Kh(n){return{point:{x:n.pageX,y:n.pageY}}}const VY=n=>e=>Ow(e)&&n(e,Kh(e));function kd(n,e,t,i){return Ah(n,e,VY(t),i)}const DR=(n,e)=>Math.abs(n-e);function WY(n,e){const t=DR(n.x,e.x),i=DR(n.y,e.y);return Math.sqrt(t**2+i**2)}class oF{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=lS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=WY(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=h,{timestamp:_}=Mi;this.history.push({...v,timestamp:_});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=aS(p,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=lS(h.type==="pointercancel"?this.lastMoveEventInfo:aS(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),v&&v(h,x)},!Ow(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=Kh(e),a=aS(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Mi;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,lS(a,this.history)),this.removeListeners=Jh(kd(this.contextWindow,"pointermove",this.handlePointerMove),kd(this.contextWindow,"pointerup",this.handlePointerUp),kd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ia(this.updatePoint)}}function aS(n,e){return e?{point:e(n.point)}:n}function LR(n,e){return{x:n.x-e.x,y:n.y-e.y}}function lS({point:n},e){return{point:n,delta:LR(n,aF(e)),offset:LR(n,jY(e)),velocity:XY(e,.1)}}function jY(n){return n[0]}function aF(n){return n[n.length-1]}function XY(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=aF(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>bo(e)));)t--;if(!i)return{x:0,y:0};const s=Ro(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const lF=1e-4,JY=1-lF,KY=1+lF,uF=.01,YY=0-uF,QY=0+uF;function Fr(n){return n.max-n.min}function qY(n,e,t){return Math.abs(n-e)<=t}function OR(n,e,t,i=.5){n.origin=i,n.originPoint=Nn(e.min,e.max,n.origin),n.scale=Fr(t)/Fr(e),n.translate=Nn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=JY&&n.scale<=KY||isNaN(n.scale))&&(n.scale=1),(n.translate>=YY&&n.translate<=QY||isNaN(n.translate))&&(n.translate=0)}function zd(n,e,t,i){OR(n.x,e.x,t.x,i?i.originX:void 0),OR(n.y,e.y,t.y,i?i.originY:void 0)}function FR(n,e,t){n.min=t.min+e.min,n.max=n.min+Fr(e)}function ZY(n,e,t){FR(n.x,e.x,t.x),FR(n.y,e.y,t.y)}function NR(n,e,t){n.min=e.min-t.min,n.max=n.min+Fr(e)}function Hd(n,e,t){NR(n.x,e.x,t.x),NR(n.y,e.y,t.y)}function $Y(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Nn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Nn(t,n,i.max):Math.min(n,t)),n}function UR(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function eQ(n,{top:e,left:t,bottom:i,right:r}){return{x:UR(n.x,t,r),y:UR(n.y,e,i)}}function kR(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function tQ(n,e){return{x:kR(n.x,e.x),y:kR(n.y,e.y)}}function nQ(n,e){let t=.5;const i=Fr(n),r=Fr(e);return r>i?t=Yc(e.min,e.max-i,n.min):i>r&&(t=Yc(n.min,n.max-r,e.min)),No(0,1,t)}function iQ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const $1=.35;function rQ(n=$1){return n===!1?n=0:n===!0&&(n=$1),{x:zR(n,"left","right"),y:zR(n,"top","bottom")}}function zR(n,e,t){return{min:HR(n,e),max:HR(n,t)}}function HR(n,e){return typeof n=="number"?n:n[e]||0}const GR=()=>({translate:0,scale:1,origin:0,originPoint:0}),hc=()=>({x:GR(),y:GR()}),VR=()=>({min:0,max:0}),Jn=()=>({x:VR(),y:VR()});function Qr(n){return[n("x"),n("y")]}function cF({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function sQ({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function oQ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function uS(n){return n===void 0||n===1}function eA({scale:n,scaleX:e,scaleY:t}){return!uS(n)||!uS(e)||!uS(t)}function yl(n){return eA(n)||fF(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function fF(n){return WR(n.x)||WR(n.y)}function WR(n){return n&&n!=="0%"}function Q0(n,e,t){const i=n-t,r=e*i;return t+r}function jR(n,e,t,i,r){return r!==void 0&&(n=Q0(n,r,i)),Q0(n,t,i)+e}function tA(n,e=0,t=1,i,r){n.min=jR(n.min,e,t,i,r),n.max=jR(n.max,e,t,i,r)}function dF(n,{x:e,y:t}){tA(n.x,e.translate,e.scale,e.originPoint),tA(n.y,t.translate,t.scale,t.originPoint)}const XR=.999999999999,JR=1.0000000000001;function aQ(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,dF(n,o)),i&&yl(s.latestValues)&&mc(n,s.latestValues))}e.x<JR&&e.x>XR&&(e.x=1),e.y<JR&&e.y>XR&&(e.y=1)}function pc(n,e){n.min=n.min+e,n.max=n.max+e}function KR(n,e,t,i,r=.5){const s=Nn(n.min,n.max,r);tA(n,e,t,s,i)}function mc(n,e){KR(n.x,e.x,e.scaleX,e.scale,e.originX),KR(n.y,e.y,e.scaleY,e.scale,e.originY)}function hF(n,e){return cF(oQ(n.getBoundingClientRect(),e))}function lQ(n,e,t){const i=hF(n,t),{scroll:r}=e;return r&&(pc(i.x,r.offset.x),pc(i.y,r.offset.y)),i}const pF=({current:n})=>n?n.ownerDocument.defaultView:null,uQ=new WeakMap;class cQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Kh(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nK(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qr(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Ys.test(g)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[x];A&&(g=Fr(A)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&wn.postRender(()=>v(d,h)),j1(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=fQ(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),_&&_(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Qr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new oF(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pF(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&wn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!ig(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=$Y(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&fc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=eQ(r.layoutBox,t):this.constraints=!1,this.elastic=rQ(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=lQ(i,r.root,this.visualElement.getTransformPagePoint());let o=tQ(r.layout.layoutBox,s);if(t){const a=t(sQ(o));this.hasMutatedConstraints=!!a,a&&(o=cF(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Qr(d=>{if(!ig(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return j1(this.visualElement,e),i.start(Jw(e,i,0,t,this.visualElement,!1))}stopAnimation(){Qr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Qr(t=>{const{drag:i}=this.getProps();if(!ig(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-Nn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!fc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Qr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=nQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Qr(o=>{if(!ig(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Nn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;uQ.set(this.visualElement,this);const e=this.visualElement.current,t=kd(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();fc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),wn.read(i);const o=Ah(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=$1,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ig(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function fQ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class dQ extends za{constructor(e){super(e),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new cQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const YR=n=>(e,t)=>{n&&wn.postRender(()=>n(e,t))};class hQ extends za{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(e){this.session=new oF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:YR(e),onStart:YR(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&wn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=kd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QR(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ld={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Lt.test(n))n=parseFloat(n);else return n;const t=QR(n,e.target.x),i=QR(n,e.target.y);return`${t}% ${i}%`}},pQ={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Ba.parse(n);if(r.length>5)return i;const s=Ba.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=Nn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};class mQ extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;OJ(gQ),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Tg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||wn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Aw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mF(n){const[e,t]=QX(),i=G.useContext(qL);return me.jsx(mQ,{...n,layoutGroup:i,switchLayoutGroup:G.useContext(sO),isPresent:e,safeToRemove:t})}const gQ={borderRadius:{...ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ld,borderTopRightRadius:ld,borderBottomLeftRadius:ld,borderBottomRightRadius:ld,boxShadow:pQ};function vQ(n,e,t){const i=Hi(n)?n:_h(n);return i.start(Jw("",i,e,t)),i.animation}function yQ(n){return n instanceof SVGElement&&n.tagName!=="svg"}const xQ=(n,e)=>n.depth-e.depth;class _Q{constructor(){this.children=[],this.isDirty=!1}add(e){Fw(this.children,e),this.isDirty=!0}remove(e){Nw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xQ),this.isDirty=!1,this.children.forEach(e)}}function SQ(n,e){const t=Qs.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Ia(i),n(s-e))};return wn.read(i,!0),()=>Ia(i)}const gF=["TopLeft","TopRight","BottomLeft","BottomRight"],AQ=gF.length,qR=n=>typeof n=="string"?parseFloat(n):n,ZR=n=>typeof n=="number"||Lt.test(n);function MQ(n,e,t,i,r,s){r?(n.opacity=Nn(0,t.opacity!==void 0?t.opacity:1,wQ(i)),n.opacityExit=Nn(e.opacity!==void 0?e.opacity:1,0,EQ(i))):s&&(n.opacity=Nn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<AQ;o++){const a=`border${gF[o]}Radius`;let l=$R(e,a),u=$R(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ZR(l)===ZR(u)?(n[a]=Math.max(Nn(qR(l),qR(u),i),0),(Ys.test(u)||Ys.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=Nn(e.rotate||0,t.rotate||0,i))}function $R(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const wQ=vF(0,.5,OO),EQ=vF(.5,.95,Br);function vF(n,e,t){return i=>i<n?0:i>e?1:t(Yc(n,e,i))}function eP(n,e){n.min=e.min,n.max=e.max}function Yr(n,e){eP(n.x,e.x),eP(n.y,e.y)}function tP(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function nP(n,e,t,i,r){return n-=e,n=Q0(n,1/t,i),r!==void 0&&(n=Q0(n,1/r,i)),n}function TQ(n,e=0,t=1,i=.5,r,s=n,o=n){if(Ys.test(e)&&(e=parseFloat(e),e=Nn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Nn(s.min,s.max,i);n===s&&(a-=e),n.min=nP(n.min,e,t,a,r),n.max=nP(n.max,e,t,a,r)}function iP(n,e,[t,i,r],s,o){TQ(n,e[t],e[i],e[r],e.scale,s,o)}const CQ=["x","scaleX","originX"],bQ=["y","scaleY","originY"];function rP(n,e,t,i){iP(n.x,e,CQ,t?t.x:void 0,i?i.x:void 0),iP(n.y,e,bQ,t?t.y:void 0,i?i.y:void 0)}function sP(n){return n.translate===0&&n.scale===1}function yF(n){return sP(n.x)&&sP(n.y)}function oP(n,e){return n.min===e.min&&n.max===e.max}function RQ(n,e){return oP(n.x,e.x)&&oP(n.y,e.y)}function aP(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function xF(n,e){return aP(n.x,e.x)&&aP(n.y,e.y)}function lP(n){return Fr(n.x)/Fr(n.y)}function uP(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class PQ{constructor(){this.members=[]}add(e){Fw(this.members,e),e.scheduleRender()}remove(e){if(Nw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IQ(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:v}=t;u&&(i=`perspective(${u}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const xl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xd=typeof window<"u"&&window.MotionDebug!==void 0,cS=["","X","Y","Z"],BQ={visibility:"hidden"},cP=1e3;let DQ=0;function fS(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function _F(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=bO(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",wn,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&_F(i)}function SF({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=DQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xd&&(xl.totalNodes=xl.resolvedTargetDeltas=xl.recalculatedProjection=0),this.nodes.forEach(FQ),this.nodes.forEach(HQ),this.nodes.forEach(GQ),this.nodes.forEach(NQ),xd&&window.MotionDebug.record(xl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _Q)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Uw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yQ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=SQ(p,250),Tg.hasAnimatedSinceResize&&(Tg.hasAnimatedSinceResize=!1,this.nodes.forEach(dP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||JQ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),S=!this.targetLayout||!xF(this.targetLayout,v)||m,A=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,A);const w={...Bw(_,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||dP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_F(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fP);return}this.isUpdating||this.nodes.forEach(kQ),this.isUpdating=!1,this.nodes.forEach(zQ),this.nodes.forEach(LQ),this.nodes.forEach(OQ),this.clearAllSnapshots();const a=Qs.now();Mi.delta=No(0,1e3/60,a-Mi.timestamp),Mi.timestamp=a,Mi.isProcessing=!0,tS.update.process(Mi),tS.preRender.process(Mi),tS.render.process(Mi),Mi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Aw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UQ),this.sharedNodes.forEach(WQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!yF(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||yl(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),KQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Jn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(YQ))){const{scroll:d}=this.root;d&&(pc(l.x,d.offset.x),pc(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Jn();if(Yr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Yr(l,o),pc(l.x,h.offset.x),pc(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Jn();Yr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&mc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),yl(d.latestValues)&&mc(l,d.latestValues)}return yl(this.latestValues)&&mc(l,this.latestValues),l}removeTransform(o){const a=Jn();Yr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!yl(u.latestValues))continue;eA(u.latestValues)&&u.updateSnapshot();const d=Jn(),h=u.measurePageBox();Yr(d,h),rP(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return yl(this.latestValues)&&rP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Mi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),Hd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jn(),this.targetWithTransforms=Jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yr(this.target,this.layout.layoutBox),dF(this.target,this.targetDelta)):Yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),Hd(this.relativeTargetOrigin,this.target,m.target),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xd&&xl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eA(this.parent.latestValues)||fF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Mi.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Yr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;aQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Jn());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tP(this.prevProjectionDelta.x,this.projectionDelta.x),tP(this.prevProjectionDelta.y,this.projectionDelta.y)),zd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!uP(this.projectionDelta.x,this.prevProjectionDelta.x)||!uP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),xd&&xl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hc(),this.projectionDelta=hc(),this.projectionDeltaWithTransform=hc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=hc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Jn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,x=this.getStack(),g=!x||x.members.length<=1,S=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(XQ));this.animationProgress=0;let A;this.mixTargetDelta=w=>{const C=w/1e3;hP(h.x,o.x,C),hP(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jQ(this.relativeTarget,this.relativeTargetOrigin,p,C),A&&RQ(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Jn()),Yr(A,this.relativeTarget)),_&&(this.animationValues=d,MQ(d,u,this.latestValues,C,S,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{Tg.hasAnimatedSinceResize=!0,this.currentAnimation=vQ(0,cP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&AF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Jn();const h=Fr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Fr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Yr(a,l),mc(a,d),zd(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PQ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&fS("z",o,u,this.animationValues);for(let d=0;d<cS.length;d++)fS(`rotate${cS[d]}`,o,u,this.animationValues),fS(`skew${cS[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BQ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=wg(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=wg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yl(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=IQ(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in j0){if(p[_]===void 0)continue;const{correct:x,applyTo:g}=j0[_],S=u.transform==="none"?p[_]:x(p[_],h);if(g){const A=g.length;for(let w=0;w<A;w++)u[g[w]]=S}else u[_]=S}return this.options.layoutId&&(u.pointerEvents=h===this?wg(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fP),this.root.sharedNodes.clear()}}}function LQ(n){n.updateLayout()}function OQ(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Qr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Fr(p);p.min=i[h].min,p.max=p.min+m}):AF(s,t.layoutBox,i)&&Qr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Fr(i[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const a=hc();zd(a,i,t.layoutBox);const l=hc();o?zd(l,n.applyTransform(r,!0),t.measuredBox):zd(l,i,t.layoutBox);const u=!yF(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=Jn();Hd(v,t.layoutBox,p.layoutBox);const _=Jn();Hd(_,i,m.layoutBox),xF(v,_)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=v,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function FQ(n){xd&&xl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function NQ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function UQ(n){n.clearSnapshot()}function fP(n){n.clearMeasurements()}function kQ(n){n.isLayoutDirty=!1}function zQ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function dP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function HQ(n){n.resolveTargetDelta()}function GQ(n){n.calcProjection()}function VQ(n){n.resetSkewAndRotation()}function WQ(n){n.removeLeadSnapshot()}function hP(n,e,t){n.translate=Nn(e.translate,0,t),n.scale=Nn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function pP(n,e,t,i){n.min=Nn(e.min,t.min,i),n.max=Nn(e.max,t.max,i)}function jQ(n,e,t,i){pP(n.x,e.x,t.x,i),pP(n.y,e.y,t.y,i)}function XQ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const JQ={duration:.45,ease:[.4,0,.1,1]},mP=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gP=mP("applewebkit/")&&!mP("chrome/")?Math.round:Br;function vP(n){n.min=gP(n.min),n.max=gP(n.max)}function KQ(n){vP(n.x),vP(n.y)}function AF(n,e,t){return n==="position"||n==="preserve-aspect"&&!qY(lP(e),lP(t),.2)}function YQ(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const QQ=SF({attachResizeListener:(n,e)=>Ah(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dS={current:void 0},MF=SF({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!dS.current){const n=new QQ({});n.mount(window),n.setOptions({layoutScroll:!0}),dS.current=n}return dS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),qQ={pan:{Feature:hQ},drag:{Feature:dQ,ProjectionNode:MF,MeasureLayout:mF}};function yP(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&wn.postRender(()=>s(e,Kh(e)))}class ZQ extends za{mount(){const{current:e}=this.node;e&&(this.unmount=qJ(e,t=>(yP(this.node,t,"Start"),i=>yP(this.node,i,"End"))))}unmount(){}}class $Q extends za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jh(Ah(this.node.current,"focus",()=>this.onFocus()),Ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xP(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&wn.postRender(()=>s(e,Kh(e)))}class eq extends za{mount(){const{current:e}=this.node;e&&(this.unmount=tK(e,t=>(xP(this.node,t,"Start"),(i,{success:r})=>xP(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nA=new WeakMap,hS=new WeakMap,tq=n=>{const e=nA.get(n.target);e&&e(n)},nq=n=>{n.forEach(tq)};function iq({root:n,...e}){const t=n||document;hS.has(t)||hS.set(t,{});const i=hS.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(nq,{root:n,...e})),i[r]}function rq(n,e,t){const i=iq(e);return nA.set(n,t),i.observe(n),()=>{nA.delete(n),i.unobserve(n)}}const sq={some:0,all:1};class oq extends za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:sq[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return rq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(aq(e,t))&&this.startObserver()}unmount(){}}function aq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lq={inView:{Feature:oq},tap:{Feature:eq},focus:{Feature:$Q},hover:{Feature:ZQ}},uq={layout:{ProjectionNode:MF,MeasureLayout:mF}},iA={current:null},wF={current:!1};function cq(){if(wF.current=!0,!!vw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>iA.current=n.matches;n.addListener(e),e()}else iA.current=!1}const fq=[...YO,Ui,Ba],dq=n=>fq.find(KO(n)),_P=new WeakMap;function hq(n,e,t){for(const i in e){const r=e[i],s=t[i];if(Hi(r))n.addValue(i,r);else if(Hi(s))n.addValue(i,_h(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,_h(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const SP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ww,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Qs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,wn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=cy(t),this.isVariantNode=iO(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Hi(v)&&v.set(l[m],!1)}}mount(e){this.current=e,_P.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),wF.current||cq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_P.delete(this.current),this.projection&&this.projection.unmount(),Ia(this.notifyUpdate),Ia(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=cu.has(e),r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&wn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qc){const t=Qc[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<SP.length;i++){const r=SP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=hq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=_h(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(XO(r)||NO(r))?r=parseFloat(r):!dq(r)&&Ba.test(t)&&(r=VO(e,t)),this.setBaseTarget(e,Hi(r)?r.get():r)),Hi(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=ww(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Hi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Uw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class EF extends pq{constructor(){super(...arguments),this.KeyframeResolver=QO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function mq(n){return window.getComputedStyle(n)}class gq extends EF{constructor(){super(...arguments),this.type="html",this.renderInstance=dO}readValueFromInstance(e,t){if(cu.has(t)){const i=Vw(t);return i&&i.default||0}else{const i=mq(e),r=(uO(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hF(e,t)}build(e,t,i){Cw(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Iw(e,t,i)}}class vq extends EF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(cu.has(t)){const i=Vw(t);return i&&i.default||0}return t=hO.has(t)?t:Sw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return gO(e,t,i)}build(e,t,i){bw(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){pO(e,t,i,r)}mount(e){this.isSVGTag=Pw(e.tagName),super.mount(e)}}const yq=(n,e)=>Mw(n)?new vq(e):new gq(e,{allowProjection:n!==G.Fragment}),xq=WJ({...GY,...lq,...qQ,...uq},yq),_q=sJ(xq),Sq=()=>{const n=ay("./planet/scene.gltf");return me.jsx("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},Aq=()=>me.jsx(fj,{style:{width:"100%",height:"100%"},shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:me.jsxs(G.Suspense,{fallback:me.jsx(_X,{}),children:[me.jsx(pX,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),me.jsx(Sq,{}),me.jsx(xX,{all:!0})]})}),Mq=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),wq=()=>me.jsxs("section",{className:"w-full h-[50vh] relative",children:[" ",me.jsx(_q.div,{variants:Mq("right","tween",.2,1),className:"flex-1 h-full mt-0",children:me.jsxs("div",{className:"relative w-full h-full",children:[" ",me.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:30,left:0},children:me.jsx(Aq,{})})]})})]});var hy={},TF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(TF);var gf=TF.exports;hy.__esModule=!0;hy.default=void 0;var Eq=Kw(G),ia=Kw(YL),Tq=Kw(gf);function Kw(n){return n&&n.__esModule?n:{default:n}}const CF=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),Eq.default.createElement("div",{className:(0,Tq.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));CF.propTypes={children:ia.default.oneOfType([ia.default.arrayOf(ia.default.node),ia.default.node]).isRequired,className:ia.default.string,animate:ia.default.bool,layout:ia.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:ia.default.string};var Cq=CF;hy.default=Cq;var py={};function rA(){return rA=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rA.apply(this,arguments)}function bq(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,sA(n,e)}function sA(n,e){return sA=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},sA(n,e)}function Rq(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var oA=new Map,rg=new WeakMap,AP=0,bF=void 0;function Pq(n){bF=n}function Iq(n){return n?(rg.has(n)||(AP+=1,rg.set(n,AP.toString())),rg.get(n)):"0"}function Bq(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?Iq(n.root):n[e])}).toString()}function Dq(n){var e=Bq(n),t=oA.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&r.some(function(d){return a.intersectionRatio>=d});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=i.get(a.target))==null||l.forEach(function(d){d(u,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},oA.set(e,t)}return t}function Yw(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=bF),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=Dq(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),oA.delete(o))}}var Lq=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function MP(n){return typeof n.children!="function"}var q0=function(n){bq(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),MP(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,u=r.delay,d=r.fallbackInView;this._unobserveCb=Yw(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},d)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!MP(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,d=Rq(a,Lq);return G.createElement(u||"div",rA({ref:this.handleNode},d),l)},e}(G.Component);q0.displayName="InView";q0.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function Oq(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,d=e.fallbackInView,h=G.useRef(),p=G.useState({inView:!!u}),m=p[0],v=p[1],_=G.useCallback(function(g){h.current!==void 0&&(h.current(),h.current=void 0),!l&&g&&(h.current=Yw(g,function(S,A){v({inView:S,entry:A}),A.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,d,i]);G.useEffect(function(){!h.current&&m.entry&&!a&&!l&&v({inView:!!u})});var x=[_,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const Fq=Object.freeze(Object.defineProperty({__proto__:null,InView:q0,default:q0,defaultFallbackInView:Pq,observe:Yw,useInView:Oq},Symbol.toStringTag,{value:"Module"})),Nq=WP(Fq);py.__esModule=!0;py.default=void 0;var ra=Qw(G),Cn=Qw(YL),sg=Qw(gf),Uq=Nq;function Qw(n){return n&&n.__esModule?n:{default:n}}const RF=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:d=null,id:h="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:_={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>ra.default.createElement(Uq.InView,_,({inView:g,ref:S})=>ra.default.createElement("div",{ref:S,id:h,className:(0,sg.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},ra.default.createElement(ra.default.Fragment,null,ra.default.createElement("span",{style:d,onClick:l,className:(0,sg.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||x,"is-hidden":!(g||x)})},o),ra.default.createElement("div",{style:i,onClick:u,className:(0,sg.default)(v,"vertical-timeline-element-content",{"bounce-in":g||x,"is-hidden":!(g||x)})},ra.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,ra.default.createElement("span",{className:(0,sg.default)(s,"vertical-timeline-element-date")},r)))));RF.propTypes={children:Cn.default.oneOfType([Cn.default.arrayOf(Cn.default.node),Cn.default.node]),className:Cn.default.string,contentArrowStyle:Cn.default.shape({}),contentStyle:Cn.default.shape({}),date:Cn.default.node,dateClassName:Cn.default.string,icon:Cn.default.element,iconClassName:Cn.default.string,iconStyle:Cn.default.shape({}),iconOnClick:Cn.default.func,onTimelineElementClick:Cn.default.func,id:Cn.default.string,position:Cn.default.string,style:Cn.default.shape({}),textClassName:Cn.default.string,visible:Cn.default.bool,intersectionObserverProps:Cn.default.shape({root:Cn.default.object,rootMargin:Cn.default.string,threshold:Cn.default.number,triggerOnce:Cn.default.bool})};var kq=RF;py.default=kq;var wP={VerticalTimeline:hy.default,VerticalTimelineElement:py.default};const zq=()=>me.jsxs("section",{className:"max-container pt-0",children:[me.jsxs("h1",{className:"head-text",children:["Hello, I'm"," ",me.jsxs("span",{className:"blue-gradient_text font-semibold drop-shadow",children:[" ","Emily"]})," ",""]}),me.jsx("div",{className:"mt-2 flex flex-col gap-3 text-slate-500",children:me.jsxs("p",{children:["I am an Economics & Geography undergraduate student at the University of Texas at Austin. I'm also a huge fan of learning and I often partake in activites that involve maps, coding, music, and archery. ",me.jsx("br",{})," Thank you for visiting my website!"]})}),me.jsxs("div",{className:"py-10 flex flex-col",children:[me.jsx("h3",{className:"subhead-text",children:"My Skills."}),me.jsx("div",{className:"mt-16 flex flex-wrap gap-12",children:WX.map(n=>me.jsxs("div",{className:"block-container w-20 h-20",children:[me.jsx("div",{className:"btn-back rounded-xl"}),me.jsx("div",{className:"btn-front rounded-xl flex justify-center items-center",children:me.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-1/2 h-1/2 object-contain"})})]},n.name))})]}),me.jsxs("div",{className:"py-16",children:[me.jsx("h3",{className:"subhead-text",children:"Work Experience."}),me.jsx("div",{className:"mt-5 flex flex-col gap-3 text-slate-500",children:me.jsx("p",{children:"I've had over 20 years of experience living on planet earth. I've worked with all sorts of groups - schools, nonprofits, agencies and companies - leveling up my skills and teaming up with passionate and hardworking people. Here's the rundown:"})}),me.jsx("div",{className:"mt-12 flex",children:me.jsx(wP.VerticalTimeline,{children:jX.map((n,e)=>me.jsx(wP.VerticalTimelineElement,{date:n.date,iconStyle:{background:n.iconBg},icon:me.jsx("div",{className:"flex justify-center items-center w-full h-full",children:me.jsx("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),contentStyle:{borderBottom:"8px",borderStyle:"solid",borderBottomColor:n.iconBg,boxShadow:"none"},children:me.jsxs("div",{children:[me.jsx("h3",{className:"text-black text-xl font-poppins font-semibold",children:n.title}),me.jsx("p",{className:"text-black-500 font-medium text-base",style:{margin:0},children:n.company_name}),me.jsxs("ul",{className:"my-5 list-disc ml-5 space-y-2",children:[n.points.map((t,i)=>me.jsx("li",{className:"text-black-500/50 font-normal pl-1 text-sm",children:t},`experience-point-${i}`)),me.jsx("li",{className:"text-black-500/50 font-normal pl-1 text-sm",style:{fontStyle:"italic"},children:n.tools})]})]})},n.company_name))})})]}),me.jsx("hr",{className:"border-slate-200 mb-0"})]}),Hq=()=>me.jsxs("section",{className:"max-container",children:[me.jsxs("h1",{className:"head-text",children:["My"," ",me.jsx("span",{className:"blue-gradient_text drop-shadow font-semibold",children:"Projects"})]}),me.jsx("p",{className:"text-slate-500 mt-2 leading-relaxed",children:"Here are some projects Ive had the pleasure of building, drawing on the skills I developed through my independent learning and coursework in my Elements of Computing and Applied Statistical Modeling certificates. I'd love to hear your thoughts and feedback!"}),me.jsx("div",{className:"flex flex-wrap my-20 gap-16",children:JX.map(n=>me.jsxs("div",{className:"lg:w-[400px] w-full",children:[me.jsxs("div",{className:"block-container w-12 h-12",children:[me.jsx("div",{className:`btn-back rounded-xl ${n.theme}`}),me.jsx("div",{className:"btn-front rounded-xl flex justify-center items-center",children:me.jsx("img",{src:n.iconUrl,alt:n.name,className:"w-1/2 h-1/2 object-contain"})})]}),me.jsxs("div",{className:"mt-5 flex flex-col",children:[me.jsx("h4",{className:"text-2xl font-poppins font-semibold",children:n.name}),me.jsx("p",{className:"mt-2 text-slate-500",children:n.description}),n.iframe?me.jsx("div",{className:"mt-5",dangerouslySetInnerHTML:{__html:n.iframe},tabIndex:"-1"}):me.jsxs("div",{className:"mt-5 flex items-center gap-2 font-poppins",children:[me.jsx(yM,{to:n.link,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600",children:"Live Link"}),me.jsx("img",{src:UX,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})]},n.name))}),me.jsx("hr",{className:"border-slate-200"})]});var PF={},IF={},my={},BF={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e})(BF);var Gq="Expected a function",EP=NaN,Vq="[object Symbol]",Wq=/^\s+|\s+$/g,jq=/^[-+]0x[0-9a-f]+$/i,Xq=/^0b[01]+$/i,Jq=/^0o[0-7]+$/i,Kq=parseInt,Yq=typeof zp=="object"&&zp&&zp.Object===Object&&zp,Qq=typeof self=="object"&&self&&self.Object===Object&&self,qq=Yq||Qq||Function("return this")(),Zq=Object.prototype,$q=Zq.toString,eZ=Math.max,tZ=Math.min,pS=function(){return qq.Date.now()};function nZ(n,e,t){var i,r,s,o,a,l,u=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(Gq);e=TP(e)||0,aA(t)&&(d=!!t.leading,h="maxWait"in t,s=h?eZ(TP(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(P){var b=i,B=r;return i=r=void 0,u=P,o=n.apply(B,b),o}function v(P){return u=P,a=setTimeout(g,e),d?m(P):o}function _(P){var b=P-l,B=P-u,R=e-b;return h?tZ(R,s-B):R}function x(P){var b=P-l,B=P-u;return l===void 0||b>=e||b<0||h&&B>=s}function g(){var P=pS();if(x(P))return S(P);a=setTimeout(g,_(P))}function S(P){return a=void 0,p&&i?m(P):(i=r=void 0,o)}function A(){a!==void 0&&clearTimeout(a),u=0,i=l=r=a=void 0}function w(){return a===void 0?o:S(pS())}function C(){var P=pS(),b=x(P);if(i=arguments,r=this,l=P,b){if(a===void 0)return v(l);if(h)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return C.cancel=A,C.flush=w,C}function aA(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function iZ(n){return!!n&&typeof n=="object"}function rZ(n){return typeof n=="symbol"||iZ(n)&&$q.call(n)==Vq}function TP(n){if(typeof n=="number")return n;if(rZ(n))return EP;if(aA(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=aA(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Wq,"");var t=Xq.test(n);return t||Jq.test(n)?Kq(n.slice(2),t?2:8):jq.test(n)?EP:+n}var sZ=nZ,Ke={},qw={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(G);function t(r){return r&&r.__esModule?r:{default:r}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i})(qw);Object.defineProperty(Ke,"__esModule",{value:!0});Ke.checkSpecKeys=Ke.checkNavigable=Ke.changeSlide=Ke.canUseDOM=Ke.canGoNext=void 0;Ke.clamp=LF;Ke.extractObject=void 0;Ke.filterSettings=_Z;Ke.validSettings=Ke.swipeStart=Ke.swipeMove=Ke.swipeEnd=Ke.slidesOnRight=Ke.slidesOnLeft=Ke.slideHandler=Ke.siblingDirection=Ke.safePreventDefault=Ke.lazyStartIndex=Ke.lazySlidesOnRight=Ke.lazySlidesOnLeft=Ke.lazyEndIndex=Ke.keyHandler=Ke.initializedState=Ke.getWidth=Ke.getTrackLeft=Ke.getTrackCSS=Ke.getTrackAnimateCSS=Ke.getTotalSlides=Ke.getSwipeDirection=Ke.getSlideCount=Ke.getRequiredLazySlides=Ke.getPreClones=Ke.getPostClones=Ke.getOnDemandLazySlides=Ke.getNavigableIndexes=Ke.getHeight=void 0;var oZ=DF(G),aZ=DF(qw);function DF(n){return n&&n.__esModule?n:{default:n}}function Mh(n){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(n)}function CP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(t),!0).forEach(function(i){lZ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lZ(n,e,t){return e=uZ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uZ(n){var e=cZ(n,"string");return Mh(e)=="symbol"?e:String(e)}function cZ(n,e){if(Mh(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Mh(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LF(n,e,t){return Math.max(e,Math.min(n,t))}var Tc=Ke.safePreventDefault=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()},OF=Ke.getOnDemandLazySlides=function(e){for(var t=[],i=FF(e),r=NF(e),s=i;s<r;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};Ke.getRequiredLazySlides=function(e){for(var t=[],i=FF(e),r=NF(e),s=i;s<r;s++)t.push(s);return t};var FF=Ke.lazyStartIndex=function(e){return e.currentSlide-fZ(e)},NF=Ke.lazyEndIndex=function(e){return e.currentSlide+dZ(e)},fZ=Ke.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},dZ=Ke.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},lA=Ke.getWidth=function(e){return e&&e.offsetWidth||0},UF=Ke.getHeight=function(e){return e&&e.offsetHeight||0},kF=Ke.getSwipeDirection=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,r,s,o;return i=e.startX-e.curX,r=e.startY-e.curY,s=Math.atan2(r,i),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"},zF=Ke.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};Ke.extractObject=function(e,t){var i={};return t.forEach(function(r){return i[r]=e[r]}),i};Ke.initializedState=function(e){var t=oZ.default.Children.count(e.children),i=e.listRef,r=Math.ceil(lA(i)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(lA(s)),a;if(e.vertical)a=r;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=r/100),a=Math.ceil((r-l)/e.slidesToShow)}var u=i&&UF(i.querySelector('[data-index="0"]')),d=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=t-1-e.initialSlide);var p=e.lazyLoadedList||[],m=OF(bn(bn({},e),{},{currentSlide:h,lazyLoadedList:p}));p=p.concat(m);var v={slideCount:t,slideWidth:a,listWidth:r,trackWidth:o,currentSlide:h,slideHeight:u,listHeight:d,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(v.autoplaying="playing"),v};Ke.slideHandler=function(e){var t=e.waitForAnimate,i=e.animating,r=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,v=e.lazyLoadedList;if(t&&i)return{};var _=o,x,g,S,A={},w={},C=s?o:LF(o,0,a-1);if(r){if(!s&&(o<0||o>=a))return{};o<0?_=o+a:o>=a&&(_=o-a),l&&v.indexOf(_)<0&&(v=v.concat(_)),A={animating:!0,currentSlide:_,lazyLoadedList:v,targetSlide:_},w={animating:!1,targetSlide:_}}else x=_,_<0?(x=_+a,s?a%h!==0&&(x=a-a%h):x=0):!zF(e)&&_>u?_=x=u:d&&_>=a?(_=s?a:a-1,x=s?0:a-1):_>=a&&(x=_-a,s?a%h!==0&&(x=0):x=a-p),!s&&_+p>=a&&(x=a-p),g=$0(bn(bn({},e),{},{slideIndex:_})),S=$0(bn(bn({},e),{},{slideIndex:x})),s||(g===S&&(_=x),g=S),l&&(v=v.concat(OF(bn(bn({},e),{},{currentSlide:_})))),m?(A={animating:!0,currentSlide:x,trackStyle:HF(bn(bn({},e),{},{left:g})),lazyLoadedList:v,targetSlide:C},w={animating:!1,currentSlide:x,trackStyle:Z0(bn(bn({},e),{},{left:S})),swipeLeft:null,targetSlide:C}):A={currentSlide:x,trackStyle:Z0(bn(bn({},e),{},{left:S})),lazyLoadedList:v,targetSlide:C};return{state:A,nextState:w}};Ke.changeSlide=function(e,t){var i,r,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,h=e.currentSlide,p=e.targetSlide,m=e.lazyLoad,v=e.infinite;if(o=d%l!==0,i=o?0:(d-h)%l,t.message==="previous")s=i===0?l:u-i,a=h-s,m&&!v&&(r=h-s,a=r===-1?d-1:r),v||(a=p-l);else if(t.message==="next")s=i===0?l:i,a=h+s,m&&!v&&(a=(h+l)%d+i),v||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,v){var _=gZ(bn(bn({},e),{},{targetSlide:a}));a>t.currentSlide&&_==="left"?a=a-d:a<t.currentSlide&&_==="right"&&(a=a+d)}}else t.message==="index"&&(a=Number(t.index));return a};Ke.keyHandler=function(e,t,i){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?i?"next":"previous":e.keyCode===39?i?"previous":"next":""};Ke.swipeStart=function(e,t,i){return e.target.tagName==="IMG"&&Tc(e),!t||!i&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Ke.swipeMove=function(e,t){var i=t.scrolling,r=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,u=t.currentSlide,d=t.edgeFriction,h=t.edgeDragged,p=t.onEdge,m=t.swiped,v=t.swiping,_=t.slideCount,x=t.slidesToScroll,g=t.infinite,S=t.touchObject,A=t.swipeEvent,w=t.listHeight,C=t.listWidth;if(!i){if(r)return Tc(e);s&&o&&a&&Tc(e);var P,b={},B=$0(t);S.curX=e.touches?e.touches[0].pageX:e.clientX,S.curY=e.touches?e.touches[0].pageY:e.clientY,S.swipeLength=Math.round(Math.sqrt(Math.pow(S.curX-S.startX,2)));var R=Math.round(Math.sqrt(Math.pow(S.curY-S.startY,2)));if(!a&&!v&&R>10)return{scrolling:!0};a&&(S.swipeLength=R);var T=(l?-1:1)*(S.curX>S.startX?1:-1);a&&(T=S.curY>S.startY?1:-1);var D=Math.ceil(_/x),z=kF(t.touchObject,a),V=S.swipeLength;return g||(u===0&&(z==="right"||z==="down")||u+1>=D&&(z==="left"||z==="up")||!zF(t)&&(z==="left"||z==="up"))&&(V=S.swipeLength*d,h===!1&&p&&(p(z),b.edgeDragged=!0)),!m&&A&&(A(z),b.swiped=!0),s?P=B+V*(w/C)*T:l?P=B-V*T:P=B+V*T,a&&(P=B+V*T),b=bn(bn({},b),{},{touchObject:S,swipeLeft:P,trackStyle:Z0(bn(bn({},t),{},{left:P}))}),Math.abs(S.curX-S.startX)<Math.abs(S.curY-S.startY)*.8||S.swipeLength>10&&(b.swiping=!0,Tc(e)),b}};Ke.swipeEnd=function(e,t){var i=t.dragging,r=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,u=t.listHeight,d=t.swipeToSlide,h=t.scrolling,p=t.onSwipe,m=t.targetSlide,v=t.currentSlide,_=t.infinite;if(!i)return r&&Tc(e),{};var x=l?u/a:o/a,g=kF(s,l),S={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return S;if(s.swipeLength>x){Tc(e),p&&p(g);var A,w,C=_?v:m;switch(g){case"left":case"up":w=C+RP(t),A=d?bP(t,w):w,S.currentDirection=0;break;case"right":case"down":w=C-RP(t),A=d?bP(t,w):w,S.currentDirection=1;break;default:A=C}S.triggerSlideHandler=A}else{var P=$0(t);S.trackStyle=HF(bn(bn({},t),{},{left:P}))}return S};var hZ=Ke.getNavigableIndexes=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,i=e.infinite?e.slidesToShow*-1:0,r=e.infinite?e.slidesToShow*-1:0,s=[];i<t;)s.push(i),i=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return s},bP=Ke.checkNavigable=function(e,t){var i=hZ(e),r=0;if(t>i[i.length-1])t=i[i.length-1];else for(var s in i){if(t<i[s]){t=r;break}r=i[s]}return t},RP=Ke.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var i,r=e.listRef,s=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+UF(l)/2>e.swipeLeft*-1)return i=l,!1}else if(l.offsetLeft-t+lA(l)/2>e.swipeLeft*-1)return i=l,!1;return!0}),!i)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(i.dataset.index-o)||1;return a}else return e.slidesToScroll},Zw=Ke.checkSpecKeys=function(e,t){return t.reduce(function(i,r){return i&&e.hasOwnProperty(r)},!0)?null:console.error("Keys Missing:",e)},Z0=Ke.getTrackCSS=function(e){Zw(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,i,r=e.slideCount+2*e.slidesToShow;e.vertical?i=r*e.slideHeight:t=mZ(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=bn(bn({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),i&&(s.height=i),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},HF=Ke.getTrackAnimateCSS=function(e){Zw(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=Z0(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},$0=Ke.getTrackLeft=function(e){if(e.unslick)return 0;Zw(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,i=e.trackRef,r=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,p=e.slideHeight,m=e.fade,v=e.vertical,_=0,x,g,S=0;if(m||e.slideCount===1)return 0;var A=0;if(r?(A=-Cg(e),o%l!==0&&t+l>o&&(A=-(t>o?a-(t-o):o%l)),s&&(A+=parseInt(a/2))):(o%l!==0&&t+l>o&&(A=a-o%l),s&&(A=parseInt(a/2))),_=A*u,S=A*p,v?x=t*p*-1+S:x=t*u*-1+_,h===!0){var w,C=i&&i.node;if(w=t+Cg(e),g=C&&C.childNodes[w],x=g?g.offsetLeft*-1:0,s===!0){w=r?t+Cg(e):t,g=C&&C.children[w],x=0;for(var P=0;P<w;P++)x-=C&&C.children[P]&&C.children[P].offsetWidth;x-=parseInt(e.centerPadding),x+=g&&(d-g.offsetWidth)/2}}return x},Cg=Ke.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},pZ=Ke.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},mZ=Ke.getTotalSlides=function(e){return e.slideCount===1?1:Cg(e)+e.slideCount+pZ(e)},gZ=Ke.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+vZ(e)?"left":"right":e.targetSlide<e.currentSlide-yZ(e)?"right":"left"},vZ=Ke.slidesOnRight=function(e){var t=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1},yZ=Ke.slidesOnLeft=function(e){var t=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!r&&t%2===0&&(o+=1),o}return r?t-1:0};Ke.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var xZ=Ke.validSettings=Object.keys(aZ.default);function _Z(n){return xZ.reduce(function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e},{})}var gy={};Object.defineProperty(gy,"__esModule",{value:!0});gy.Track=void 0;var ua=GF(G),mS=GF(gf),gS=Ke;function GF(n){return n&&n.__esModule?n:{default:n}}function Zc(n){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(n)}function uA(){return uA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uA.apply(this,arguments)}function SZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function AZ(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,WF(i.key),i)}}function MZ(n,e,t){return e&&AZ(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function wZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cA(n,e)}function cA(n,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},cA(n,e)}function EZ(n){var e=VF();return function(){var i=ev(n),r;if(e){var s=ev(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return TZ(this,r)}}function TZ(n,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fA(n)}function fA(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function VF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VF=function(){return!!n})()}function ev(n){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ev(n)}function PP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ar(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(t),!0).forEach(function(i){dA(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dA(n,e,t){return e=WF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WF(n){var e=CZ(n,"string");return Zc(e)=="symbol"?e:String(e)}function CZ(n,e){if(Zc(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Zc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vS=function(e){var t,i,r,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,r=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),i=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":i,"slick-cloned":r,"slick-current":l}},bZ=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},yS=function(e,t){return e.key||t},RZ=function(e){var t,i=[],r=[],s=[],o=ua.default.Children.count(e.children),a=(0,gS.lazyStartIndex)(e),l=(0,gS.lazyEndIndex)(e);return ua.default.Children.forEach(e.children,function(u,d){var h,p={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=u:h=ua.default.createElement("div",null);var m=bZ(ar(ar({},e),{},{index:d})),v=h.props.className||"",_=vS(ar(ar({},e),{},{index:d}));if(i.push(ua.default.cloneElement(h,{key:"original"+yS(h,d),"data-index":d,className:(0,mS.default)(_,v),tabIndex:"-1","aria-hidden":!_["slick-active"],style:ar(ar({outline:"none"},h.props.style||{}),m),onClick:function(S){h.props&&h.props.onClick&&h.props.onClick(S),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var x=o-d;x<=(0,gS.getPreClones)(e)&&(t=-x,t>=a&&(h=u),_=vS(ar(ar({},e),{},{index:t})),r.push(ua.default.cloneElement(h,{key:"precloned"+yS(h,t),"data-index":t,tabIndex:"-1",className:(0,mS.default)(_,v),"aria-hidden":!_["slick-active"],style:ar(ar({},h.props.style||{}),m),onClick:function(S){h.props&&h.props.onClick&&h.props.onClick(S),e.focusOnSelect&&e.focusOnSelect(p)}}))),t=o+d,t<l&&(h=u),_=vS(ar(ar({},e),{},{index:t})),s.push(ua.default.cloneElement(h,{key:"postcloned"+yS(h,t),"data-index":t,tabIndex:"-1",className:(0,mS.default)(_,v),"aria-hidden":!_["slick-active"],style:ar(ar({},h.props.style||{}),m),onClick:function(S){h.props&&h.props.onClick&&h.props.onClick(S),e.focusOnSelect&&e.focusOnSelect(p)}}))}}),e.rtl?r.concat(i,s).reverse():r.concat(i,s)};gy.Track=function(n){wZ(t,n);var e=EZ(t);function t(){var i;SZ(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s)),dA(fA(i),"node",null),dA(fA(i),"handleRef",function(a){i.node=a}),i}return MZ(t,[{key:"render",value:function(){var r=RZ(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return ua.default.createElement("div",uA({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),r)}}]),t}(ua.default.PureComponent);var vy={};function $c(n){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(n)}Object.defineProperty(vy,"__esModule",{value:!0});vy.Dots=void 0;var og=jF(G),PZ=jF(gf),IP=Ke;function jF(n){return n&&n.__esModule?n:{default:n}}function BP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IZ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(t),!0).forEach(function(i){BZ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function BZ(n,e,t){return e=XF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function LZ(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,XF(i.key),i)}}function OZ(n,e,t){return e&&LZ(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function XF(n){var e=FZ(n,"string");return $c(e)=="symbol"?e:String(e)}function FZ(n,e){if($c(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if($c(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function NZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hA(n,e)}function hA(n,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},hA(n,e)}function UZ(n){var e=JF();return function(){var i=tv(n),r;if(e){var s=tv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return kZ(this,r)}}function kZ(n,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zZ(n)}function zZ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function JF(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JF=function(){return!!n})()}function tv(n){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tv(n)}var HZ=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t};vy.Dots=function(n){NZ(t,n);var e=UZ(t);function t(){return DZ(this,t),e.apply(this,arguments)}return OZ(t,[{key:"clickHandler",value:function(r,s){s.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,s=r.onMouseEnter,o=r.onMouseOver,a=r.onMouseLeave,l=r.infinite,u=r.slidesToScroll,d=r.slidesToShow,h=r.slideCount,p=r.currentSlide,m=HZ({slideCount:h,slidesToScroll:u,slidesToShow:d,infinite:l}),v={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},_=[],x=0;x<m;x++){var g=(x+1)*u-1,S=l?g:(0,IP.clamp)(g,0,h-1),A=S-(u-1),w=l?A:(0,IP.clamp)(A,0,h-1),C=(0,PZ.default)({"slick-active":l?p>=w&&p<=S:p===w}),P={message:"dots",index:x,slidesToScroll:u,currentSlide:p},b=this.clickHandler.bind(this,P);_=_.concat(og.default.createElement("li",{key:x,className:C},og.default.cloneElement(this.props.customPaging(x),{onClick:b})))}return og.default.cloneElement(this.props.appendDots(_),IZ({className:this.props.dotsClass},v))}}]),t}(og.default.PureComponent);var ef={};function tf(n){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(n)}Object.defineProperty(ef,"__esModule",{value:!0});ef.PrevArrow=ef.NextArrow=void 0;var Cc=YF(G),KF=YF(gf),GZ=Ke;function YF(n){return n&&n.__esModule?n:{default:n}}function nv(){return nv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nv.apply(this,arguments)}function DP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function iv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(t),!0).forEach(function(i){VZ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VZ(n,e,t){return e=ZF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function WZ(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ZF(i.key),i)}}function qF(n,e,t){return e&&WZ(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ZF(n){var e=jZ(n,"string");return tf(e)=="symbol"?e:String(e)}function jZ(n,e){if(tf(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(tf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function $F(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pA(n,e)}function pA(n,e){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},pA(n,e)}function eN(n){var e=tN();return function(){var i=rv(n),r;if(e){var s=rv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return XZ(this,r)}}function XZ(n,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JZ(n)}function JZ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tN(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tN=function(){return!!n})()}function rv(n){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rv(n)}ef.PrevArrow=function(n){$F(t,n);var e=eN(t);function t(){return QF(this,t),e.apply(this,arguments)}return qF(t,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,KF.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Cc.default.cloneElement(this.props.prevArrow,iv(iv({},o),a)):l=Cc.default.createElement("button",nv({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(Cc.default.PureComponent);ef.NextArrow=function(n){$F(t,n);var e=eN(t);function t(){return QF(this,t),e.apply(this,arguments)}return qF(t,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,GZ.canGoNext)(this.props)||(r["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,KF.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Cc.default.cloneElement(this.props.nextArrow,iv(iv({},o),a)):l=Cc.default.createElement("button",nv({key:"1",type:"button"},o)," ","Next"),l}}]),t}(Cc.default.PureComponent);var nN=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,s){return r[0]===t?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,s=this.__entries__;r<s.length;r++){var o=s[r];t.call(i,o[1],o[0])}},e}()}(),mA=typeof window<"u"&&typeof document<"u"&&window.document===document,sv=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),KZ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(sv):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),YZ=2;function QZ(n,e){var t=!1,i=!1,r=0;function s(){t&&(t=!1,n()),i&&a()}function o(){KZ(s)}function a(){var l=Date.now();if(t){if(l-r<YZ)return;i=!0}else t=!0,i=!1,setTimeout(o,e);r=l}return a}var qZ=20,ZZ=["top","right","bottom","left","width","height","size","weight"],$Z=typeof MutationObserver<"u",e$=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=QZ(this.refresh.bind(this),qZ)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!mA||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$Z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!mA||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=ZZ.some(function(s){return!!~i.indexOf(s)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),iN=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},nf=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||sv},rN=yy(0,0,0,0);function ov(n){return parseFloat(n)||0}function LP(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var s=n["border-"+r+"-width"];return i+ov(s)},0)}function t$(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var s=r[i],o=n["padding-"+s];t[s]=ov(o)}return t}function n$(n){var e=n.getBBox();return yy(0,0,e.width,e.height)}function i$(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return rN;var i=nf(n).getComputedStyle(n),r=t$(i),s=r.left+r.right,o=r.top+r.bottom,a=ov(i.width),l=ov(i.height);if(i.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=LP(i,"left","right")+s),Math.round(l+o)!==t&&(l-=LP(i,"top","bottom")+o)),!s$(n)){var u=Math.round(a+s)-e,d=Math.round(l+o)-t;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return yy(r.left,r.top,a,l)}var r$=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof nf(n).SVGGraphicsElement}:function(n){return n instanceof nf(n).SVGElement&&typeof n.getBBox=="function"}}();function s$(n){return n===nf(n).document.documentElement}function o$(n){return mA?r$(n)?n$(n):i$(n):rN}function a$(n){var e=n.x,t=n.y,i=n.width,r=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return iN(o,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),o}function yy(n,e,t,i){return{x:n,y:e,width:t,height:i}}var l$=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=yy(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=o$(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),u$=function(){function n(e,t){var i=a$(t);iN(this,{target:e,contentRect:i})}return n}(),c$=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new nN,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new l$(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new u$(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),sN=typeof WeakMap<"u"?new WeakMap:new nN,oN=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=e$.getInstance(),i=new c$(e,t,this);sN.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){oN.prototype[n]=function(){var e;return(e=sN.get(this))[n].apply(e,arguments)}});var f$=function(){return typeof sv.ResizeObserver<"u"?sv.ResizeObserver:oN}();const d$=Object.freeze(Object.defineProperty({__proto__:null,default:f$},Symbol.toStringTag,{value:"Module"})),h$=WP(d$);Object.defineProperty(my,"__esModule",{value:!0});my.InnerSlider=void 0;var Ki=Yh(G),p$=Yh(BF),m$=Yh(sZ),g$=Yh(gf),Ln=Ke,v$=gy,y$=vy,OP=ef,x$=Yh(h$);function Yh(n){return n&&n.__esModule?n:{default:n}}function eu(n){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(n)}function av(){return av=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},av.apply(this,arguments)}function _$(n,e){if(n==null)return{};var t=S$(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function S$(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function FP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Dt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(t),!0).forEach(function(i){Zt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function A$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function M$(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,lN(i.key),i)}}function w$(n,e,t){return e&&M$(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function E$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gA(n,e)}function gA(n,e){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},gA(n,e)}function T$(n){var e=aN();return function(){var i=lv(n),r;if(e){var s=lv(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return C$(this,r)}}function C$(n,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(n)}function qt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function aN(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aN=function(){return!!n})()}function lv(n){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lv(n)}function Zt(n,e,t){return e=lN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lN(n){var e=b$(n,"string");return eu(e)=="symbol"?e:String(e)}function b$(n,e){if(eu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(eu(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}my.InnerSlider=function(n){E$(t,n);var e=T$(t);function t(i){var r;A$(this,t),r=e.call(this,i),Zt(qt(r),"listRefHandler",function(o){return r.list=o}),Zt(qt(r),"trackRefHandler",function(o){return r.track=o}),Zt(qt(r),"adaptHeight",function(){if(r.props.adaptiveHeight&&r.list){var o=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=(0,Ln.getHeight)(o)+"px"}}),Zt(qt(r),"componentDidMount",function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var o=(0,Ln.getOnDemandLazySlides)(Dt(Dt({},r.props),r.state));o.length>0&&(r.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o))}var a=Dt({listRef:r.list,trackRef:r.track},r.props);r.updateState(a,!0,function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("update")}),r.props.lazyLoad==="progressive"&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new x$.default(function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout(function(){return r.onWindowResized()},r.props.speed))):r.onWindowResized()}),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,l.onblur=r.props.pauseOnFocus?r.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)}),Zt(qt(r),"componentWillUnmount",function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach(function(o){return clearTimeout(o)}),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()}),Zt(qt(r),"componentDidUpdate",function(o){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var a=(0,Ln.getOnDemandLazySlides)(Dt(Dt({},r.props),r.state));a.length>0&&(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),r.props.onLazyLoad&&r.props.onLazyLoad(a))}r.adaptHeight();var l=Dt(Dt({listRef:r.list,trackRef:r.track},r.props),r.state),u=r.didPropsChange(o);u&&r.updateState(l,u,function(){r.state.currentSlide>=Ki.default.Children.count(r.props.children)&&r.changeSlide({message:"index",index:Ki.default.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),r.props.autoplay?r.autoPlay("update"):r.pause("paused")})}),Zt(qt(r),"onWindowResized",function(o){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=(0,m$.default)(function(){return r.resizeWindow(o)},50),r.debouncedResize()}),Zt(qt(r),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(r.track&&r.track.node);if(a){var l=Dt(Dt({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(l,o,function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")}),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}}),Zt(qt(r),"updateState",function(o,a,l){var u=(0,Ln.initializedState)(o);o=Dt(Dt(Dt({},o),u),{},{slideIndex:u.currentSlide});var d=(0,Ln.getTrackLeft)(o);o=Dt(Dt({},o),{},{left:d});var h=(0,Ln.getTrackCSS)(o);(a||Ki.default.Children.count(r.props.children)!==Ki.default.Children.count(o.children))&&(u.trackStyle=h),r.setState(u,l)}),Zt(qt(r),"ssrInit",function(){if(r.props.variableWidth){var o=0,a=0,l=[],u=(0,Ln.getPreClones)(Dt(Dt(Dt({},r.props),r.state),{},{slideCount:r.props.children.length})),d=(0,Ln.getPostClones)(Dt(Dt(Dt({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach(function(b){l.push(b.props.style.width),o+=b.props.style.width});for(var h=0;h<u;h++)a+=l[l.length-1-h],o+=l[l.length-1-h];for(var p=0;p<d;p++)o+=l[p];for(var m=0;m<r.state.currentSlide;m++)a+=l[m];var v={width:o+"px",left:-a+"px"};if(r.props.centerMode){var _="".concat(l[r.state.currentSlide],"px");v.left="calc(".concat(v.left," + (100% - ").concat(_,") / 2 ) ")}return{trackStyle:v}}var x=Ki.default.Children.count(r.props.children),g=Dt(Dt(Dt({},r.props),r.state),{},{slideCount:x}),S=(0,Ln.getPreClones)(g)+(0,Ln.getPostClones)(g)+x,A=100/r.props.slidesToShow*S,w=100/S,C=-w*((0,Ln.getPreClones)(g)+r.state.currentSlide)*A/100;r.props.centerMode&&(C+=(100-w*A/100)/2);var P={width:A+"%",left:C+"%"};return{slideWidth:w+"%",trackStyle:P}}),Zt(qt(r),"checkImagesLoad",function(){var o=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var d=function(){return++l&&l>=a&&r.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(p){h(p),u.parentNode.focus()}}u.onload||(r.props.lazyLoad?u.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(u.onload=d,u.onerror=function(){d(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))})}),Zt(qt(r),"progressiveLazyLoad",function(){for(var o=[],a=Dt(Dt({},r.props),r.state),l=r.state.currentSlide;l<r.state.slideCount+(0,Ln.getPostClones)(a);l++)if(r.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=r.state.currentSlide-1;u>=-(0,Ln.getPreClones)(a);u--)if(r.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)}),Zt(qt(r),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=r.props,u=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,p=l.speed,m=l.afterChange,v=r.state.currentSlide,_=(0,Ln.slideHandler)(Dt(Dt(Dt({index:o},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!a})),x=_.state,g=_.nextState;if(x){d&&d(v,x.currentSlide);var S=x.lazyLoadedList.filter(function(A){return r.state.lazyLoadedList.indexOf(A)<0});h&&S.length>0&&h(S),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),m&&m(v),delete r.animationEndCallback),r.setState(x,function(){u&&r.asNavForIndex!==o&&(r.asNavForIndex=o,u.innerSlider.slideHandler(o)),g&&(r.animationEndCallback=setTimeout(function(){var A=g.animating,w=_$(g,["animating"]);r.setState(w,function(){r.callbackTimers.push(setTimeout(function(){return r.setState({animating:A})},10)),m&&m(x.currentSlide),delete r.animationEndCallback})},p))})}}),Zt(qt(r),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=Dt(Dt({},r.props),r.state),u=(0,Ln.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?r.slideHandler(u,a):r.slideHandler(u),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var d=r.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),Zt(qt(r),"clickHandler",function(o){r.clickable===!1&&(o.stopPropagation(),o.preventDefault()),r.clickable=!0}),Zt(qt(r),"keyHandler",function(o){var a=(0,Ln.keyHandler)(o,r.props.accessibility,r.props.rtl);a!==""&&r.changeSlide({message:a})}),Zt(qt(r),"selectHandler",function(o){r.changeSlide(o)}),Zt(qt(r),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Zt(qt(r),"enableBodyScroll",function(){window.ontouchmove=null}),Zt(qt(r),"swipeStart",function(o){r.props.verticalSwiping&&r.disableBodyScroll();var a=(0,Ln.swipeStart)(o,r.props.swipe,r.props.draggable);a!==""&&r.setState(a)}),Zt(qt(r),"swipeMove",function(o){var a=(0,Ln.swipeMove)(o,Dt(Dt(Dt({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));a&&(a.swiping&&(r.clickable=!1),r.setState(a))}),Zt(qt(r),"swipeEnd",function(o){var a=(0,Ln.swipeEnd)(o,Dt(Dt(Dt({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,r.setState(a),l!==void 0&&(r.slideHandler(l),r.props.verticalSwiping&&r.enableBodyScroll())}}),Zt(qt(r),"touchEnd",function(o){r.swipeEnd(o),r.clickable=!0}),Zt(qt(r),"slickPrev",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"previous"})},0))}),Zt(qt(r),"slickNext",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"next"})},0))}),Zt(qt(r),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"index",index:o,currentSlide:r.state.currentSlide},a)},0))}),Zt(qt(r),"play",function(){var o;if(r.props.rtl)o=r.state.currentSlide-r.props.slidesToScroll;else if((0,Ln.canGoNext)(Dt(Dt({},r.props),r.state)))o=r.state.currentSlide+r.props.slidesToScroll;else return!1;r.slideHandler(o)}),Zt(qt(r),"autoPlay",function(o){r.autoplayTimer&&clearInterval(r.autoplayTimer);var a=r.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})}),Zt(qt(r),"pause",function(o){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var a=r.state.autoplaying;o==="paused"?r.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&r.setState({autoplaying:"focused"}):a==="playing"&&r.setState({autoplaying:"hovered"})}),Zt(qt(r),"onDotsOver",function(){return r.props.autoplay&&r.pause("hovered")}),Zt(qt(r),"onDotsLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Zt(qt(r),"onTrackOver",function(){return r.props.autoplay&&r.pause("hovered")}),Zt(qt(r),"onTrackLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Zt(qt(r),"onSlideFocus",function(){return r.props.autoplay&&r.pause("focused")}),Zt(qt(r),"onSlideBlur",function(){return r.props.autoplay&&r.state.autoplaying==="focused"&&r.autoPlay("blur")}),Zt(qt(r),"render",function(){var o=(0,g$.default)("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),a=Dt(Dt({},r.props),r.state),l=(0,Ln.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=r.props.pauseOnHover;l=Dt(Dt({},l),{},{onMouseEnter:u?r.onTrackOver:null,onMouseLeave:u?r.onTrackLeave:null,onMouseOver:u?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null});var d;if(r.props.dots===!0&&r.state.slideCount>=r.props.slidesToShow){var h=(0,Ln.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=r.props.pauseOnDotsHover;h=Dt(Dt({},h),{},{clickHandler:r.changeSlide,onMouseEnter:p?r.onDotsLeave:null,onMouseOver:p?r.onDotsOver:null,onMouseLeave:p?r.onDotsLeave:null}),d=Ki.default.createElement(y$.Dots,h)}var m,v,_=(0,Ln.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);_.clickHandler=r.changeSlide,r.props.arrows&&(m=Ki.default.createElement(OP.PrevArrow,_),v=Ki.default.createElement(OP.NextArrow,_));var x=null;r.props.vertical&&(x={height:r.state.listHeight});var g=null;r.props.vertical===!1?r.props.centerMode===!0&&(g={padding:"0px "+r.props.centerPadding}):r.props.centerMode===!0&&(g={padding:r.props.centerPadding+" 0px"});var S=Dt(Dt({},x),g),A=r.props.touchMove,w={className:"slick-list",style:S,onClick:r.clickHandler,onMouseDown:A?r.swipeStart:null,onMouseMove:r.state.dragging&&A?r.swipeMove:null,onMouseUp:A?r.swipeEnd:null,onMouseLeave:r.state.dragging&&A?r.swipeEnd:null,onTouchStart:A?r.swipeStart:null,onTouchMove:r.state.dragging&&A?r.swipeMove:null,onTouchEnd:A?r.touchEnd:null,onTouchCancel:r.state.dragging&&A?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},C={className:o,dir:"ltr",style:r.props.style};return r.props.unslick&&(w={className:"slick-list"},C={className:o}),Ki.default.createElement("div",C,r.props.unslick?"":m,Ki.default.createElement("div",av({ref:r.listRefHandler},w),Ki.default.createElement(v$.Track,av({ref:r.trackRefHandler},l),r.props.children)),r.props.unslick?"":v,r.props.unslick?"":d)}),r.list=null,r.track=null,r.state=Dt(Dt({},p$.default),{},{currentSlide:r.props.initialSlide,targetSlide:r.props.initialSlide?r.props.initialSlide:0,slideCount:Ki.default.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var s=r.ssrInit();return r.state=Dt(Dt({},r.state),s),r}return w$(t,[{key:"didPropsChange",value:function(r){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!r.hasOwnProperty(l)){s=!0;break}if(!(eu(r[l])==="object"||typeof r[l]=="function"||isNaN(r[l]))&&r[l]!==this.props[l]){s=!0;break}}return s||Ki.default.Children.count(this.props.children)!==Ki.default.Children.count(r.children)}}]),t}(Ki.default.Component);var R$=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},P$=R$,I$=P$,B$=function(n){var e=/[height|width]$/;return e.test(n)},NP=function(n){var e="",t=Object.keys(n);return t.forEach(function(i,r){var s=n[i];i=I$(i),B$(i)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=i:s===!1?e+="not "+i:e+="("+i+": "+s+")",r<t.length-1&&(e+=" and ")}),e},D$=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,i){e+=NP(t),i<n.length-1&&(e+=", ")}),e):NP(n)},L$=D$,xS,UP;function O$(){if(UP)return xS;UP=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},xS=n,xS}var _S,kP;function uN(){if(kP)return _S;kP=1;function n(i,r){var s=0,o=i.length,a;for(s;s<o&&(a=r(i[s],s),a!==!1);s++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return _S={isFunction:t,isArray:e,each:n},_S}var SS,zP;function F$(){if(zP)return SS;zP=1;var n=O$(),e=uN().each;function t(i,r){this.query=i,this.isUnconditional=r,this.handlers=[],this.mql=window.matchMedia(i);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var r=new n(i);this.handlers.push(r),this.matches()&&r.on()},removeHandler:function(i){var r=this.handlers;e(r,function(s,o){if(s.equals(i))return s.destroy(),!r.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(r){r[i]()})}},SS=t,SS}var AS,HP;function N$(){if(HP)return AS;HP=1;var n=F$(),e=uN(),t=e.each,i=e.isFunction,r=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,d=l&&this.browserIsIncapable;return u[o]||(u[o]=new n(o,d)),i(a)&&(a={match:a}),r(a)||(a=[a]),t(a,function(h){i(h)&&(h={match:h}),u[o].addHandler(h)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},AS=s,AS}var MS,GP;function U$(){if(GP)return MS;GP=1;var n=N$();return MS=new n,MS}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(G),t=my,i=o(L$),r=o(qw),s=Ke;function o(R){return R&&R.__esModule?R:{default:R}}function a(R){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},a(R)}function l(){return l=Object.assign?Object.assign.bind():function(R){for(var T=1;T<arguments.length;T++){var D=arguments[T];for(var z in D)Object.prototype.hasOwnProperty.call(D,z)&&(R[z]=D[z])}return R},l.apply(this,arguments)}function u(R,T){var D=Object.keys(R);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(R);T&&(z=z.filter(function(V){return Object.getOwnPropertyDescriptor(R,V).enumerable})),D.push.apply(D,z)}return D}function d(R){for(var T=1;T<arguments.length;T++){var D=arguments[T]!=null?arguments[T]:{};T%2?u(Object(D),!0).forEach(function(z){C(R,z,D[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(D)):u(Object(D)).forEach(function(z){Object.defineProperty(R,z,Object.getOwnPropertyDescriptor(D,z))})}return R}function h(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function p(R,T){for(var D=0;D<T.length;D++){var z=T[D];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,P(z.key),z)}}function m(R,T,D){return T&&p(R.prototype,T),Object.defineProperty(R,"prototype",{writable:!1}),R}function v(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),T&&_(R,T)}function _(R,T){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},_(R,T)}function x(R){var T=A();return function(){var z=w(R),V;if(T){var J=w(this).constructor;V=Reflect.construct(z,arguments,J)}else V=z.apply(this,arguments);return g(this,V)}}function g(R,T){if(T&&(a(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(R)}function S(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function A(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!R})()}function w(R){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},w(R)}function C(R,T,D){return T=P(T),T in R?Object.defineProperty(R,T,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[T]=D,R}function P(R){var T=b(R,"string");return a(T)=="symbol"?T:String(T)}function b(R,T){if(a(R)!="object"||!R)return R;var D=R[Symbol.toPrimitive];if(D!==void 0){var z=D.call(R,T);if(a(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(R)}var B=(0,s.canUseDOM)()&&U$();n.default=function(R){v(D,R);var T=x(D);function D(z){var V;return h(this,D),V=T.call(this,z),C(S(V),"innerSliderRefHandler",function(J){return V.innerSlider=J}),C(S(V),"slickPrev",function(){return V.innerSlider.slickPrev()}),C(S(V),"slickNext",function(){return V.innerSlider.slickNext()}),C(S(V),"slickGoTo",function(J){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return V.innerSlider.slickGoTo(J,ne)}),C(S(V),"slickPause",function(){return V.innerSlider.pause("paused")}),C(S(V),"slickPlay",function(){return V.innerSlider.autoPlay("play")}),V.state={breakpoint:null},V._responsiveMediaHandlers=[],V}return m(D,[{key:"media",value:function(V,J){B.register(V,J),this._responsiveMediaHandlers.push({query:V,handler:J})}},{key:"componentDidMount",value:function(){var V=this;if(this.props.responsive){var J=this.props.responsive.map(function(ie){return ie.breakpoint});J.sort(function(ie,re){return ie-re}),J.forEach(function(ie,re){var F;re===0?F=(0,i.default)({minWidth:0,maxWidth:ie}):F=(0,i.default)({minWidth:J[re-1]+1,maxWidth:ie}),(0,s.canUseDOM)()&&V.media(F,function(){V.setState({breakpoint:ie})})});var ne=(0,i.default)({minWidth:J.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(ne,function(){V.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(V){B.unregister(V.query,V.handler)})}},{key:"render",value:function(){var V=this,J,ne;this.state.breakpoint?(ne=this.props.responsive.filter(function(se){return se.breakpoint===V.state.breakpoint}),J=ne[0].settings==="unslick"?"unslick":d(d(d({},r.default),this.props),ne[0].settings)):J=d(d({},r.default),this.props),J.centerMode&&(J.slidesToScroll>1,J.slidesToScroll=1),J.fade&&(J.slidesToShow>1,J.slidesToScroll>1,J.slidesToShow=1,J.slidesToScroll=1);var ie=e.default.Children.toArray(this.props.children);ie=ie.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),J.variableWidth&&(J.rows>1||J.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),J.variableWidth=!1);for(var re=[],F=null,K=0;K<ie.length;K+=J.rows*J.slidesPerRow){for(var Y=[],ae=K;ae<K+J.rows*J.slidesPerRow;ae+=J.slidesPerRow){for(var _e=[],De=ae;De<ae+J.slidesPerRow&&(J.variableWidth&&ie[De].props.style&&(F=ie[De].props.style.width),!(De>=ie.length));De+=1)_e.push(e.default.cloneElement(ie[De],{key:100*K+10*ae+De,tabIndex:-1,style:{width:"".concat(100/J.slidesPerRow,"%"),display:"inline-block"}}));Y.push(e.default.createElement("div",{key:10*K+ae},_e))}J.variableWidth?re.push(e.default.createElement("div",{key:K,style:{width:F}},Y)):re.push(e.default.createElement("div",{key:K},Y))}if(J==="unslick"){var it="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:it},ie)}else re.length<=J.slidesToShow&&!J.infinite&&(J.unslick=!0);return e.default.createElement(t.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(J)),re)}}]),D}(e.default.Component)})(IF);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(IF);function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default})(PF);const k$=uv(PF),z$=[{id:1,title:"Tourist Map of North Carolina",file:"/pdfs/nc.pdf",description:"Spring 2025, ArcGIS Pro, Adobe Illustrator"},{id:2,title:"Reference Map of the United States",file:"/pdfs/reference.pdf",description:"Spring 2025, Inspired by the 2002 CIA Map, ArcGIS Pro, Adobe Illustrator"},{id:3,title:"World Archery Championships Medals in European Countries",file:"/pdfs/archery.pdf",description:"Spring 2025, World Archery Data, ArcGIS Pro, Adobe Illustrator"},{id:4,title:"Out of the Sky: Boeing 737 Air Disasters & Safety",file:"/pdfs/boeing.pdf",description:"Spring 2025, Aviation Safety Network, ArcGIS Pro, Adobe Illustrator"},{id:5,title:"Siming District Attractions",file:"/pdfs/siming.pdf",description:"Spring 2025, OSM, QGIS, Adobe Illustrator"}],H$=()=>{const n={dots:!0,infinite:!0,speed:500,arrows:!0,slidesToShow:1,slidesToScroll:1,swipe:!0};return me.jsxs("section",{className:"max-container",children:[me.jsxs("h1",{className:"head-text",children:["My"," ",me.jsx("span",{className:"blue-gradient_text drop-shadow font-semibold",children:"Cartography Portfolio"})]}),me.jsx("p",{className:"text-slate-500 mt-2 leading-relaxed",children:"A curated gallery of maps Ive designed while learning and exploring the art of cartography."}),me.jsx("div",{className:"my-20",children:me.jsx(k$,{...n,children:z$.map(e=>me.jsx("div",{className:"px-4",children:me.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[me.jsx("div",{className:"w-full h-[500px]",children:me.jsx("embed",{src:e.file,type:"application/pdf",width:"100%",height:"100%"})}),me.jsxs("div",{className:"p-4",children:[me.jsx("h4",{className:"text-xl font-semibold text-slate-700",children:e.title}),e.description&&me.jsx("p",{className:"mt-2 text-slate-500 text-sm",children:e.description})]})]})},e.id))})}),me.jsx(oz,{})]})},G$=()=>{const n=G.useRef(null),e=G.useRef(null),t=G.useRef(null),i=G.useRef(null),r=G.useRef(null),s=-70,o=a=>{window.scrollTo({top:a.current.offsetTop+s,behavior:"smooth"})};return G.useEffect(()=>{window.scrollTo(0,0)},[]),me.jsxs("main",{children:[me.jsx(SX,{scrollToSection:o,refs:{homeRef:n,aboutRef:e,projectsRef:t,contactRef:i,portfolioRef:r}}),me.jsx("section",{ref:n,className:"neo-brutalism-white pt-0",children:me.jsx(wq,{})}),me.jsx("section",{ref:e,className:"neo-brutalism-white pt-0",children:me.jsx(zq,{})}),me.jsx("section",{ref:t,className:"neo-brutalism-white mb-0",children:me.jsx(Hq,{})}),me.jsx("section",{ref:r,className:"neo-brutalism-white mb-0",children:me.jsx(H$,{})}),me.jsx(KX,{})]})},V$=j5([{path:"/",element:me.jsx(G$,{})}],{future:{v7_startTransition:!0}});wS.createRoot(document.getElementById("root")).render(me.jsx(t3.StrictMode,{children:me.jsx(ez,{router:V$})}));
